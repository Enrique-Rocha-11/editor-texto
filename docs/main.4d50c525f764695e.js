"use strict";(self.webpackChunkeditor_texto=self.webpackChunkeditor_texto||[]).push([[179],{372:()=>{function de(t){return"function"==typeof t}function Os(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Rl=Os(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Rs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Lt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(de(r))try{r()}catch(o){e=o instanceof Rl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{My(o)}catch(s){e=e??[],s instanceof Rl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)My(e);else{if(e instanceof Lt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Rs(n,e)}remove(e){const{_finalizers:n}=this;n&&Rs(n,e),e instanceof Lt&&e._removeParent(this)}}Lt.EMPTY=(()=>{const t=new Lt;return t.closed=!0,t})();const by=Lt.EMPTY;function Ey(t){return t instanceof Lt||t&&"closed"in t&&de(t.remove)&&de(t.add)&&de(t.unsubscribe)}function My(t){de(t)?t():t.unsubscribe()}const fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Pl={setTimeout(t,e,...n){const{delegate:r}=Pl;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Pl;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Sy(t){Pl.setTimeout(()=>{const{onUnhandledError:e}=fi;if(!e)throw t;e(t)})}function $d(){}const sT=Ud("C",void 0,void 0);function Ud(t,e,n){return{kind:t,value:e,error:n}}let hi=null;function Fl(t){if(fi.useDeprecatedSynchronousErrorHandling){const e=!hi;if(e&&(hi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=hi;if(hi=null,n)throw r}}else t()}class zd extends Lt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ey(e)&&e.add(this)):this.destination=hT}static create(e,n,r){return new Ps(e,n,r)}next(e){this.isStopped?qd(function lT(t){return Ud("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qd(function aT(t){return Ud("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qd(sT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const uT=Function.prototype.bind;function Gd(t,e){return uT.call(t,e)}class dT{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ll(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ll(r)}else Ll(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ll(n)}}}class Ps extends zd{constructor(e,n,r){let i;if(super(),de(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fi.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Gd(e.next,o),error:e.error&&Gd(e.error,o),complete:e.complete&&Gd(e.complete,o)}):i=e}this.destination=new dT(i)}}function Ll(t){fi.useDeprecatedSynchronousErrorHandling?function cT(t){fi.useDeprecatedSynchronousErrorHandling&&hi&&(hi.errorThrown=!0,hi.error=t)}(t):Sy(t)}function qd(t,e){const{onStoppedNotification:n}=fi;n&&Pl.setTimeout(()=>n(t,e))}const hT={closed:!0,next:$d,error:function fT(t){throw t},complete:$d},Wd="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ar(t){return t}function Iy(t){return 0===t.length?Ar:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function mT(t){return t&&t instanceof zd||function gT(t){return t&&de(t.next)&&de(t.error)&&de(t.complete)}(t)&&Ey(t)}(n)?n:new Ps(n,r,i);return Fl(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=xy(r))((i,o)=>{const s=new Ps({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Wd](){return this}pipe(...n){return Iy(n)(this)}toPromise(n){return new(n=xy(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function xy(t){var e;return null!==(e=t??fi.Promise)&&void 0!==e?e:Promise}const yT=Os(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dt=(()=>{class t extends Te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Ty(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new yT}next(n){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?by:(this.currentObservers=null,o.push(n),new Lt(()=>{this.currentObservers=null,Rs(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Te;return n.source=this,n}}return t.create=(e,n)=>new Ty(e,n),t})();class Ty extends dt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:by}}function Ny(t){return de(t?.lift)}function Ve(t){return e=>{if(Ny(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(t,e,n,r,i){return new vT(t,e,n,r,i)}class vT extends zd{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function re(t,e){return Ve((n,r)=>{let i=0;n.subscribe(Re(r,o=>{r.next(t.call(e,o,i++))}))})}function kr(t){return this instanceof kr?(this.v=t,this):new kr(t)}function Ry(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Yd(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=t[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Py=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function Fy(t){return de(t?.then)}function Ly(t){return de(t[Wd])}function Vy(t){return Symbol.asyncIterator&&de(t?.[Symbol.asyncIterator])}function By(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hy=function HT(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jy(t){return de(t?.[Hy])}function $y(t){return function Oy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){r[f]&&(i[f]=function(h){return new Promise(function(p,g){o.push([f,h,p,g])>1||a(f,h)})})}function a(f,h){try{!function l(f){f.value instanceof kr?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}(r[f](h))}catch(p){d(o[0][3],p)}}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield kr(n.read());if(i)return yield kr(void 0);yield yield kr(r)}}finally{n.releaseLock()}})}function Uy(t){return de(t?.getReader)}function Vt(t){if(t instanceof Te)return t;if(null!=t){if(Ly(t))return function jT(t){return new Te(e=>{const n=t[Wd]();if(de(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Py(t))return function $T(t){return new Te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(Fy(t))return function UT(t){return new Te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Sy)})}(t);if(Vy(t))return zy(t);if(jy(t))return function zT(t){return new Te(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Uy(t))return function GT(t){return zy($y(t))}(t)}throw By(t)}function zy(t){return new Te(e=>{(function qT(t,e){var n,r,i,o;return function Ay(t,e,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Ry(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function or(t,e,n,r=0,i=!1){const o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ge(t,e,n=1/0){return de(e)?Ge((r,i)=>re((o,s)=>e(r,o,i,s))(Vt(t(r,i))),n):("number"==typeof e&&(n=e),Ve((r,i)=>function WT(t,e,n,r,i,o,s,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&e.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let m=!1;Vt(n(g,u++)).subscribe(Re(e,y=>{i?.(y),o?h(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const y=l.shift();s?or(e,s,()=>p(y)):p(y)}f()}catch(y){e.error(y)}}))};return t.subscribe(Re(e,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function no(t=1/0){return Ge(Ar,t)}const xn=new Te(t=>t.complete());function Qd(t){return t[t.length-1]}function Gy(t){return de(Qd(t))?t.pop():void 0}function Fs(t){return function KT(t){return t&&de(t.schedule)}(Qd(t))?t.pop():void 0}function qy(t,e=0){return Ve((n,r)=>{n.subscribe(Re(r,i=>or(r,t,()=>r.next(i),e),()=>or(r,t,()=>r.complete(),e),i=>or(r,t,()=>r.error(i),e)))})}function Wy(t,e=0){return Ve((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jy(t,e){if(!t)throw new Error("Iterable cannot be null");return new Te(n=>{or(n,e,()=>{const r=t[Symbol.asyncIterator]();or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Be(t,e){return e?function nN(t,e){if(null!=t){if(Ly(t))return function YT(t,e){return Vt(t).pipe(Wy(e),qy(e))}(t,e);if(Py(t))return function XT(t,e){return new Te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(Fy(t))return function QT(t,e){return Vt(t).pipe(Wy(e),qy(e))}(t,e);if(Vy(t))return Jy(t,e);if(jy(t))return function eN(t,e){return new Te(n=>{let r;return or(n,e,()=>{r=t[Hy](),or(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>de(r?.return)&&r.return()})}(t,e);if(Uy(t))return function tN(t,e){return Jy($y(t),e)}(t,e)}throw By(t)}(t,e):Vt(t)}class Yt extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function O(...t){return Be(t,Fs(t))}function Ky(t={}){const{connector:e=(()=>new dt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{const g=s;h(),g?.unsubscribe()};return Ve((g,m)=>{c++,!d&&!u&&f();const y=l=l??e();m.add(()=>{c--,0===c&&!d&&!u&&(a=Xd(p,i))}),y.subscribe(m),!s&&c>0&&(s=new Ps({next:v=>y.next(v),error:v=>{d=!0,f(),a=Xd(h,n,v),y.error(v)},complete:()=>{u=!0,f(),a=Xd(h,r),y.complete()}}),Vt(g).subscribe(s))})(o)}}function Xd(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ps({next:()=>{r.unsubscribe(),t()}});return Vt(e(...n)).subscribe(r)}function fn(t,e){return Ve((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Re(r,l=>{i?.unsubscribe();let c=0;const u=o++;Vt(t(l,u)).subscribe(i=Re(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function oN(t,e){return t===e}function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function Vl(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function He(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(He).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function ef(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const sN=ae({__forward_ref__:ae});function fe(t){return t.__forward_ref__=fe,t.toString=function(){return He(this())},t}function L(t){return tf(t)?t():t}function tf(t){return"function"==typeof t&&t.hasOwnProperty(sN)&&t.__forward_ref__===fe}function nf(t){return t&&!!t.\u0275providers}const Zy="https://g.co/ng/security#xss";class D extends Error{constructor(e,n){super(function Bl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function H(t){return"string"==typeof t?t:null==t?"":String(t)}function rf(t,e){throw new D(-201,!1)}function Qt(t,e){null==t&&function R(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hl(t){return Yy(t,$l)||Yy(t,Qy)}function Yy(t,e){return t.hasOwnProperty(e)?t[e]:null}function jl(t){return t&&(t.hasOwnProperty(sf)||t.hasOwnProperty(pN))?t[sf]:null}const $l=ae({\u0275prov:ae}),sf=ae({\u0275inj:ae}),Qy=ae({ngInjectableDef:ae}),pN=ae({ngInjectorDef:ae});var K=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(K||{});let af;function Tt(t){const e=af;return af=t,e}function ev(t,e,n){const r=Hl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&K.Optional?null:void 0!==e?e:void rf(He(t))}const ge=globalThis;class M{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ls={},ff="__NG_DI_FLAG__",Ul="ngTempTokenPath",yN=/\n/gm,nv="__source";let ro;function Or(t){const e=ro;return ro=t,e}function CN(t,e=K.Default){if(void 0===ro)throw new D(-203,!1);return null===ro?ev(t,void 0,e):ro.get(t,e&K.Optional?null:void 0,e)}function N(t,e=K.Default){return(function Xy(){return af}()||CN)(L(t),e)}function S(t,e=K.Default){return N(t,zl(e))}function zl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hf(t){const e=[];for(let n=0;n<t.length;n++){const r=L(t[n]);if(Array.isArray(r)){if(0===r.length)throw new D(900,!1);let i,o=K.Default;for(let s=0;s<r.length;s++){const a=r[s],l=DN(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function Vs(t,e){return t[ff]=e,t.prototype[ff]=e,t}function DN(t){return t[ff]}function sr(t){return{toString:t}.toString()}var Gl=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Gl||{}),hn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hn||{});const Tn={},te=[],ql=ae({\u0275cmp:ae}),pf=ae({\u0275dir:ae}),gf=ae({\u0275pipe:ae}),iv=ae({\u0275mod:ae}),ar=ae({\u0275fac:ae}),Bs=ae({__NG_ELEMENT_ID__:ae}),ov=ae({__NG_ENV_ID__:ae});function sv(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function mf(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{const o=i,s=n[++r];lv(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function av(t){return 3===t||4===t||6===t}function lv(t){return 64===t.charCodeAt(0)}function Hs(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||cv(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function cv(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){const a=t[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}const uv="ng-template";function EN(t,e,n){let r=0,i=!0;for(;r<t.length;){let o=t[r++];if("string"==typeof o&&i){const s=t[r++];if(n&&"class"===o&&-1!==sv(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<t.length&&"string"==typeof(o=t[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function dv(t){return 4===t.type&&t.value!==uv}function MN(t,e,n){return e===(4!==t.type||n?t.value:uv)}function SN(t,e,n){let r=4;const i=t.attrs||[],o=function TN(t){for(let e=0;e<t.length;e++)if(av(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!MN(t,l,n)||""===l&&1===e.length){if(pn(r))return!1;s=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!EN(t.attrs,c,n)){if(pn(r))return!1;s=!0}continue}const d=IN(8&r?"class":l,i,dv(t),n);if(-1===d){if(pn(r))return!1;s=!0;continue}if(""!==c){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==sv(h,c,0)||2&r&&c!==f){if(pn(r))return!1;s=!0}}}}else{if(!s&&!pn(r)&&!pn(l))return!1;if(s&&pn(l))continue;s=!1,r=l|1&r}}return pn(r)||s}function pn(t){return 0==(1&t)}function IN(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){const s=e[i];if(s===t)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function NN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fv(t,e,n=!1){for(let r=0;r<e.length;r++)if(SN(t,e[r],n))return!0;return!1}function AN(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function hv(t,e){return t?":not("+e.trim()+")":e}function kN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!pn(s)&&(e+=hv(o,i),i=""),r=s,o=o||!pn(r);n++}return""!==i&&(e+=hv(o,i)),e}function Ht(t){return sr(()=>{const e=gv(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Gl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hn.Emulated,styles:t.styles||te,_:null,schemas:t.schemas||null,tView:null,id:""};mv(n);const r=t.dependencies;return n.directiveDefs=Wl(r,!1),n.pipeDefs=Wl(r,!0),n.id=function HN(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function FN(t){return Y(t)||qe(t)}function LN(t){return null!==t}function ft(t){return sr(()=>({type:t.type,bootstrap:t.bootstrap||te,declarations:t.declarations||te,imports:t.imports||te,exports:t.exports||te,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function pv(t,e){if(null==t)return Tn;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}function V(t){return sr(()=>{const e=gv(t);return mv(e),e})}function ht(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Y(t){return t[ql]||null}function qe(t){return t[pf]||null}function pt(t){return t[gf]||null}function jt(t,e){const n=t[iv]||null;if(!n&&!0===e)throw new Error(`Type ${He(t)} does not have '\u0275mod' property.`);return n}function gv(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Tn,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||te,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pv(t.inputs,e),outputs:pv(t.outputs)}}function mv(t){t.features?.forEach(e=>e(t))}function Wl(t,e){if(!t)return null;const n=e?pt:FN;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(LN)}const Ie=0,E=1,U=2,be=3,gn=4,js=5,tt=6,oo=7,Ne=8,Rr=9,so=10,j=11,$s=12,yv=13,ao=14,Ae=15,Us=16,lo=17,Nn=18,zs=19,vv=20,Pr=21,lr=22,Gs=23,qs=24,Z=25,yf=1,_v=2,An=7,co=9,We=11;function Nt(t){return Array.isArray(t)&&"object"==typeof t[yf]}function gt(t){return Array.isArray(t)&&!0===t[yf]}function vf(t){return 0!=(4&t.flags)}function gi(t){return t.componentOffset>-1}function Kl(t){return 1==(1&t.flags)}function mn(t){return!!t.template}function _f(t){return 0!=(512&t[U])}function mi(t,e){return t.hasOwnProperty(ar)?t[ar]:null}let Je=null,Zl=!1;function Xt(t){const e=Je;return Je=t,e}const wv={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ev(t){if(!Js(t)||t.dirty){if(!t.producerMustRecompute(t)&&!Iv(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Sv(t){t.dirty=!0,function Mv(t){if(void 0===t.liveConsumerNode)return;const e=Zl;Zl=!0;try{for(const n of t.liveConsumerNode)n.dirty||Sv(n)}finally{Zl=e}}(t),t.consumerMarkedDirty?.(t)}function Df(t){return t&&(t.nextProducerIndex=0),Xt(t)}function wf(t,e){if(Xt(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Js(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Yl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Iv(t){uo(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ev(n),r!==n.version))return!0}return!1}function xv(t){if(uo(t),Js(t))for(let e=0;e<t.producerNode.length;e++)Yl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Yl(t,e){if(function Nv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),uo(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)Yl(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];uo(i),i.producerIndexOfThis[r]=e}}function Js(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function uo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Av=null;function Rv(t){const e=Xt(null);try{return t()}finally{Xt(e)}}const Pv=()=>{},XN=(()=>({...wv,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Pv}))();class eA{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $t(){return Fv}function Fv(t){return t.type.prototype.ngOnChanges&&(t.setInput=nA),tA}function tA(){const t=Vv(this),e=t?.current;if(e){const n=t.previous;if(n===Tn)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nA(t,e,n,r){const i=this.declaredInputs[n],o=Vv(t)||function rA(t,e){return t[Lv]=e}(t,{previous:Tn,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new eA(l&&l.currentValue,e,a===Tn),t[r]=e}$t.ngInherit=!0;const Lv="__ngSimpleChanges__";function Vv(t){return t[Lv]||null}const kn=function(t,e,n){};function me(t){for(;Array.isArray(t);)t=t[Ie];return t}function Ql(t,e){return me(e[t])}function At(t,e){return me(e[t.index])}function jv(t,e){return t.data[e]}function Ut(t,e){const n=e[t];return Nt(n)?n:n[Ie]}function Lr(t,e){return null==e?null:t[e]}function $v(t){t[lo]=0}function cA(t){1024&t[U]||(t[U]|=1024,zv(t,1))}function Uv(t){1024&t[U]&&(t[U]&=-1025,zv(t,-1))}function zv(t,e){let n=t[be];if(null===n)return;n[js]+=e;let r=n;for(n=n[be];null!==n&&(1===e&&1===r[js]||-1===e&&0===r[js]);)n[js]+=e,r=n,n=n[be]}const P={lFrame:t_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wv(){return P.bindingsEnabled}function ho(){return null!==P.skipHydrationRootTNode}function C(){return P.lFrame.lView}function Q(){return P.lFrame.tView}function On(t){return P.lFrame.contextLView=t,t[Ne]}function Rn(t){return P.lFrame.contextLView=null,t}function Ke(){let t=Jv();for(;null!==t&&64===t.type;)t=t.parent;return t}function Jv(){return P.lFrame.currentTNode}function Pn(t,e){const n=P.lFrame;n.currentTNode=t,n.isParent=e}function If(){return P.lFrame.isParent}function xf(){P.lFrame.isParent=!1}function mt(){const t=P.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function po(){return P.lFrame.bindingIndex++}function ur(t){const e=P.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function DA(t,e){const n=P.lFrame;n.bindingIndex=n.bindingRootIndex=t,Tf(e)}function Tf(t){P.lFrame.currentDirectiveIndex=t}function Qv(){return P.lFrame.currentQueryIndex}function Af(t){P.lFrame.currentQueryIndex=t}function bA(t){const e=t[E];return 2===e.type?e.declTNode:1===e.type?t[tt]:null}function Xv(t,e,n){if(n&K.SkipSelf){let i=e,o=t;for(;!(i=i.parent,null!==i||n&K.Host||(i=bA(o),null===i||(o=o[ao],10&i.type))););if(null===i)return!1;e=i,t=o}const r=P.lFrame=e_();return r.currentTNode=e,r.lView=t,!0}function kf(t){const e=e_(),n=t[E];P.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function e_(){const t=P.lFrame,e=null===t?null:t.child;return null===e?t_(t):e}function t_(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function n_(){const t=P.lFrame;return P.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const r_=n_;function Of(){const t=n_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yt(){return P.lFrame.selectedIndex}function yi(t){P.lFrame.selectedIndex=t}function Ee(){const t=P.lFrame;return jv(t.tView,t.selectedIndex)}let o_=!0;function Xl(){return o_}function Vr(t){o_=t}function ec(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function tc(t,e,n){s_(t,e,3,n)}function nc(t,e,n,r){(3&t[U])===n&&s_(t,e,n,r)}function Rf(t,e){let n=t[U];(3&n)===e&&(n&=8191,n+=1,t[U]=n)}function s_(t,e,n,r){const o=r??-1,s=e.length-1;let a=0;for(let l=void 0!==r?65535&t[lo]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[lo]+=65536),(a<o||-1==o)&&(AA(t,n,e,l),t[lo]=(4294901760&t[lo])+l+2),l++}function a_(t,e){kn(4,t,e);const n=Xt(null);try{e.call(t)}finally{Xt(n),kn(5,t,e)}}function AA(t,e,n,r){const i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[U]>>13<t[lo]>>16&&(3&t[U])===e&&(t[U]+=8192,a_(a,o)):a_(a,o)}const go=-1;class Zs{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ff(t){return t!==go}function Ys(t){return 32767&t}function Qs(t,e){let n=function PA(t){return t>>16}(t),r=e;for(;n>0;)r=r[ao],n--;return r}let Lf=!0;function rc(t){const e=Lf;return Lf=t,e}const l_=255,c_=5;let FA=0;const Fn={};function ic(t,e){const n=u_(t,e);if(-1!==n)return n;const r=e[E];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));const i=oc(t,e),o=t.injectorIndex;if(Ff(i)){const s=Ys(i),a=Qs(i,e),l=a[E].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=i,o}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function u_(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function oc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=y_(i),null===r)return go;if(n++,i=i[ao],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return go}function Bf(t,e,n){!function LA(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Bs)&&(r=n[Bs]),null==r&&(r=n[Bs]=FA++);const i=r&l_;e.data[t+(i>>c_)]|=1<<i}(t,e,n)}function d_(t,e,n){if(n&K.Optional||void 0!==t)return t;rf()}function f_(t,e,n,r){if(n&K.Optional&&void 0===r&&(r=null),!(n&(K.Self|K.Host))){const i=t[Rr],o=Tt(void 0);try{return i?i.get(e,r,n&K.Optional):ev(e,r,n&K.Optional)}finally{Tt(o)}}return d_(r,0,n)}function h_(t,e,n,r=K.Default,i){if(null!==t){if(2048&e[U]&&!(r&K.Self)){const s=function UA(t,e,n,r,i){let o=t,s=e;for(;null!==o&&null!==s&&2048&s[U]&&!(512&s[U]);){const a=p_(o,s,n,r|K.Self,Fn);if(a!==Fn)return a;let l=o.parent;if(!l){const c=s[vv];if(c){const u=c.get(n,Fn,r);if(u!==Fn)return u}l=y_(s),s=s[ao]}o=l}return i}(t,e,n,r,Fn);if(s!==Fn)return s}const o=p_(t,e,n,r,Fn);if(o!==Fn)return o}return f_(e,n,r,i)}function p_(t,e,n,r,i){const o=function HA(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Bs)?t[Bs]:void 0;return"number"==typeof e?e>=0?e&l_:$A:e}(n);if("function"==typeof o){if(!Xv(e,t,r))return r&K.Host?d_(i,0,r):f_(e,n,r,i);try{let s;if(s=o(r),null!=s||r&K.Optional)return s;rf()}finally{r_()}}else if("number"==typeof o){let s=null,a=u_(t,e),l=go,c=r&K.Host?e[Ae][tt]:null;for((-1===a||r&K.SkipSelf)&&(l=-1===a?oc(t,e):e[a+8],l!==go&&m_(r,!1)?(s=e[E],a=Ys(l),e=Qs(l,e)):a=-1);-1!==a;){const u=e[E];if(g_(o,a,u.data)){const d=BA(a,e,n,s,r,c);if(d!==Fn)return d}l=e[a+8],l!==go&&m_(r,e[E].data[a+8]===c)&&g_(o,a,e)?(s=u,a=Ys(l),e=Qs(l,e)):a=-1}}return i}function BA(t,e,n,r,i,o){const s=e[E],a=s.data[t+8],u=sc(a,s,n,null==r?gi(a)&&Lf:r!=s&&0!=(3&a.type),i&K.Host&&o===a);return null!==u?vi(e,s,u,a):Fn}function sc(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,f=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<f;h++){const p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){const h=s[l];if(h&&mn(h)&&h.type===n)return l}return null}function vi(t,e,n,r){let i=t[n];const o=e.data;if(function kA(t){return t instanceof Zs}(i)){const s=i;s.resolving&&function aN(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,`Circular dependency in DI detected for ${t}${n}`)}(function se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():H(t)}(o[n]));const a=rc(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Tt(s.injectImpl):null;Xv(t,r,K.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function NA(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=Fv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}(n,o[n],e)}finally{null!==c&&Tt(c),rc(a),s.resolving=!1,r_()}}return i}function g_(t,e,n){return!!(n[e+(t>>c_)]&1<<t)}function m_(t,e){return!(t&K.Self||t&K.Host&&e)}class vt{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return h_(this._tNode,this._lView,e,zl(r),n)}}function $A(){return new vt(Ke(),C())}function Ue(t){return sr(()=>{const e=t.prototype.constructor,n=e[ar]||Hf(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const o=i[ar]||Hf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hf(t){return tf(t)?()=>{const e=Hf(L(t));return e&&e()}:mi(t)}function y_(t){const e=t[E],n=e.type;return 2===n?e.declTNode:1===n?t[tt]:null}const yo="__parameters__";function _o(t,e,n){return sr(()=>{const r=function jf(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(yo)?l[yo]:Object.defineProperty(l,yo,{value:[]})[yo];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Do(t,e){t.forEach(n=>Array.isArray(n)?Do(n,e):e(n))}function __(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ta(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function zt(t,e,n){let r=wo(t,e);return r>=0?t[1|r]=n:(r=~r,function ZA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function $f(t,e){const n=wo(t,e);if(n>=0)return t[1|n]}function wo(t,e){return function C_(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}(t,e,1)}const uc=Vs(_o("Optional"),8),dc=Vs(_o("SkipSelf"),4);function mc(t){return 128==(128&t.flags)}var Br=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Br||{});const yk=/^>|^->|<!--|-->|--!>|<!-$/g,vk=/(<|>)/g,_k="\u200b$1\u200b";const Wf=new Map;let Ck=0;const Kf="__ngContext__";function nt(t,e){Nt(e)?(t[Kf]=e[zs],function wk(t){Wf.set(t[zs],t)}(e)):t[Kf]=e}let Zf;function Yf(t,e){return Zf(t,e)}function ia(t){const e=t[be];return gt(e)?e[be]:e}function H_(t){return $_(t[$s])}function j_(t){return $_(t[gn])}function $_(t){for(;null!==t&&!gt(t);)t=t[gn];return t}function Mo(t,e,n,r,i){if(null!=r){let o,s=!1;gt(r)?o=r:Nt(r)&&(s=!0,r=r[Ie]);const a=me(r);0===t&&null!==n?null==i?q_(e,n,a):_i(e,n,a,i||null,!0):1===t&&null!==n?_i(e,n,a,i||null,!0):2===t?function bc(t,e,n){const r=Dc(t,e);r&&function jk(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function zk(t,e,n,r,i){const o=n[An];o!==me(n)&&Mo(e,t,r,o,i);for(let a=We;a<n.length;a++){const l=n[a];sa(l[E],l,t,e,r,o)}}(e,t,o,n,i)}}function Qf(t,e){return t.createComment(function k_(t){return t.replace(yk,e=>e.replace(vk,_k))}(e))}function _c(t,e,n){return t.createElement(e,n)}function z_(t,e){const n=t[co],r=n.indexOf(e);Uv(e),n.splice(r,1)}function Cc(t,e){if(t.length<=We)return;const n=We+e,r=t[n];if(r){const i=r[Us];null!==i&&i!==t&&z_(i,r),e>0&&(t[n-1][gn]=r[gn]);const o=lc(t,We+e);!function Ok(t,e){sa(t,e,e[j],2,null,null),e[Ie]=null,e[tt]=null}(r[E],r);const s=o[Nn];null!==s&&s.detachView(o[E]),r[be]=null,r[gn]=null,r[U]&=-129}return r}function Xf(t,e){if(!(256&e[U])){const n=e[j];e[Gs]&&xv(e[Gs]),e[qs]&&xv(e[qs]),n.destroyNode&&sa(t,e,n,3,null,null),function Fk(t){let e=t[$s];if(!e)return eh(t[E],t);for(;e;){let n=null;if(Nt(e))n=e[$s];else{const r=e[We];r&&(n=r)}if(!n){for(;e&&!e[gn]&&e!==t;)Nt(e)&&eh(e[E],e),e=e[be];null===e&&(e=t),Nt(e)&&eh(e[E],e),n=e&&e[gn]}e=n}}(e)}}function eh(t,e){if(!(256&e[U])){e[U]&=-129,e[U]|=256,function Hk(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Zs)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];kn(4,a,l);try{l.call(a)}finally{kn(5,a,l)}}else{kn(4,i,o);try{o.call(i)}finally{kn(5,i,o)}}}}}(t,e),function Bk(t,e){const n=t.cleanup,r=e[oo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(e[oo]=null);const i=e[Pr];if(null!==i){e[Pr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(t,e),1===e[E].type&&e[j].destroy();const n=e[Us];if(null!==n&&gt(e[be])){n!==e[be]&&z_(n,e);const r=e[Nn];null!==r&&r.detachView(t)}!function bk(t){Wf.delete(t[zs])}(e)}}function th(t,e,n){return function G_(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Ie];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=t.data[r.directiveStart+i];if(o===hn.None||o===hn.Emulated)return null}return At(r,n)}}(t,e.parent,n)}function _i(t,e,n,r,i){t.insertBefore(e,n,r,i)}function q_(t,e,n){t.appendChild(e,n)}function W_(t,e,n,r,i){null!==r?_i(t,e,n,r,i):q_(t,e,n)}function Dc(t,e){return t.parentNode(e)}function J_(t,e,n){return Z_(t,e,n)}let nh,Ec,sh,Mc,Z_=function K_(t,e,n){return 40&t.type?At(t,n):null};function wc(t,e,n,r){const i=th(t,r,e),o=e[j],a=J_(r.parent||e[tt],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)W_(o,i,n[l],a,!1);else W_(o,i,n,a,!1);void 0!==nh&&nh(o,r,e,n,i)}function oa(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return rh(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return oa(t,r);{const i=t[e.index];return gt(i)?rh(-1,i):me(i)}}if(32&n)return Yf(e,t)()||me(t[e.index]);{const r=Q_(t,e);return null!==r?Array.isArray(r)?r[0]:oa(ia(t[Ae]),r):oa(t,e.next)}}return null}function Q_(t,e){return null!==e?t[Ae][tt].projection[e.projection]:null}function rh(t,e){const n=We+t+1;if(n<e.length){const r=e[n],i=r[E].firstChild;if(null!==i)return oa(r,i)}return e[An]}function ih(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&nt(me(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)ih(t,e,n.child,r,i,o,!1),Mo(e,t,i,a,o);else if(32&l){const c=Yf(n,r);let u;for(;u=c();)Mo(e,t,i,u,o);Mo(e,t,i,a,o)}else 16&l?eC(t,e,r,n,i,o):Mo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function sa(t,e,n,r,i,o){ih(n,r,t.firstChild,e,i,o,!1)}function eC(t,e,n,r,i,o){const s=n[Ae],l=s[tt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Mo(e,t,i,l[c],o);else{let c=l;const u=s[be];mc(r)&&(c.flags|=128),ih(t,e,c,u,i,o,!0)}}function tC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nC(t,e,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&mf(t,e,r),null!==i&&tC(t,e,i),null!==o&&function qk(t,e,n){t.setAttribute(e,"style",n)}(t,e,o)}function So(t){return function oh(){if(void 0===Ec&&(Ec=null,ge.trustedTypes))try{Ec=ge.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ec}()?.createHTML(t)||t}function Io(){if(void 0!==sh)return sh;if(typeof document<"u")return document;throw new D(210,!1)}function rC(t){return function ah(){if(void 0===Mc&&(Mc=null,ge.trustedTypes))try{Mc=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Mc}()?.createHTML(t)||t}class Ci{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Zy})`}}class Yk extends Ci{getTypeName(){return"HTML"}}class Qk extends Ci{getTypeName(){return"Style"}}class Xk extends Ci{getTypeName(){return"Script"}}class eO extends Ci{getTypeName(){return"URL"}}class tO extends Ci{getTypeName(){return"ResourceURL"}}function Gt(t){return t instanceof Ci?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=function nO(t){return t instanceof Ci&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Zy})`)}return n===e}class lO{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(So(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class cO{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=So(e),n}}const dO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sc(t){return(t=String(t)).match(dO)?t:"unsafe:"+t}function dr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function aa(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const aC=dr("area,br,col,hr,img,wbr"),lC=dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cC=dr("rp,rt"),lh=aa(aC,aa(lC,dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aa(cC,dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aa(cC,lC)),ch=dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uC=aa(ch,dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fO=dr("script,style,template");class hO{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!lh.hasOwnProperty(n))return this.sanitizedSomething=!0,!fO.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!uC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ch[a]&&(l=Sc(l)),this.buf.push(" ",s,'="',dC(l),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();lh.hasOwnProperty(n)&&!aC.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(dC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const pO=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gO=/([^\#-~ |!])/g;function dC(t){return t.replace(/&/g,"&amp;").replace(pO,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(gO,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function fC(t,e){let n=null;try{Ic=Ic||function sC(t){const e=new cO(t);return function uO(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch{return!1}}()?new lO(e):e}(t);let r=e?String(e):"";n=Ic.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ic.getInertBodyElement(r)}while(r!==o);return So((new hO).sanitizeChildren(uh(n)||n))}finally{if(n){const r=uh(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function uh(t){return"content"in t&&function mO(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var tn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(tn||{});function xo(t){const e=la();return e?rC(e.sanitize(tn.HTML,t)||""):Ln(t,"HTML")?rC(Gt(t)):fC(Io(),H(t))}function dh(t){const e=la();return e?e.sanitize(tn.URL,t)||"":Ln(t,"URL")?Gt(t):Sc(H(t))}function la(){const t=C();return t&&t[so].sanitizer}const ca=new M("ENVIRONMENT_INITIALIZER"),gC=new M("INJECTOR",-1),mC=new M("INJECTOR_DEF_TYPES");class fh{get(e,n=Ls){if(n===Ls){const r=new Error(`NullInjectorError: No provider for ${He(e)}!`);throw r.name="NullInjectorError",r}return n}}function wO(...t){return{\u0275providers:yC(0,t),\u0275fromNgModule:!0}}function yC(t,...e){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Do(e,s=>{const a=s;xc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&vC(i,o),n}function vC(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];ph(i,o=>{e(o,r)})}}function xc(t,e,n,r){if(!(t=L(t)))return!1;let i=null,o=jl(t);const s=!o&&Y(t);if(o||s){if(s&&!s.standalone)return!1;i=t}else{const l=t.ngModule;if(o=jl(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)xc(c,e,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Do(o.imports,u=>{xc(u,e,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&vC(c,e)}if(!a){const c=mi(i)||(()=>new i);e({provide:i,useFactory:c,deps:te},i),e({provide:mC,useValue:i,multi:!0},i),e({provide:ca,useValue:()=>N(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=t;ph(l,u=>{e(u,c)})}}}return i!==t&&void 0!==t.providers}function ph(t,e){for(let n of t)nf(n)&&(n=n.\u0275providers),Array.isArray(n)?ph(n,e):e(n)}const bO=ae({provide:String,useValue:ae});function gh(t){return null!==t&&"object"==typeof t&&bO in t}function Di(t){return"function"==typeof t}const mh=new M("Set Injector scope."),Tc={},MO={};let yh;function Nc(){return void 0===yh&&(yh=new fh),yh}class qt{}class To extends qt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_h(e,s=>this.processProvider(s)),this.records.set(gC,No(void 0,this)),i.has("environment")&&this.records.set(qt,No(void 0,this));const o=this.records.get(mh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mC.multi,te,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Or(this),r=Tt(void 0);try{return e()}finally{Or(n),Tt(r)}}get(e,n=Ls,r=K.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ov))return e[ov](this);r=zl(r);const o=Or(this),s=Tt(void 0);try{if(!(r&K.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function NO(t){return"function"==typeof t||"object"==typeof t&&t instanceof M}(e)&&Hl(e);l=c&&this.injectableDefInScope(c)?No(vh(e),Tc):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(r&K.Self?Nc():this.parent).get(e,n=r&K.Optional&&n===Ls?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Ul]=a[Ul]||[]).unshift(He(e)),o)throw a;return function wN(t,e,n,r){const i=t[Ul];throw e[nv]&&i.unshift(e[nv]),t.message=function bN(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=He(e);if(Array.isArray(e))i=e.map(He).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):He(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yN,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Ul]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Tt(s),Or(o)}}resolveInjectorInitializers(){const e=Or(this),n=Tt(void 0);try{const i=this.get(ca.multi,te,K.Self);for(const o of i)o()}finally{Or(e),Tt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(He(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){let n=Di(e=L(e))?e:L(e&&e.provide);const r=function IO(t){return gh(t)?No(void 0,t.useValue):No(DC(t),Tc)}(e);if(Di(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=No(void 0,Tc,!0),i.factory=()=>hf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Tc&&(n.value=MO,n.value=n.factory()),"object"==typeof n.value&&n.value&&function TO(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=L(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function vh(t){const e=Hl(t),n=null!==e?e.factory:mi(t);if(null!==n)return n;if(t instanceof M)throw new D(204,!1);if(t instanceof Function)return function SO(t){const e=t.length;if(e>0)throw ta(e,"?"),new D(204,!1);const n=function hN(t){return t&&(t[$l]||t[Qy])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new D(204,!1)}function DC(t,e,n){let r;if(Di(t)){const i=L(t);return mi(i)||vh(i)}if(gh(t))r=()=>L(t.useValue);else if(function CC(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...hf(t.deps||[]));else if(function _C(t){return!(!t||!t.useExisting)}(t))r=()=>N(L(t.useExisting));else{const i=L(t&&(t.useClass||t.provide));if(!function xO(t){return!!t.deps}(t))return mi(i)||vh(i);r=()=>new i(...hf(t.deps))}return r}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _h(t,e){for(const n of t)Array.isArray(n)?_h(n,e):n&&nf(n)?_h(n.\u0275providers,e):e(n)}const Ac=new M("AppId",{providedIn:"root",factory:()=>AO}),AO="ng",wC=new M("Platform Initializer"),wi=new M("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bC=new M("CSP nonce",{providedIn:"root",factory:()=>Io().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let EC=(t,e,n)=>null;function Ih(t,e,n=!1){return EC(t,e,n)}class jO{}class IC{}class UO{resolveComponentFactory(e){throw function $O(t){const e=Error(`No component factory found for ${He(t)}.`);return e.ngComponent=t,e}(e)}}let Lc=(()=>{class t{static#e=this.NULL=new UO}return t})();function zO(){return Oo(Ke(),C())}function Oo(t,e){return new ze(At(t,e))}let ze=(()=>{class t{constructor(n){this.nativeElement=n}static#e=this.__NG_ELEMENT_ID__=zO}return t})();function GO(t){return t instanceof ze?t.nativeElement:t}class TC{}let Vn=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function qO(){const t=C(),n=Ut(Ke().index,t);return(Nt(n)?n:t)[j]}()}return t})(),WO=(()=>{class t{static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:()=>null})}return t})();class fa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const JO=new fa("16.2.12"),Nh={};function OC(t,e=null,n=null,r){const i=RC(t,e,n,r);return i.resolveInjectorInitializers(),i}function RC(t,e=null,n=null,r,i=new Set){const o=[n||te,wO(t)];return r=r||("object"==typeof t?void 0:He(t)),new To(o,e||Nc(),r||null,i)}let _t=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=Ls;static#t=this.NULL=new fh;static create(n,r){if(Array.isArray(n))return OC({name:""},r,n,"");{const i=n.name??"";return OC({name:i},n.parent,n.providers,i)}}static#n=this.\u0275prov=T({token:t,providedIn:"any",factory:()=>N(gC)});static#r=this.__NG_ELEMENT_ID__=-1}return t})();function kh(t){return t.ngOriginalError}class fr{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&kh(e);for(;n&&kh(n);)n=kh(n);return n||null}}function Rh(t){return e=>{setTimeout(t,void 0,e)}}const De=class tR extends dt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Rh(o),i&&(i=Rh(i)),s&&(s=Rh(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Lt&&e.add(a),a}};function FC(...t){}class ye{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new De(!1),this.onMicrotaskEmpty=new De(!1),this.onStable=new De(!1),this.onError=new De(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function nR(){const t="function"==typeof ge.requestAnimationFrame;let e=ge[t?"requestAnimationFrame":"setTimeout"],n=ge[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function oR(t){const e=()=>{!function iR(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ge,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Fh(t),t.isCheckStableRunning=!0,Ph(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Fh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function aR(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return LC(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),VC(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return LC(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),VC(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(t._hasPendingMicrotasks=o.microTask,Fh(t),Ph(t)):"macroTask"==o.change&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ye.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(ye.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rR,FC,FC);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const rR={};function Ph(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Fh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function LC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VC(t){t._nesting--,Ph(t)}class sR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new De,this.onMicrotaskEmpty=new De,this.onStable=new De,this.onError=new De}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const BC=new M("",{providedIn:"root",factory:HC});function HC(){const t=S(ye);let e=!0;return function rN(...t){const e=Fs(t),n=function ZT(t,e){return"number"==typeof Qd(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Vt(r[0]):no(n)(Be(r,e)):xn}(new Te(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Te(i=>{let o;t.runOutsideAngular(()=>{o=t.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=t.onUnstable.subscribe(()=>{ye.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Ky()))}function ha(t){return t.ownerDocument}function hr(t){return t instanceof Function?t():t}let Lh=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();function pa(t){for(;t;){t[U]|=64;const e=ia(t);if(_f(t)&&!e)return t;t=e}return null}const GC=new M("",{providedIn:"root",factory:()=>!1});let Bc=null;function KC(t,e){return t[e]??QC()}function ZC(t,e){const n=QC();n.producerNode?.length&&(t[e]=Bc,n.lView=t,Bc=YC())}const mR={...wv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{pa(t.lView)},lView:null};function YC(){return Object.create(mR)}function QC(){return Bc??=YC(),Bc}const $={};function k(t){XC(Q(),C(),yt()+t,!1)}function XC(t,e,n,r){if(!r)if(3==(3&e[U])){const o=t.preOrderCheckHooks;null!==o&&tc(e,o,n)}else{const o=t.preOrderHooks;null!==o&&nc(e,o,0,n)}yi(n)}function _(t,e=K.Default){const n=C();return null===n?N(t,e):h_(Ke(),n,L(t),e)}function Hc(t,e,n,r,i,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Ie]=i,d[U]=140|r,(null!==c||t&&2048&t[U])&&(d[U]|=2048),$v(d),d[be]=d[ao]=t,d[Ne]=n,d[so]=s||t&&t[so],d[j]=a||t&&t[j],d[Rr]=l||t&&t[Rr]||null,d[tt]=o,d[zs]=function Dk(){return Ck++}(),d[lr]=u,d[vv]=c,d[Ae]=2==e.type?t[Ae]:d,d}function Fo(t,e,n,r,i){let o=t.data[e];if(null===o)o=function Vh(t,e,n,r,i){const o=Jv(),s=If(),l=t.data[e]=function ER(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ho()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(t,e,n,r,i),function CA(){return P.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ks(){const t=P.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pn(o,!0),o}function ga(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tD(t,e,n,r,i){const o=KC(e,Gs),s=yt(),a=2&r;try{yi(-1),a&&e.length>Z&&XC(t,e,Z,!1),kn(a?2:0,i);const c=a?o:null,u=Df(c);try{null!==c&&(c.dirty=!1),n(r,i)}finally{wf(c,u)}}finally{a&&null===e[Gs]&&ZC(e,Gs),yi(s),kn(a?3:1,i)}}function Bh(t,e,n){if(vf(e)){const r=Xt(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Xt(r)}}}function Hh(t,e,n){Wv()&&(function AR(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;gi(n)&&function VR(t,e,n){const r=At(e,t),i=nD(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=jc(t,Hc(t,i,null,s,r,e,null,t[so].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ic(n,e),nt(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const l=t.data[a],c=vi(e,t,a,n);nt(c,e),null!==s&&BR(0,a-i,c,l,0,s),mn(l)&&(Ut(n.index,e)[Ne]=vi(e,t,a,n))}}(t,e,n,At(n,e)),64==(64&n.flags)&&aD(t,e,n))}function jh(t,e,n=At){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function nD(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$h(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function $h(t,e,n,r,i,o,s,a,l,c,u){const d=Z+r,f=d+i,h=function vR(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:$);return n}(d,f),p="function"==typeof c?c():c;return h[E]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let rD=t=>null;function iD(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const o=t[i];null===r?oD(n,e,i,o):r.hasOwnProperty(i)&&oD(n,e,r[i],o)}return n}function oD(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Uh(t,e,n,r){if(Wv()){const i=null===r?null:{"":-1},o=function OR(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(fv(e,s.selectors,!1))if(r||(r=[]),mn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),zh(t,e,a.length)}else r.unshift(s),zh(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(t,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&sD(t,e,n,s,i,a),i&&function RR(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const o=n[e[i+1]];if(null==o)throw new D(-301,!1);r.push(e[i],o)}}}(n,r,i)}n.mergedAttrs=Hs(n.mergedAttrs,n.attrs)}function sD(t,e,n,r,i,o){for(let c=0;c<r.length;c++)Bf(ic(n,e),t,r[c].type);!function FR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=ga(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Hs(n.mergedAttrs,u.hostAttrs),LR(t,n,e,l,u),PR(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function MR(t,e,n){const i=e.directiveEnd,o=t.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,p=f?f.outputs:null;l=iD(d.inputs,u,l,f?f.inputs:null),c=iD(d.outputs,u,c,p);const g=null===l||null===s||dv(e)?null:HR(l,u,s);a.push(g)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,o)}function aD(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function wA(){return P.lFrame.currentDirectiveIndex}();try{yi(o);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];Tf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&kR(l,c)}}finally{yi(-1),Tf(s)}}function kR(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zh(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function PR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mn(e)&&(n[""]=t)}}function LR(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=mi(i.type)),s=new Zs(o,mn(i),_);t.blueprint[r]=s,n[r]=s,function TR(t,e,n,r,i){const o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function NR(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(t,e,r,ga(t,n,i.hostVars,$),i)}function Bn(t,e,n,r,i,o){const s=At(t,e);!function Gh(t,e,n,r,i,o,s){if(null==o)t.removeAttribute(e,i,n);else{const a=null==s?H(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}(e[j],s,o,t.value,n,r,i)}function BR(t,e,n,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)lD(r,n,s[a++],s[a++],s[a++])}function lD(t,e,n,r,i){const o=Xt(null);try{const s=t.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Xt(o)}}function HR(t,e,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(t.hasOwnProperty(o)){null===r&&(r=[]);const s=t[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function cD(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function uD(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=t.data[o];Af(n[r]),s.contentQueries(2,e[o],o)}}}function jc(t,e){return t[$s]?t[yv][gn]=e:t[$s]=e,t[yv]=e,e}function qh(t,e,n){Af(0);const r=Xt(null);try{e(t,n)}finally{Xt(r)}}function dD(t){return t[oo]||(t[oo]=[])}function fD(t){return t.cleanup||(t.cleanup=[])}function pD(t,e){const n=t[Rr],r=n?n.get(fr,null):null;r&&r.handleError(e)}function Wh(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];lD(t.data[s],e[s],r,a,i)}}function jR(t,e){const n=Ut(e,t),r=n[E];!function $R(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[Ie];null!==i&&null===n[lr]&&(n[lr]=Ih(i,n[Rr])),Jh(r,n,n[Ne])}function Jh(t,e,n){kf(e);try{const r=t.viewQuery;null!==r&&qh(1,r,n);const i=t.template;null!==i&&tD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&uD(t,e),t.staticViewQueries&&qh(2,t.viewQuery,n);const o=t.components;null!==o&&function UR(t,e){for(let n=0;n<e.length;n++)jR(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[U]&=-5,Of()}}let gD=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function QN(t,e,n){const r=Object.create(XN);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>Sv(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Iv(r))return;r.hasRun=!0;const s=Df(r);try{r.cleanupFn(),r.cleanupFn=Pv,r.fn(i)}finally{wf(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();function $c(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=ef(i,a):2==o&&(r=ef(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ma(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];null!==o&&r.push(me(o)),gt(o)&&mD(o,r);const s=n.type;if(8&s)ma(t,e,n.child,r);else if(32&s){const a=Yf(n,e);let l;for(;l=a();)r.push(l)}else if(16&s){const a=Q_(e,n);if(Array.isArray(a))r.push(...a);else{const l=ia(e[Ae]);ma(l[E],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function mD(t,e){for(let n=We;n<t.length;n++){const r=t[n],i=r[E].firstChild;null!==i&&ma(r[E],r,i,e)}t[An]!==t[Ie]&&e.push(t[An])}function Uc(t,e,n,r=!0){const i=e[so],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{yD(t,e,t.template,n)}catch(l){throw r&&pD(e,l),l}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function yD(t,e,n,r){const i=e[U];if(256!=(256&i)){e[so].effectManager?.flush(),kf(e);try{$v(e),function Zv(t){return P.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&tD(t,e,n,2,r);const s=3==(3&i);if(s){const c=t.preOrderCheckHooks;null!==c&&tc(e,c,null)}else{const c=t.preOrderHooks;null!==c&&nc(e,c,0,null),Rf(e,0)}if(function qR(t){for(let e=H_(t);null!==e;e=j_(e)){if(!e[_v])continue;const n=e[co];for(let r=0;r<n.length;r++){cA(n[r])}}}(e),vD(e,2),null!==t.contentQueries&&uD(t,e),s){const c=t.contentCheckHooks;null!==c&&tc(e,c)}else{const c=t.contentHooks;null!==c&&nc(e,c,1),Rf(e,1)}!function yR(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=KC(e,qs);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)yi(~o);else{const s=o,a=n[++i],l=n[++i];DA(a,s),r.dirty=!1;const c=Df(r);try{l(2,e[s])}finally{wf(r,c)}}}}finally{null===e[qs]&&ZC(e,qs),yi(-1)}}(t,e);const a=t.components;null!==a&&CD(e,a,0);const l=t.viewQuery;if(null!==l&&qh(2,l,r),s){const c=t.viewCheckHooks;null!==c&&tc(e,c)}else{const c=t.viewHooks;null!==c&&nc(e,c,2),Rf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[U]&=-73,Uv(e)}finally{Of()}}}function vD(t,e){for(let n=H_(t);null!==n;n=j_(n))for(let r=We;r<n.length;r++)_D(n[r],e)}function WR(t,e,n){_D(Ut(e,t),n)}function _D(t,e){if(!function aA(t){return 128==(128&t[U])}(t))return;const n=t[E],r=t[U];if(80&r&&0===e||1024&r||2===e)yD(n,t,n.template,t[Ne]);else if(t[js]>0){vD(t,1);const i=n.components;null!==i&&CD(t,i,1)}}function CD(t,e,n){for(let r=0;r<e.length;r++)WR(t,e[r],n)}class ya{get rootNodes(){const e=this._lView,n=e[E];return ma(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ne]}set context(e){this._lView[Ne]=e}get destroyed(){return 256==(256&this._lView[U])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[be];if(gt(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Cc(e,r),lc(n,r))}this._attachedToViewContainer=!1}Xf(this._lView[E],this._lView)}onDestroy(e){!function Gv(t,e){if(256==(256&t[U]))throw new D(911,!1);null===t[Pr]&&(t[Pr]=[]),t[Pr].push(e)}(this._lView,e)}markForCheck(){pa(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){this._lView[U]|=128}detectChanges(){Uc(this._lView[E],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pk(t,e){sa(t,e,e[j],2,null,null)}(this._lView[E],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e}}class JR extends ya{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Uc(e[E],e,e[Ne],!1)}checkNoChanges(){}get context(){return null}}class DD extends Lc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Y(e);return new va(n,this.ngModule)}}function wD(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class ZR{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zl(r);const i=this.injector.get(e,Nh,r);return i!==Nh||n===Nh?i:this.parentInjector.get(e,n,r)}}class va extends IC{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=wD(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return wD(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function ON(t){return t.map(kN).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=(i=i||this.ngModule)instanceof qt?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new ZR(e,o):e,a=s.get(TC,null);if(null===a)throw new D(407,!1);const d={rendererFactory:a,sanitizer:s.get(WO,null),effectManager:s.get(gD,null),afterRenderEventManager:s.get(Lh,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?function _R(t,e,n,r){const o=r.get(GC,!1)||n===hn.ShadowDom,s=t.selectRootElement(e,o);return function CR(t){rD(t)}(s),s}(f,r,this.componentDef.encapsulation,s):_c(f,h,function KR(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),y=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=Ih(p,s,!0));const b=$h(0,null,null,1,0,null,null,null,null,null,null),x=Hc(null,b,null,y,null,null,d,f,s,null,v);let B,ne;kf(x);try{const Ft=this.componentDef;let dn,q=null;Ft.findHostDirectiveDefs?(dn=[],q=new Map,Ft.findHostDirectiveDefs(Ft,dn,q),dn.push(Ft)):dn=[Ft];const ir=function QR(t,e){const n=t[E],r=Z;return t[r]=e,Fo(n,r,2,"#host",null)}(x,p),ks=function XR(t,e,n,r,i,o,s){const a=i[E];!function eP(t,e,n,r){for(const i of t)e.mergedAttrs=Hs(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($c(e,e.mergedAttrs,!0),null!==n&&nC(r,n,e))}(r,t,e,s);let l=null;null!==e&&(l=Ih(e,i[Rr]));const c=o.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=Hc(i,nD(n),null,u,i[t.index],t,o,c,null,null,l);return a.firstCreatePass&&zh(a,t,r.length-1),jc(i,d),i[t.index]=d}(ir,p,Ft,dn,x,d,f);ne=jv(b,Z),p&&function nP(t,e,n,r){if(r)mf(t,n,["ng-version",JO.full]);else{const{attrs:i,classes:o}=function RN(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!pn(i))break;i=o}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&mf(t,n,i),o&&o.length>0&&tC(t,n,o.join(" "))}}(f,Ft,p,r),void 0!==n&&function rP(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,n),B=function tP(t,e,n,r,i,o){const s=Ke(),a=i[E],l=At(s,i);sD(a,i,s,n,null,r);for(let u=0;u<n.length;u++)nt(vi(i,a,s.directiveStart+u,s),i);aD(a,i,s),l&&nt(l,i);const c=vi(i,a,s.directiveStart+s.componentOffset,s);if(t[Ne]=i[Ne]=c,null!==o)for(const u of o)u(c,e);return Bh(a,s,t),c}(ks,Ft,dn,q,x,[iP]),Jh(b,x,null)}finally{Of()}return new YR(this.componentType,B,Oo(ne,x),x,ne)}}class YR extends jO{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new JR(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const o=this._rootLView;Wh(o[E],o,i,e,n),this.previousInputValues.set(e,n),pa(Ut(this._tNode.index,o))}}get injector(){return new vt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iP(){const t=Ke();ec(C()[E],t)}function le(t){let e=function bD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const s=t;s.inputs=zc(t.inputs),s.inputTransforms=zc(t.inputTransforms),s.declaredInputs=zc(t.declaredInputs),s.outputs=zc(t.outputs);const a=i.hostBindings;a&&lP(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&sP(t,l),c&&aP(t,c),Vl(t.inputs,i.inputs),Vl(t.declaredInputs,i.declaredInputs),Vl(t.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Vl(s.inputTransforms,i.inputTransforms)),mn(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(t),a===le&&(n=!1)}}e=Object.getPrototypeOf(e)}!function oP(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,n=Hs(n,i.hostAttrs))}}(r)}function zc(t){return t===Tn?{}:t===te?[]:t}function sP(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function aP(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,o)=>{e(r,i,o),n(r,i,o)}:e}function lP(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Kh(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}t.inputTransforms=n}function Gc(t){return!!Zh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Zh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hn(t,e,n){return t[e]=n}function rt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jn(t,e,n,r){const i=C();return rt(i,po(),e)&&(Q(),Bn(Ee(),i,t,e,n,r)),jn}function we(t,e,n,r,i,o,s,a){const l=C(),c=Q(),u=t+Z,d=c.firstCreatePass?function OP(t,e,n,r,i,o,s,a,l){const c=e.consts,u=Fo(e,t,4,s||null,Lr(c,a));Uh(e,n,u,Lr(c,l)),ec(e,u);const d=u.tView=$h(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,o,s):c.data[u];Pn(d,!1);const f=BD(c,l,d,t);Xl()&&wc(c,l,f,d),nt(f,l),jc(l,l[u]=cD(f,l,f,d)),Kl(d)&&Hh(c,l,d),null!=s&&jh(l,d,a)}let BD=function HD(t,e,n,r){return Vr(!0),e[j].createComment("")};function A(t,e,n){const r=C();return rt(r,po(),e)&&function Wt(t,e,n,r,i,o,s,a){const l=At(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(Wh(t,n,u,r,i),gi(e)&&function IR(t,e){const n=Ut(e,t);16&n[U]||(n[U]|=64)}(n,e.index)):3&e.type&&(r=function SR(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(l,r,i))}(Q(),Ee(),r,t,e,r[j],n,!1),A}function np(t,e,n,r,i){const s=i?"class":"style";Wh(t,n,e.inputs[s],s,r)}function W(t,e,n,r){const i=C(),o=Q(),s=Z+t,a=i[j],l=o.firstCreatePass?function VP(t,e,n,r,i,o){const s=e.consts,l=Fo(e,t,2,r,Lr(s,i));return Uh(e,n,l,Lr(s,o)),null!==l.attrs&&$c(l,l.attrs,!1),null!==l.mergedAttrs&&$c(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,e,n,r):o.data[s],c=jD(o,i,l,a,e,t);i[s]=c;const u=Kl(l);return Pn(l,!0),nC(a,c,l),32!=(32&l.flags)&&Xl()&&wc(o,i,c,l),0===function dA(){return P.lFrame.elementDepthCount}()&&nt(c,i),function fA(){P.lFrame.elementDepthCount++}(),u&&(Hh(o,i,l),Bh(o,l,i)),null!==r&&jh(i,l),W}function G(){let t=Ke();If()?xf():(t=t.parent,Pn(t,!1));const e=t;(function pA(t){return P.skipHydrationRootTNode===t})(e)&&function vA(){P.skipHydrationRootTNode=null}(),function hA(){P.lFrame.elementDepthCount--}();const n=Q();return n.firstCreatePass&&(ec(n,t),vf(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function OA(t){return 0!=(8&t.flags)}(e)&&np(n,e,C(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function RA(t){return 0!=(16&t.flags)}(e)&&np(n,e,C(),e.stylesWithoutHost,!1),G}function ke(t,e,n,r){return W(t,e,n,r),G(),ke}let jD=(t,e,n,r,i,o)=>(Vr(!0),_c(r,i,function i_(){return P.lFrame.currentNamespace}()));function Hr(t,e,n){const r=C(),i=Q(),o=t+Z,s=i.firstCreatePass?function jP(t,e,n,r,i){const o=e.consts,s=Lr(o,r),a=Fo(e,t,8,"ng-container",s);return null!==s&&$c(a,s,!0),Uh(e,n,a,Lr(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];Pn(s,!0);const a=$D(i,r,s,t);return r[o]=a,Xl()&&wc(i,r,a,s),nt(a,r),Kl(s)&&(Hh(i,r,s),Bh(i,s,r)),null!=n&&jh(r,s),Hr}function jr(){let t=Ke();const e=Q();return If()?xf():(t=t.parent,Pn(t,!1)),e.firstCreatePass&&(ec(e,t),vf(t)&&e.queries.elementEnd(t)),jr}function rp(t,e,n){return Hr(t,e,n),jr(),rp}let $D=(t,e,n,r)=>(Vr(!0),Qf(e[j],""));function Ei(){return C()}function ba(t){return!!t&&"function"==typeof t.then}function UD(t){return!!t&&"function"==typeof t.subscribe}function X(t,e,n,r){const i=C(),o=Q(),s=Ke();return function GD(t,e,n,r,i,o,s){const a=Kl(r),c=t.firstCreatePass&&fD(t),u=e[Ne],d=dD(e);let f=!0;if(3&r.type||s){const g=At(r,e),m=s?s(g):g,y=d.length,v=s?x=>s(me(x[r.index])):r.index;let b=null;if(!s&&a&&(b=function zP(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=e[oo],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(t,e,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,f=!1;else{o=WD(r,e,u,o,!1);const x=n.listen(m,i,o);d.push(o,x),c&&c.push(i,v,y,y+1)}}else o=WD(r,e,u,o,!1);const h=r.outputs;let p;if(f&&null!==h&&(p=h[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const B=e[p[m]][p[m+1]].subscribe(o),ne=d.length;d.push(o,B),c&&c.push(i,r.index,ne,-(ne+1))}}}(o,i,i[j],s,t,e,r),X}function qD(t,e,n,r){try{return kn(6,e,n),!1!==n(r)}catch(i){return pD(t,i),!1}finally{kn(7,e,n)}}function WD(t,e,n,r,i){return function o(s){if(s===Function)return r;pa(t.componentOffset>-1?Ut(t.index,e):e);let l=qD(e,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=qD(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function J(t=1){return function EA(t){return(P.lFrame.contextLView=function MA(t,e){for(;t>0;)e=e[ao],t--;return e}(t,P.lFrame.contextLView))[Ne]}(t)}function GP(t,e){let n=null;const r=function xN(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?fv(t,o,!0):AN(r,o))return i}else n=i}return n}function Zc(t,e){return t<<17|e<<2}function $r(t){return t>>17&32767}function op(t){return 2|t}function Mi(t){return(131068&t)>>2}function sp(t,e){return-131069&t|e<<2}function ap(t){return 1|t}function ow(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?$r(o):Mi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=t[a+1];YP(t[a],e)&&(l=!0,t[a+1]=r?ap(u):op(u)),a=r?$r(u):Mi(u)}l&&(t[n+1]=r?op(o):ap(o))}function YP(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wo(t,e)>=0}const $e={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sw(t){return t.substring($e.key,$e.keyEnd)}function aw(t,e){const n=$e.textEnd;return n===e?-1:(e=$e.keyEnd=function tF(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,$e.key=e,n),qo(t,e,n))}function qo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function lp(t,e,n){return yn(t,e,n,!1),lp}function $n(t,e){return yn(t,e,null,!0),$n}function gr(t){!function vn(t,e,n,r){const i=Q(),o=ur(2);i.firstUpdatePass&&hw(i,null,o,r);const s=C();if(n!==$&&rt(s,o,n)){const a=i.data[yt()];if(yw(a,r)&&!fw(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=ef(l,n||"")),np(i,a,s,n,r)}else!function dF(t,e,n,r,i,o,s,a){i===$&&(i=te);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0;let g,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,g=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,g=h),null!==p&&gw(t,e,n,r,p,g,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[j],s[o+1],s[o+1]=function cF(t,e,n){if(null==n||""===n)return te;const r=[],i=Gt(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}(uF,zn,t,!0)}function zn(t,e){for(let n=function XP(t){return function cw(t){$e.key=0,$e.keyEnd=0,$e.value=0,$e.valueEnd=0,$e.textEnd=t.length}(t),aw(t,qo(t,0,$e.textEnd))}(e);n>=0;n=aw(e,n))zt(t,sw(e),!0)}function yn(t,e,n,r){const i=C(),o=Q(),s=ur(2);o.firstUpdatePass&&hw(o,t,s,r),e!==$&&rt(i,s,e)&&gw(o,o.data[yt()],i,i[j],t,i[s+1]=function fF(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=He(Gt(t)))),t}(e,n),r,s)}function fw(t,e){return e>=t.expandoStartIndex}function hw(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[yt()],s=fw(t,n);yw(o,r)&&null===e&&!s&&(e=!1),e=function oF(t,e,n,r){const i=function Nf(t){const e=P.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Ea(n=cp(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=cp(i,t,e,n,r),null===o){let l=function sF(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Mi(r))return t[$r(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=cp(null,t,e,l[1],r),l=Ea(l,e.attrs,r),function aF(t,e,n,r){t[$r(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else o=function lF(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ea(r,t[o].hostAttrs,n);return Ea(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function KP(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$r(s),l=Mi(s);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||wo(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const f=$r(t[a+1]);t[r+1]=Zc(f,a),0!==f&&(t[f+1]=sp(t[f+1],r)),t[a+1]=function WP(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Zc(a,0),0!==a&&(t[a+1]=sp(t[a+1],r)),a=r;else t[r+1]=Zc(l,0),0===a?a=r:t[l+1]=sp(t[l+1],r),l=r;c&&(t[r+1]=op(t[r+1])),ow(t,u,r,!0),ow(t,u,r,!1),function ZP(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wo(o,e)>=0&&(n[r+1]=ap(n[r+1]))}(e,u,t,r,o),s=Zc(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function cp(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ea(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Ea(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),zt(t,s,!!n||e[++o]))}return void 0===t?null:t}function uF(t,e,n){const r=String(e);""!==r&&!r.includes(" ")&&zt(t,r,n)}function gw(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function JP(t){return 1==(1&t)}(c)?mw(l,e,n,i,Mi(c),s):void 0;Yc(u)||(Yc(o)||function qP(t){return 2==(2&t)}(c)&&(o=mw(l,null,n,i,a,s)),function Gk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Br.DashCase;null==i?t.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Br.Important),t.setStyle(n,r,i,o))}}(r,s,Ql(yt(),n),i,o))}function mw(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=n[i+1];f===$&&(f=d?te:void 0);let h=d?$f(f,r):u===r?f:void 0;if(c&&!Yc(h)&&(h=$f(l,r)),Yc(h)&&(a=h,s))return a;const p=t[i+1];i=s?$r(p):Mi(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=$f(l,r))}return a}function Yc(t){return void 0!==t}function yw(t,e){return 0!=(t.flags&(e?8:16))}function Ze(t,e=""){const n=C(),r=Q(),i=t+Z,o=r.firstCreatePass?Fo(r,i,1,e,null):r.data[i],s=vw(r,n,o,e,t);n[i]=s,Xl()&&wc(r,n,s,o),Pn(o,!1)}let vw=(t,e,n,r,i)=>(Vr(!0),function vc(t,e){return t.createText(e)}(e[j],r));function mr(t){return Gn("",t,""),mr}function Gn(t,e,n){const r=C(),i=function Vo(t,e,n,r){return rt(t,po(),n)?e+H(n)+r:$}(r,t,e,n);return i!==$&&function pr(t,e,n){const r=Ql(e,t);!function U_(t,e,n){t.setValue(e,n)}(t[j],r,n)}(r,yt(),i),Gn}const Jo="en-US";let Hw=Jo;function fp(t,e,n,r,i){if(t=L(t),Array.isArray(t))for(let o=0;o<t.length;o++)fp(t[o],e,n,r,i);else{const o=Q(),s=C(),a=Ke();let l=Di(t)?t:L(t.provide);const c=DC(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Di(t)||!t.multi){const h=new Zs(c,i,_),p=pp(l,e,i?u:u+f,d);-1===p?(Bf(ic(a,s),o,l),hp(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{const h=pp(l,e,u+f,d),p=pp(l,e,u,u+f),m=p>=0&&n[p];if(i&&!m||!i&&!(h>=0&&n[h])){Bf(ic(a,s),o,l);const y=function OL(t,e,n,r,i){const o=new Zs(t,n,_);return o.multi=[],o.index=e,o.componentProviders=0,db(o,i,r&&!n),o}(i?kL:AL,n.length,i,r,c);!i&&m&&(n[p].providerFactory=y),hp(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else hp(o,t,h>-1?h:p,db(n[i?p:h],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function hp(t,e,n,r){const i=Di(e),o=function EO(t){return!!t.useClass}(e);if(i||o){const l=(o?L(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function db(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function AL(t,e,n,r){return gp(this.multi,[])}function kL(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=vi(n,n[E],this.providerFactory.index,r);o=a.slice(0,s),gp(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],gp(i,o);return o}function gp(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _e(t,e=[]){return n=>{n.providersResolver=(r,i)=>function NL(t,e,n){const r=Q();if(r.firstCreatePass){const i=mn(t);fp(n,r.data,r.blueprint,i,!0),fp(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ii{}class fb{}class mp extends Ii{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DD(this);const i=jt(e);this._bootstrapComponents=hr(i.bootstrap),this._r3Injector=RC(e,n,[{provide:Ii,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver},...r],He(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class yp extends fb{constructor(e){super(),this.moduleType=e}create(e){return new mp(this.moduleType,e,[])}}class hb extends Ii{constructor(e){super(),this.componentFactoryResolver=new DD(this),this.instance=null;const n=new To([...e.providers,{provide:Ii,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],e.parent||Nc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function vp(t,e,n=null){return new hb({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let FL=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=yC(0,n.type),i=r.length>0?vp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=T({token:t,providedIn:"environment",factory:()=>new t(N(qt))})}return t})();function pb(t){t.getStandaloneInjector=e=>e.get(FL).getOrCreateStandaloneInjector(t)}function Cp(t,e,n,r){return Db(C(),mt(),t,e,n,r)}function nu(t,e,n,r,i){return function wb(t,e,n,r,i,o,s){const a=e+n;return function bi(t,e,n,r){const i=rt(t,e,n);return rt(t,e+1,r)||i}(t,a,i,o)?Hn(t,a+2,s?r.call(s,i,o):r(i,o)):Na(t,a+2)}(C(),mt(),t,e,n,r,i)}function Na(t,e){const n=t[e];return n===$?void 0:n}function Db(t,e,n,r,i,o){const s=e+n;return rt(t,s,i)?Hn(t,s+1,o?r.call(o,i):r(i)):Na(t,s+1)}function Me(t,e){const n=Q();let r;const i=t+Z;n.firstCreatePass?(r=function XL(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=mi(r.type)),a=Tt(_);try{const l=rc(!1),c=o();return rc(l),function FP(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,C(),i,c),c}finally{Tt(a)}}function Se(t,e,n){const r=t+Z,i=C(),o=function fo(t,e){return t[e]}(i,r);return function Aa(t,e){return t[E].data[e].pure}(i,r)?Db(i,mt(),e,o.transform,n,o):o.transform(n)}function i2(){return this._results[Symbol.iterator]()}class Dp{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new De)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Dp.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=i2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function en(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function JA(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function s2(t,e,n,r=!0){const i=e[E];if(function Lk(t,e,n,r){const i=We+r,o=n.length;r>0&&(n[i-1][gn]=e),r<o-We?(e[gn]=n[i],__(n,We+r,e)):(n.push(e),e[gn]=null),e[be]=n;const s=e[Us];null!==s&&n!==s&&function Vk(t,e){const n=t[co];e[Ae]!==e[be][be][Ae]&&(t[_v]=!0),null===n?t[co]=[e]:n.push(e)}(s,e);const a=e[Nn];null!==a&&a.insertView(t),e[U]|=128}(i,e,t,n),r){const o=rh(n,t),s=e[j],a=Dc(s,t[An]);null!==a&&function Rk(t,e,n,r,i,o){r[Ie]=i,r[tt]=e,sa(t,r,n,1,i,o)}(i,t[tt],s,e,a,o)}}let yr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=c2}return t})();const a2=yr,l2=class extends a2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function o2(t,e,n,r){const i=e.tView,a=Hc(t,i,n,4096&t[U]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Us]=t[e.index];const c=t[Nn];return null!==c&&(a[Nn]=c.createEmbeddedView(i)),Jh(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new ya(i)}};function c2(){return ru(Ke(),C())}function ru(t,e){return 4&t.type?new l2(e,t,Oo(t,e)):null}let _n=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=g2}return t})();function g2(){return kb(Ke(),C())}const m2=_n,Nb=class extends m2{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Oo(this._hostTNode,this._hostLView)}get injector(){return new vt(this._hostTNode,this._hostLView)}get parentInjector(){const e=oc(this._hostTNode,this._hostLView);if(Ff(e)){const n=Qs(e,this._hostLView),r=Ys(e);return new vt(n[E].data[r+8],n)}return new vt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=Ab(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-We}createEmbeddedView(e,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,o){const s=e&&!function ea(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const l=s?e:new va(Y(e)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?c:this.parentInjector).get(qt,null);m&&(o=m)}Y(l.componentType??{});const h=l.create(c,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function lA(t){return gt(t[be])}(i)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=i[be],u=new Nb(c,c[tt],c[be]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(n),a=this._lContainer;return s2(a,i,s,!r),e.attachToViewContainerRef(),__(wp(a),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=Ab(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Cc(this._lContainer,n);r&&(lc(wp(this._lContainer),n),Xf(r[E],r))}detach(e){const n=this._adjustIndex(e,-1),r=Cc(this._lContainer,n);return r&&null!=lc(wp(this._lContainer),n)?new ya(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Ab(t){return t[8]}function wp(t){return t[8]||(t[8]=[])}function kb(t,e){let n;const r=e[t.index];return gt(r)?n=r:(n=cD(r,e,null,t),e[t.index]=n,jc(e,n)),Ob(n,e,t,r),new Nb(n,t,e)}let Ob=function Rb(t,e,n,r){if(t[An])return;let i;i=8&n.type?me(r):function y2(t,e){const n=t[j],r=n.createComment(""),i=At(e,t);return _i(n,Dc(n,i),r,function $k(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[An]=i};class bp{constructor(e){this.queryList=e,this.matches=null}clone(){return new bp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ep{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Ep(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==Hb(e,n).matches&&this.queries[n].setDirty()}}class Pb{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class Mp{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Mp(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Sp{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new Sp(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,n,C2(n,o)),this.matchTNodeWithReadOption(e,n,sc(n,e,o,!1,!1))}else r===yr?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,sc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ze||i===_n||i===yr&&4&n.type)this.addMatch(n.index,-2);else{const o=sc(n,e,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function C2(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function w2(t,e,n,r){return-1===n?function D2(t,e){return 11&t.type?Oo(t,e):4&t.type?ru(t,e):null}(e,t):-2===n?function b2(t,e,n){return n===ze?Oo(e,t):n===yr?ru(e,t):n===_n?kb(e,t):void 0}(t,e,r):vi(t,t[E],n,e)}function Fb(t,e,n,r){const i=e[Nn].queries[r];if(null===i.matches){const o=t.data,s=n.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:w2(e,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function Ip(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Fb(t,e,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=We;d<u.length;d++){const f=u[d];f[Us]===f[be]&&Ip(f[E],f,c,r)}if(null!==u[co]){const d=u[co];for(let f=0;f<d.length;f++){const h=d[f];Ip(h[E],h,c,r)}}}}}return r}function ou(t){const e=C(),n=Q(),r=Qv();Af(r+1);const i=Hb(n,r);if(t.dirty&&function sA(t){return 4==(4&t[U])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ip(n,e,r,[]):Fb(n,e,i,r);t.reset(o,GO),t.notifyOnChanges()}return!0}return!1}function xp(t,e,n){const r=Q();r.firstCreatePass&&(function Bb(t,e,n){null===t.queries&&(t.queries=new Mp),t.queries.track(new Sp(e,n))}(r,new Pb(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function Vb(t,e,n){const r=new Dp(4==(4&n));(function bR(t,e,n,r){const i=dD(e);i.push(n),t.firstCreatePass&&fD(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[Nn]&&(e[Nn]=new Ep),e[Nn].queries.push(new bp(r))}(r,C(),e)}function su(){return function E2(t,e){return t[Nn].queries[e].queryList}(C(),Qv())}function Hb(t,e){return t.queries.getByIndex(e)}const Rp=new M("Application Initializer");let Pp=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=S(Rp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(ba(o))n.push(o);else if(UD(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),rE=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const vr=new M("LocaleId",{providedIn:"root",factory:()=>S(vr,K.Optional|K.SkipSelf)||function W2(){return typeof $localize<"u"&&$localize.locale||Jo}()});let lu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Z2{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let iE=(()=>{class t{compileModuleSync(n){return new yp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=hr(jt(n).declarations).reduce((s,a)=>{const l=Y(a);return l&&s.push(new va(l)),s},[]);return new Z2(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const lE=new M(""),uu=new M("");let Hp,Vp=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hp||(function vV(t){Hp=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||t)(N(ye),N(Bp),N(uu))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Bp=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Hp?.findTestabilityInTree(this,n,r)??null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Ur=null;const cE=new M("AllowMultipleToken"),jp=new M("PlatformDestroyListeners"),$p=new M("appBootstrapListener");class dE{constructor(e,n){this.name=e,this.token=n}}function hE(t,e,n=[]){const r=`Platform: ${e}`,i=new M(r);return(o=[])=>{let s=Up();if(!s||s.injector.get(cE,!1)){const a=[...n,...o,{provide:i,useValue:!0}];t?t(a):function DV(t){if(Ur&&!Ur.get(cE,!1))throw new D(400,!1);(function uE(){!function WN(t){Av=t}(()=>{throw new D(600,!1)})})(),Ur=t;const e=t.get(gE);(function fE(t){t.get(wC,null)?.forEach(n=>n())})(t)}(function pE(t=[],e){return _t.create({name:e,providers:[{provide:mh,useValue:"platform"},{provide:jp,useValue:new Set([()=>Ur=null])},...t]})}(a,r))}return function bV(t){const e=Up();if(!e)throw new D(401,!1);return e}()}}function Up(){return Ur?.get(gE)??null}let gE=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function EV(t="zone.js",e){return"noop"===t?new sR:"zone.js"===t?new ye(e):t}(r?.ngZone,function mE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function PL(t,e,n){return new mp(t,e,n)}(n.moduleType,this.injector,function DE(t){return[{provide:ye,useFactory:t},{provide:ca,multi:!0,useFactory:()=>{const e=S(SV,{optional:!0});return()=>e.initialize()}},{provide:CE,useFactory:MV},{provide:BC,useFactory:HC}]}(()=>i)),s=o.injector.get(fr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{du(this._modules,o),a.unsubscribe()})}),function yE(t,e,n){try{const r=n();return ba(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Pp);return a.runInitializers(),a.donePromise.then(()=>(function jw(t){Qt(t,"Expected localeId to be defined"),"string"==typeof t&&(Hw=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(vr,Jo)||Jo),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=vE({},r);return function _V(t,e,n){const r=new yp(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(xi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new D(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jp,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||t)(N(_t))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function vE(t,e){return Array.isArray(e)?e.reduce(vE,t):{...t,...e}}let xi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=S(CE),this.zoneIsStable=S(BC),this.componentTypes=[],this.components=[],this.isStable=S(lu).hasPendingTasks.pipe(fn(n=>n?O(!1):this.zoneIsStable),function iN(t,e=Ar){return t=t??oN,Ve((n,r)=>{let i,o=!0;n.subscribe(Re(r,s=>{const a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Ky()),this._injector=S(qt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof IC;if(!this._injector.get(Pp).done)throw!i&&function io(t){const e=Y(t)||qe(t)||pt(t);return null!==e&&e.standalone}(n),new D(405,!1);let s;s=i?n:this._injector.get(Lc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function CV(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Ii),c=s.create(_t.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(lE,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),du(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new D(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;du(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get($p,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>du(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function du(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const CE=new M("",{providedIn:"root",factory:()=>S(fr).handleError.bind(void 0)});function MV(){const t=S(ye),e=S(fr);return n=>t.runOutsideAngular(()=>e.handleError(n))}let SV=(()=>{class t{constructor(){this.zone=S(ye),this.applicationRef=S(xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();let fu=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=xV}return t})();function xV(t){return function TV(t,e,n){if(gi(t)&&!n){const r=Ut(t.index,e);return new ya(r,r)}return 47&t.type?new ya(e[Ae],e):null}(Ke(),C(),16==(16&t))}class ME{constructor(){}supports(e){return Gc(e)}create(e){return new PV(e)}}const RV=(t,e)=>e;class PV{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RV}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<IE(r,i,o)?n:r,a=IE(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){const h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Gc(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function gP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new FV(n,r),o,i),e}_verifyReinsertion(e,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new SE),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SE),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class FV{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class LV{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class SE{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new LV,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IE(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xE{constructor(){}supports(e){return e instanceof Map||Zh(e)}create(){return new VV}}class VV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Zh(e)))throw new D(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new BV(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class BV{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TE(){return new gu([new ME])}let gu=(()=>{class t{static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:TE});constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||TE()),deps:[[t,new dc,new uc]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new D(901,!1)}}return t})();function NE(){return new Ra([new xE])}let Ra=(()=>{class t{static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:NE});constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||NE()),deps:[[t,new dc,new uc]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new D(901,!1)}}return t})();const $V=hE(null,"core",[]);let UV=(()=>{class t{constructor(n){}static#e=this.\u0275fac=function(r){return new(r||t)(N(xi))};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({})}return t})(),Kp=null;function zr(){return Kp}class iB{}const wt=new M("DocumentToken");let Zp=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return S(sB)},providedIn:"platform"})}return t})();const oB=new M("Location Initialized");let sB=(()=>{class t extends Zp{constructor(){super(),this._doc=S(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zr().getBaseHref(this._doc)}onPopState(n){const r=zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=zr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function Yp(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function BE(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function _r(t){return t&&"?"!==t[0]?"?"+t:t}let Ni=(()=>{class t{historyGo(n){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return S(jE)},providedIn:"root"})}return t})();const HE=new M("appBaseHref");let jE=(()=>{class t extends Ni{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Yp(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+_r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+_r(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+_r(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(N(Zp),N(HE,8))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aB=(()=>{class t extends Ni{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Yp(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static#e=this.\u0275fac=function(r){return new(r||t)(N(Zp),N(HE,8))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Qp=(()=>{class t{constructor(n){this._subject=new De,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function uB(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(BE($E(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_r(r))}normalize(n){return t.stripTrailingSlash(function cB(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,$E(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static#e=this.normalizeQueryParams=_r;static#t=this.joinWithSlash=Yp;static#n=this.stripTrailingSlash=BE;static#r=this.\u0275fac=function(r){return new(r||t)(N(Ni))};static#i=this.\u0275prov=T({token:t,factory:function(){return function lB(){return new Qp(N(Ni))}()},providedIn:"root"})}return t})();function $E(t){return t.replace(/\/index.html$/,"")}function YE(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const lg=/\s+/,QE=[];let La=(()=>{class t{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=QE,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(lg):QE}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(lg):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(lg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||t)(_(gu),_(Ra),_(ze),_(Vn))};static#t=this.\u0275dir=V({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class KB{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Iu=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new KB(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),e0(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{e0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(_(_n),_(yr),_(gu))};static#t=this.\u0275dir=V({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function e0(t,e){t.context.$implicit=e.item}let Ai=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ZB,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){t0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){t0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static#e=this.\u0275fac=function(r){return new(r||t)(_(_n),_(yr))};static#t=this.\u0275dir=V({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class ZB{constructor(){this.$implicit=null,this.ngIf=null}}function t0(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${He(e)}'.`)}let r0=(()=>{class t{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split("."),s=-1===i.indexOf("-")?void 0:Br.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||t)(_(ze),_(Ra),_(Vn))};static#t=this.\u0275dir=V({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return t})(),o0=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||t)(_(_n))};static#t=this.\u0275dir=V({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$t]})}return t})();class eH{createSubscription(e,n){return Rv(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){Rv(()=>e.unsubscribe())}}class tH{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const nH=new tH,rH=new eH;let ki=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(ba(n))return nH;if(UD(n))return rH;throw function Dn(t,e){return new D(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||t)(_(fu,16))};static#t=this.\u0275pipe=ht({name:"async",type:t,pure:!1,standalone:!0})}return t})(),s0=(()=>{class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=a0}transform(n,r=a0){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const i=this.differ.diff(n),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(function mH(t,e){return{key:t,value:e}}(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static#e=this.\u0275fac=function(r){return new(r||t)(_(Ra,16))};static#t=this.\u0275pipe=ht({name:"keyvalue",type:t,pure:!1,standalone:!0})}return t})();function a0(t,e){const n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;const i=String(n),o=String(r);return i==o?0:i<o?-1:1}let xu=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({})}return t})();function c0(t){return"server"===t}let bH=(()=>{class t{static#e=this.\u0275prov=T({token:t,providedIn:"root",factory:()=>new EH(N(wt),window)})}return t})();class EH{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function MH(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class u0{}class JH extends iB{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class gg extends JH{static makeCurrent(){!function rB(t){Kp||(Kp=t)}(new gg)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function KH(){return Ba=Ba||document.querySelector("base"),Ba?Ba.getAttribute("href"):null}();return null==n?null:function ZH(t){Au=Au||document.createElement("a"),Au.setAttribute("href",t);const e=Au.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return YE(document.cookie,e)}}let Au,Ba=null,QH=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const mg=new M("EventManagerPlugins");let g0=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static#e=this.\u0275fac=function(r){return new(r||t)(N(mg),N(ye))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();class m0{constructor(e){this._doc=e}}const yg="ng-app-id";let y0=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=c0(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${yg}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(yg),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(yg,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt),N(Ac),N(bC,8),N(wi))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const vg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_g=/%COMP%/g,nj=new M("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function _0(t,e){return e.map(n=>n.replace(_g,t))}let C0=(()=>{class t{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=c0(a),this.defaultRenderer=new Cg(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hn.ShadowDom&&(r={...r,encapsulation:hn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof w0?i.applyToHost(n):i instanceof Dg&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case hn.Emulated:o=new w0(l,c,r,this.appId,u,s,a,d);break;case hn.ShadowDom:return new sj(l,c,n,r,s,a,this.nonce,d);default:o=new Dg(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||t)(N(g0),N(y0),N(Ac),N(nj),N(wt),N(wi),N(ye),N(bC))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();class Cg{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(vg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(D0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(D0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const o=vg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=vg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Br.DashCase|Br.Important)?e.style.setProperty(n,r,i&Br.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Br.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=zr().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function D0(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class sj extends Cg{constructor(e,n,r,i,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=_0(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Dg extends Cg{constructor(e,n,r,i,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?_0(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class w0 extends Dg{constructor(e,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(e,n,r,o,s,a,l,c),this.contentAttr=function rj(t){return"_ngcontent-%COMP%".replace(_g,t)}(c),this.hostAttr=function ij(t){return"_nghost-%COMP%".replace(_g,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let aj=(()=>{class t extends m0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const b0=["alt","control","meta","shift"],lj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let uj=(()=>{class t extends m0{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),b0.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=lj[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),b0.forEach(s=>{s!==i&&(0,cj[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const pj=hE($V,"browser",[{provide:wi,useValue:"browser"},{provide:wC,useValue:function dj(){gg.makeCurrent()},multi:!0},{provide:wt,useFactory:function hj(){return function Zk(t){sh=t}(document),document},deps:[]}]),gj=new M(""),S0=[{provide:uu,useClass:class YH{addToWindow(e){ge.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new D(5103,!1);return o},ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),ge.getAllAngularRootElements=()=>e.getAllRootElements(),ge.frameworkStabilizers||(ge.frameworkStabilizers=[]),ge.frameworkStabilizers.push(r=>{const i=ge.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?zr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:lE,useClass:Vp,deps:[ye,Bp,uu]},{provide:Vp,useClass:Vp,deps:[ye,Bp,uu]}],I0=[{provide:mh,useValue:"root"},{provide:fr,useFactory:function fj(){return new fr},deps:[]},{provide:mg,useClass:aj,multi:!0,deps:[wt,ye,wi]},{provide:mg,useClass:uj,multi:!0,deps:[wt]},C0,y0,g0,{provide:TC,useExisting:C0},{provide:u0,useClass:QH,deps:[]},[]];let mj=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ac,useValue:n.appId}]}}static#e=this.\u0275fac=function(r){return new(r||t)(N(gj,12))};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({providers:[...I0,...S0],imports:[xu,UV]})}return t})(),x0=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt))};static#t=this.\u0275prov=T({token:t,factory:function(r){let i=null;return i=r?new r:function vj(){return new x0(N(wt))}(),i},providedIn:"root"})}return t})();typeof window<"u"&&window;let A0=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(r){let i=null;return i=r?new(r||t):N(k0),i},providedIn:"root"})}return t})(),k0=(()=>{class t extends A0{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case tn.NONE:return r;case tn.HTML:return Ln(r,"HTML")?Gt(r):fC(this._doc,String(r)).toString();case tn.STYLE:return Ln(r,"Style")?Gt(r):r;case tn.SCRIPT:if(Ln(r,"Script"))return Gt(r);throw new D(5200,!1);case tn.URL:return Ln(r,"URL")?Gt(r):Sc(String(r));case tn.RESOURCE_URL:if(Ln(r,"ResourceURL"))return Gt(r);throw new D(5201,!1);default:throw new D(5202,!1)}}bypassSecurityTrustHtml(n){return function rO(t){return new Yk(t)}(n)}bypassSecurityTrustStyle(n){return function iO(t){return new Qk(t)}(n)}bypassSecurityTrustScript(n){return function oO(t){return new Xk(t)}(n)}bypassSecurityTrustUrl(n){return function sO(t){return new eO(t)}(n)}bypassSecurityTrustResourceUrl(n){return function aO(t){return new tO(t)}(n)}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt))};static#t=this.\u0275prov=T({token:t,factory:function(r){let i=null;return i=r?new r:function wj(t){return new k0(t.get(wt))}(N(_t)),i},providedIn:"root"})}return t})();function R0(t){return!!t&&(t instanceof Te||de(t.lift)&&de(t.subscribe))}const{isArray:bj}=Array,{getPrototypeOf:Ej,prototype:Mj,keys:Sj}=Object;function P0(t){if(1===t.length){const e=t[0];if(bj(e))return{args:e,keys:null};if(function Ij(t){return t&&"object"==typeof t&&Ej(t)===Mj}(e)){const n=Sj(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:xj}=Array;function F0(t){return re(e=>function Tj(t,e){return xj(e)?t(...e):t(e)}(t,e))}function L0(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function bg(...t){const e=Fs(t),n=Gy(t),{args:r,keys:i}=P0(t);if(0===r.length)return Be([],e);const o=new Te(function Nj(t,e,n=Ar){return r=>{V0(e,()=>{const{length:i}=t,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)V0(e,()=>{const c=Be(t[l],e);let u=!1;c.subscribe(Re(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>L0(i,s):Ar));return n?o.pipe(F0(n)):o}function V0(t,e,n){t?or(n,t,e):e()}const ku=Os(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Eg(...t){return function Aj(){return no(1)}()(Be(t,Fs(t)))}function B0(t){return new Te(e=>{Vt(t()).subscribe(e)})}function Ha(t,e){const n=de(t)?t:()=>t,r=i=>i.error(n());return new Te(e?i=>e.schedule(r,0,i):r)}function Mg(){return Ve((t,e)=>{let n=null;t._refCount++;const r=Re(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class H0 extends Te{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ny(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lt;const n=this.getSubject();e.add(this.source.subscribe(Re(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lt.EMPTY)}return e}refCount(){return Mg()(this)}}function Xo(t){return t<=0?()=>xn:Ve((e,n)=>{let r=0;e.subscribe(Re(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function wr(t,e){return Ve((n,r)=>{let i=0;n.subscribe(Re(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ou(t){return Ve((e,n)=>{let r=!1;e.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function j0(t=Oj){return Ve((e,n)=>{let r=!1;e.subscribe(Re(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Oj(){return new ku}function Oi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wr((i,o)=>t(i,o,r)):Ar,Xo(1),n?Ou(e):j0(()=>new ku))}function es(t,e){return de(e)?Ge(t,e,1):Ge(t,1)}function it(t,e,n){const r=de(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ve((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Re(o,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),o.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ar}function Ri(t){return Ve((e,n)=>{let o,r=null,i=!1;r=e.subscribe(Re(n,void 0,void 0,s=>{o=Vt(t(s,Ri(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Sg(t){return t<=0?()=>xn:Ve((e,n)=>{let r=[];e.subscribe(Re(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ja(t){return Ve((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function $0(t){return Ve((e,n)=>{Vt(t).subscribe(Re(n,()=>n.complete(),$d)),!n.closed&&e.subscribe(n)})}const z="primary",$a=Symbol("RouteTitle");class Vj{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function ts(t){return new Vj(t)}function Bj(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!U0(t[i],e[i]))return!1;return!0}function U0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}return t===e}function z0(t){return t.length>0?t[t.length-1]:null}function qr(t){return R0(t)?t:ba(t)?Be(Promise.resolve(t)):O(t)}const jj={exact:function W0(t,e,n){if(!Pi(t.segments,e.segments)||!Ru(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!W0(t.children[r],e.children[r],n))return!1;return!0},subset:J0},G0={exact:function $j(t,e){return qn(t,e)},subset:function Uj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U0(t[n],e[n]))},ignored:()=>!0};function q0(t,e,n){return jj[n.paths](t.root,e.root,n.matrixParams)&&G0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function J0(t,e,n){return K0(t,e,e.segments,n)}function K0(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Pi(i,n)||e.hasChildren()||!Ru(i,n,r))}if(t.segments.length===n.length){if(!Pi(t.segments,n)||!Ru(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!J0(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!(Pi(t.segments,i)&&Ru(t.segments,i,r)&&t.children[z])&&K0(t.children[z],e,o,r)}}function Ru(t,e,n){return e.every((r,i)=>G0[n](t[i].parameters,r.parameters))}class ns{constructor(e=new ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return qj.serialize(this)}}class ce{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pu(this)}}class Ua{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=ts(this.parameters)),this._parameterMap}toString(){return Q0(this)}}function Pi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let za=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return new Ig},providedIn:"root"})}return t})();class Ig{parse(e){const n=new r$(e);return new ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Ga(e.root,!0)}`,r=function Kj(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Fu(n)}=${Fu(i)}`).join("&"):`${Fu(n)}=${Fu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Wj(t){return encodeURI(t)}(e.fragment)}`:""}`}}const qj=new Ig;function Pu(t){return t.segments.map(e=>Q0(e)).join("/")}function Ga(t,e){if(!t.hasChildren())return Pu(t);if(e){const n=t.children[z]?Ga(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Ga(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Gj(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===z?[Ga(t.children[z],!1)]:[`${i}:${Ga(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[z]?`${Pu(t)}/${n[0]}`:`${Pu(t)}/(${n.join("//")})`}}function Z0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fu(t){return Z0(t).replace(/%3B/gi,";")}function xg(t){return Z0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lu(t){return decodeURIComponent(t)}function Y0(t){return Lu(t.replace(/\+/g,"%20"))}function Q0(t){return`${xg(t.path)}${function Jj(t){return Object.keys(t).map(e=>`;${xg(e)}=${xg(t[e])}`).join("")}(t.parameters)}`}const Zj=/^[^\/()?;#]+/;function Tg(t){const e=t.match(Zj);return e?e[0]:""}const Yj=/^[^\/()?;=#]+/,Xj=/^[^=?&#]+/,t$=/^[^&#]+/;class r${constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new ce(e,n)),r}parseSegment(){const e=Tg(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Ua(Lu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Qj(t){const e=t.match(Yj);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Tg(this.remaining);i&&(r=i,this.capture(r))}e[Lu(n)]=Lu(r)}parseQueryParam(e){const n=function e$(t){const e=t.match(Xj);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function n$(t){const e=t.match(t$);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Y0(n),o=Y0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Tg(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=z);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[z]:new ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}}function X0(t){return t.segments.length>0?new ce([],{[z]:t}):t}function eM(t){const e={};for(const r of Object.keys(t.children)){const o=eM(t.children[r]);if(r===z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function i$(t){if(1===t.numberOfChildren&&t.children[z]){const e=t.children[z];return new ce(t.segments.concat(e.segments),e.children)}return t}(new ce(t.segments,e))}function Fi(t){return t instanceof ns}function tM(t){let e;const i=X0(function n(o){const s={};for(const l of o.children){const c=n(l);s[l.outlet]=c}const a=new ce(o.url,s);return o===t&&(e=a),a}(t.root));return e??i}function nM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return Ng(i,i,i,n,r);const o=function s$(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new iM(!0,0,t);let e=0,n=!1;const r=t.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new iM(n,e,r)}(e);if(o.toRoot())return Ng(i,i,new ce([],{}),n,r);const s=function a$(t,e,n){if(t.isAbsolute)return new Bu(e,!0,0);if(!n)return new Bu(e,!1,NaN);if(null===n.parent)return new Bu(n,!0,0);const r=Vu(t.commands[0])?0:1;return function l$(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Bu(r,!1,i-o)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(o,i,t),a=s.processChildren?Wa(s.segmentGroup,s.index,o.commands):oM(s.segmentGroup,s.index,o.commands);return Ng(i,s.segmentGroup,a,n,r)}function Vu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function qa(t){return"object"==typeof t&&null!=t&&t.outlets}function Ng(t,e,n,r,i){let s,o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=t===e?n:rM(t,e,n);const a=X0(eM(s));return new ns(a,o,i)}function rM(t,e,n){const r={};return Object.entries(t.children).forEach(([i,o])=>{r[i]=o===e?n:rM(o,e,n)}),new ce(t.segments,r)}class iM{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Vu(r[0]))throw new D(4003,!1);const i=r.find(qa);if(i&&i!==z0(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bu{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function oM(t,e,n){if(t||(t=new ce([],{})),0===t.segments.length&&t.hasChildren())return Wa(t,e,n);const r=function u$(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const s=t.segments[i],a=n[r];if(qa(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!aM(l,c,s))return o;r+=2}else{if(!aM(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const o=new ce(t.segments.slice(0,r.pathIndex),{});return o.children[z]=new ce(t.segments.slice(r.pathIndex),t.children),Wa(o,0,i)}return r.match&&0===i.length?new ce(t.segments,{}):r.match&&!t.hasChildren()?Ag(t,e,n):r.match?Wa(t,0,i):Ag(t,e,n)}function Wa(t,e,n){if(0===n.length)return new ce(t.segments,{});{const r=function c$(t){return qa(t[0])?t[0].outlets:{[z]:t}}(n),i={};if(Object.keys(r).some(o=>o!==z)&&t.children[z]&&1===t.numberOfChildren&&0===t.children[z].segments.length){const o=Wa(t.children[z],e,n);return new ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=oM(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ce(t.segments,i)}}function Ag(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(qa(o)){const l=d$(o.outlets);return new ce(r,l)}if(0===i&&Vu(n[0])){r.push(new Ua(t.segments[e].path,sM(n[0]))),i++;continue}const s=qa(o)?o.outlets[z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vu(a)?(r.push(new Ua(s,sM(a))),i+=2):(r.push(new Ua(s,{})),i++)}return new ce(r,{})}function d$(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ag(new ce([],{}),0,r))}),e}function sM(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function aM(t,e,n){return t==n.path&&qn(e,n.parameters)}const Ja="imperative";class Wn{constructor(e,n){this.id=e,this.url=n}}class Hu extends Wn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wr extends Wn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ka extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rs extends Wn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class ju extends Wn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lM extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f$ extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h$ extends Wn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class p$ extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g$ extends Wn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m${constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class y${constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v${constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _${constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C${constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D${constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cM{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kg{}class Og{constructor(e){this.url=e}}class w${constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Za,this.attachRef=null}}let Za=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new w$,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class uM{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Rg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Rg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Pg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Pg(e,this._root).map(n=>n.value)}}function Rg(t,e){if(t===e.value)return e;for(const n of e.children){const r=Rg(t,n);if(r)return r}return null}function Pg(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Pg(t,n);if(r.length)return r.unshift(e),r}return[]}class br{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function is(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class dM extends uM{constructor(e,n){super(e),this.snapshot=n,Fg(this,e)}toString(){return this.snapshot.toString()}}function fM(t,e){const n=function b$(t,e){const s=new $u([],{},{},"",{},z,e,null,{});return new pM("",new br(s,[]))}(0,e),r=new Yt([new Ua("",{})]),i=new Yt({}),o=new Yt({}),s=new Yt({}),a=new Yt(""),l=new ss(r,i,s,a,o,z,e,n.root);return l.snapshot=n.root,new dM(new br(l,[]),n)}class ss{constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(re(c=>c[$a]))??O(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(re(e=>ts(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(re(e=>ts(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hM(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function E$(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class $u{get title(){return this.data?.[$a]}constructor(e,n,r,i,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ts(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ts(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class pM extends uM{constructor(e,n){super(n),this.url=e,Fg(this,n)}toString(){return gM(this._root)}}function Fg(t,e){e.value._routerState=t,e.children.forEach(n=>Fg(t,n))}function gM(t){const e=t.children.length>0?` { ${t.children.map(gM).join(", ")} } `:"";return`${t.value}${e}`}function Lg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),qn(e.params,n.params)||t.paramsSubject.next(n.params),function Hj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!qn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),qn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vg(t,e){const n=qn(t.params,e.params)&&function zj(t,e){return Pi(t,e)&&t.every((n,r)=>qn(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Vg(t.parent,e.parent))}let Bg=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new De,this.deactivateEvents=new De,this.attachEvents=new De,this.detachEvents=new De,this.parentContexts=S(Za),this.location=S(_n),this.changeDetector=S(fu),this.environmentInjector=S(qt),this.inputBinder=S(Uu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new M$(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=V({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$t]})}return t})();class M${constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ss?this.route:e===Za?this.childContexts:this.parent.get(e,n)}}const Uu=new M("");let mM=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=bg([r.queryParams,r.params,r.data]).pipe(fn(([o,s,a],l)=>(a={...o,...s,...a},0===l?O(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function nB(t){const e=Y(t);if(!e)return null;const n=new va(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Ya(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function I$(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ya(t,r,i);return Ya(t,r)})}(t,e,n);return new br(r,i)}{if(t.shouldAttach(e.value)){const o=t.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ya(t,a)),s}}const r=function x$(t){return new ss(new Yt(t.url),new Yt(t.params),new Yt(t.queryParams),new Yt(t.fragment),new Yt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(o=>Ya(t,o));return new br(r,i)}}const Hg="ngNavigationCancelingError";function yM(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vM(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function vM(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Hg]=!0,r.cancellationCode=e,n&&(r.url=n),r}function _M(t){return t&&t[Hg]}let CM=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ng-component"]],standalone:!0,features:[pb],decls:1,vars:0,template:function(r,i){1&r&&ke(0,"router-outlet")},dependencies:[Bg],encapsulation:2})}return t})();function jg(t){const e=t.children&&t.children.map(jg),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=CM),n}function wn(t){return t.outlet||z}function Qa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class F${constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Lg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=is(n);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=is(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=is(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=is(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new D$(o.value.snapshot))}),e.children.length&&this.forwardEvent(new _$(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,o=n?n.value:null;if(Lg(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lg(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Qa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class DM{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zu{constructor(e,n){this.component=e,this.route=n}}function L$(t,e,n){const r=t._root;return Xa(r,e?e._root:null,n,[r.value])}function as(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function fN(t){return null!==Hl(t)}(t)?e.get(t):t:r}function Xa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=is(e);return t.children.forEach(s=>{(function B$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function H$(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Pi(t.url,e.url)||!qn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vg(t,e)||!qn(t.queryParams,e.queryParams);default:return!Vg(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new DM(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Xa(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zu(a.outlet.component,s))}else s&&el(e,a,i),i.canActivateChecks.push(new DM(r)),Xa(t,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>el(a,n.getContext(s),i)),i}function el(t,e,n){const r=is(t),i=t.value;Object.entries(r).forEach(([o,s])=>{el(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new zu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function tl(t){return"function"==typeof t}function wM(t){return t instanceof ku||"EmptyError"===t?.name}const Gu=Symbol("INITIAL_VALUE");function ls(){return fn(t=>bg(t.map(e=>e.pipe(Xo(1),function kj(...t){const e=Fs(t);return Ve((n,r)=>{(e?Eg(t,n,e):Eg(t,n)).subscribe(r)})}(Gu)))).pipe(re(e=>{for(const n of e)if(!0!==n){if(n===Gu)return Gu;if(!1===n||n instanceof ns)return n}return!0}),wr(e=>e!==Gu),Xo(1)))}function bM(t){return function pT(...t){return Iy(t)}(it(e=>{if(Fi(e))throw yM(0,e)}),re(e=>!0===e))}class qu{constructor(e){this.segmentGroup=e||null}}class EM{constructor(e){this.urlTree=e}}function cs(t){return Ha(new qu(t))}function MM(t){return Ha(new EM(t))}class a3{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new D(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return O(r);if(i.numberOfChildren>1||!i.children[z])return Ha(new D(4e3,!1));i=i.children[z]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const o=this.createSegmentGroup(e,n.root,r,i);return new ns(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){const o=this.createSegments(e,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new ce(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const $g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l3(t,e,n,r,i){const o=Ug(t,e,n);return o.matched?(r=function N$(t,e){return t.providers&&!t._injector&&(t._injector=vp(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function r3(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?O(i.map(s=>{const a=as(s,t);return qr(function q$(t){return t&&tl(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),bM()):O(!0)}(r,e,n).pipe(re(s=>!0===s?o:{...$g}))):O(o)}function Ug(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...$g}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Bj)(n,t,e);if(!i)return{...$g};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SM(t,e,n,r){return n.length>0&&function d3(t,e,n){return n.some(r=>Wu(t,e,r)&&wn(r)!==z)}(t,n,r)?{segmentGroup:new ce(e,u3(r,new ce(n,t.children))),slicedSegments:[]}:0===n.length&&function f3(t,e,n){return n.some(r=>Wu(t,e,r))}(t,n,r)?{segmentGroup:new ce(t.segments,c3(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ce(t.segments,t.children),slicedSegments:n}}function c3(t,e,n,r,i){const o={};for(const s of r)if(Wu(t,n,s)&&!i[wn(s)]){const a=new ce([],{});o[wn(s)]=a}return{...i,...o}}function u3(t,e){const n={};n[z]=e;for(const r of t)if(""===r.path&&wn(r)!==z){const i=new ce([],{});n[wn(r)]=i}return n}function Wu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class m3{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new a3(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,!1)}recognize(){const e=SM(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,z).pipe(Ri(n=>{if(n instanceof EM)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof qu?this.noMatchError(n):n}),re(n=>{const r=new $u([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new br(r,n),o=new pM("",i),s=function o$(t,e,n=null,r=null){return nM(tM(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,z).pipe(Ri(r=>{throw r instanceof qu?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=hM(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Be(i).pipe(es(o=>{const s=r.children[o],a=function R$(t,e){const n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}(n,o);return this.processSegmentGroup(e,a,s,o)}),function Pj(t,e){return Ve(function Rj(t,e,n,r,i){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(Re(s,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(t,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Ou(null),function Fj(t,e){const n=arguments.length>=2;return r=>r.pipe(t?wr((i,o)=>t(i,o,r)):Ar,Sg(1),n?Ou(e):j0(()=>new ku))}(),Ge(o=>{if(null===o)return cs(r);const s=IM(o);return function y3(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}(s),O(s)}))}processSegment(e,n,r,i,o,s){return Be(n).pipe(es(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Ri(l=>{if(l instanceof qu)return O(null);throw l}))),Oi(a=>!!a),Ri(a=>{if(wM(a))return function p3(t,e,n){return 0===e.length&&!t.children[n]}(r,i,o)?O([]):cs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return function h3(t,e,n,r){return!!(wn(t)===r||r!==z&&Wu(e,n,t))&&("**"===t.path||Ug(e,t,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):cs(i):cs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?MM(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Ge(s=>{const a=new ce(s,{});return this.processSegment(e,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Ug(n,i,o);if(!a)return cs(n);const d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?MM(d):this.applyRedirects.lineralizeSegments(i,d).pipe(Ge(f=>this.processSegment(e,r,n,f.concat(c),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?z0(i).parameters:{};a=O({snapshot:new $u(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xM(r),wn(r),r.component??r._loadedComponent??null,r,TM(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=l3(n,r,i,e).pipe(re(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new $u(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xM(r),wn(r),r.component??r._loadedComponent??null,r,TM(r)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(fn(l=>null===l?cs(n):this.getChildConfig(e=r._injector??e,r,i).pipe(fn(({routes:c})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:h}=l,{segmentGroup:p,slicedSegments:g}=SM(n,f,h,c);if(0===g.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(re(y=>null===y?null:[new br(d,y)]));if(0===c.length&&0===g.length)return O([new br(d,[])]);const m=wn(r)===o;return this.processSegment(u,c,p,g,m?z:o,!0).pipe(re(y=>[new br(d,y)]))}))))}getChildConfig(e,n,r){return n.children?O({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?O({routes:n._loadedRoutes,injector:n._loadedInjector}):function n3(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?O(!0):O(i.map(s=>{const a=as(s,t);return qr(function $$(t){return t&&tl(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ls(),bM())}(e,n,r).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(it(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function s3(t){return Ha(vM(!1,3))}())):O({routes:[],injector:e})}}function v3(t){const e=t.value.routeConfig;return e&&""===e.path}function IM(t){const e=[],n=new Set;for(const r of t){if(!v3(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=IM(r.children);e.push(new br(r.value,i))}return e.filter(r=>!n.has(r))}function xM(t){return t.data||{}}function TM(t){return t.resolve||{}}function NM(t){return"string"==typeof t.title||null===t.title}function zg(t){return fn(e=>{const n=t(e);return n?Be(n).pipe(re(()=>e)):O(e)})}const us=new M("ROUTES");let Gg=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=S(iE)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=qr(n.loadComponent()).pipe(re(AM),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ja(()=>{this.componentLoaders.delete(n)})),i=new H0(r,()=>new dt).pipe(Mg());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function M3(t,e,n,r){return qr(t.loadChildren()).pipe(re(AM),Ge(i=>i instanceof fb||Array.isArray(i)?O(i):Be(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(us,[],{optional:!0,self:!0}).flat()),{routes:s.map(jg),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ja(()=>{this.childrenLoaders.delete(r)})),s=new H0(o,()=>new dt).pipe(Mg());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function AM(t){return function S3(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ju=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=S(Gg),this.environmentInjector=S(qt),this.urlSerializer=S(za),this.rootContexts=S(Za),this.inputBindingEnabled=null!==S(Uu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>O(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new y$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new m$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Yt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ja,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wr(o=>0!==o.id),re(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),fn(o=>{this.currentTransition=o;let s=!1,a=!1;return O(o).pipe(it(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),fn(l=>{const c=l.currentBrowserUrl.toString(),u=!n.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.rawUrl),f,0)),l.resolve(null),xn}if(n.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(fn(f=>{const h=this.transitions?.getValue();return this.events.next(new Hu(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?xn:Promise.resolve(f)}),function _3(t,e,n,r,i,o){return Ge(s=>function g3(t,e,n,r,i,o,s="emptyOnly"){return new m3(t,e,n,r,i,s,o).recognize()}(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),it(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new lM(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:m}=l,y=new Hu(f,this.urlSerializer.serialize(h),p,g);this.events.next(y);const v=fM(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:v,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},O(o)}{const f="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),f,1)),l.resolve(null),xn}}),it(l=>{const c=new f$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),re(l=>(this.currentTransition=o={...l,guards:L$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function J$(t,e){return Ge(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?O({...n,guardsResult:!0}):function K$(t,e,n,r){return Be(t).pipe(Ge(i=>function t3(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?O(o.map(a=>{const l=Qa(e)??i,c=as(a,l);return qr(function G$(t){return t&&tl(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):l.runInContext(()=>c(t,e,n,r))).pipe(Oi())})).pipe(ls()):O(!0)}(i.component,i.route,n,e,r)),Oi(i=>!0!==i,!0))}(s,r,i,t).pipe(Ge(a=>a&&function j$(t){return"boolean"==typeof t}(a)?function Z$(t,e,n,r){return Be(e).pipe(es(i=>Eg(function Q$(t,e){return null!==t&&e&&e(new v$(t)),O(!0)}(i.route.parent,r),function Y$(t,e){return null!==t&&e&&e(new C$(t)),O(!0)}(i.route,r),function e3(t,e,n){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function V$(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>B0(()=>O(s.guards.map(l=>{const c=Qa(s.node)??n,u=as(l,c);return qr(function z$(t){return t&&tl(t.canActivateChild)}(u)?u.canActivateChild(r,t):c.runInContext(()=>u(r,t))).pipe(Oi())})).pipe(ls())));return O(o).pipe(ls())}(t,i.path,n),function X$(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return O(!0);const i=r.map(o=>B0(()=>{const s=Qa(e)??n,a=as(o,s);return qr(function U$(t){return t&&tl(t.canActivate)}(a)?a.canActivate(e,t):s.runInContext(()=>a(e,t))).pipe(Oi())}));return O(i).pipe(ls())}(t,i.route,n))),Oi(i=>!0!==i,!0))}(r,o,t,e):O(a)),re(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),it(l=>{if(o.guardsResult=l.guardsResult,Fi(l.guardsResult))throw yM(0,l.guardsResult);const c=new h$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),wr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),zg(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(it(c=>{const u=new p$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),fn(c=>{let u=!1;return O(c).pipe(function C3(t,e){return Ge(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=0;return Be(i).pipe(es(s=>function D3(t,e,n,r){const i=t.routeConfig,o=t._resolve;return void 0!==i?.title&&!NM(i)&&(o[$a]=i.title),function w3(t,e,n,r){const i=function b3(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return O({});const o={};return Be(i).pipe(Ge(s=>function E3(t,e,n,r){const i=Qa(e)??r,o=as(t,i);return qr(o.resolve?o.resolve(e,n):i.runInContext(()=>o(e,n)))}(t[s],e,n,r).pipe(Oi(),it(a=>{o[s]=a}))),Sg(1),function Lj(t){return re(()=>t)}(o),Ri(s=>wM(s)?xn:Ha(s)))}(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=hM(t,n).resolve,i&&NM(i)&&(t.data[$a]=i.title),null)))}(s.route,r,t,e)),it(()=>o++),Sg(1),Ge(s=>o===i.length?O(n):xn))})}(n.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),it(c=>{const u=new g$(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),zg(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(it(f=>{u.component=f}),re(()=>{})));for(const f of u.children)d.push(...c(f));return d};return bg(c(l.targetSnapshot.root)).pipe(Ou(),Xo(1))}),zg(()=>this.afterPreactivation()),re(l=>{const c=function S$(t,e,n){const r=Ya(t,e._root,n?n._root:void 0);return new dM(r,e)}(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),it(()=>{this.events.next(new kg)}),((t,e,n,r)=>re(i=>(new F$(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xo(1),it({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),n.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),$0(this.transitionAbortSubject.pipe(it(l=>{throw l}))),ja(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ri(l=>{if(a=!0,_M(l))this.events.next(new Ka(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function T$(t){return _M(t)&&Fi(t.url)}(l)?this.events.next(new Og(l.url)):o.resolve(!1);else{this.events.next(new ju(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(l))}catch(c){o.reject(c)}}return xn}))}))}cancelNavigationTransition(n,r,i){const o=new Ka(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kM(t){return t!==Ja}let OM=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[$a]}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return S(I3)},providedIn:"root"})}return t})(),I3=(()=>{class t extends OM{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||t)(N(x0))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),x3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return S(N3)},providedIn:"root"})}return t})();class T3{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let N3=(()=>{class t extends T3{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ue(t)))(i||t)}}();static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ku=new M("",{providedIn:"root",factory:()=>({})});let A3=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:function(){return S(k3)},providedIn:"root"})}return t})(),k3=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(nl||{});function RM(t,e){t.events.pipe(wr(n=>n instanceof Wr||n instanceof Ka||n instanceof ju||n instanceof rs),re(n=>n instanceof Wr||n instanceof rs?nl.COMPLETE:n instanceof Ka&&(0===n.code||1===n.code)?nl.REDIRECTING:nl.FAILED),wr(n=>n!==nl.REDIRECTING),Xo(1)).subscribe(()=>{e()})}function O3(t){throw t}function R3(t,e,n){return e.parse("/")}const P3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},F3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=S(rE),this.isNgZoneEnabled=!1,this._events=new dt,this.options=S(Ku,{optional:!0})||{},this.pendingTasks=S(lu),this.errorHandler=this.options.errorHandler||O3,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||R3,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=S(A3),this.routeReuseStrategy=S(x3),this.titleStrategy=S(OM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=S(us,{optional:!0})?.flat()??[],this.navigationTransitions=S(Ju),this.urlSerializer=S(za),this.location=S(Qp),this.componentInputBindingEnabled=!!S(Uu,{optional:!0}),this.eventsSubscription=new Lt,this.isNgZoneEnabled=S(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ns,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=fM(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(PM(r)&&this._events.next(r));if(r instanceof Hu)kM(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof rs)this.rawUrlTree=i.rawUrl;else if(r instanceof lM){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof kg)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ka)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Og){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kM(i.source)};this.scheduleNavigation(o,Ja,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ju&&this.restoreHistory(i,!0),r instanceof Wr&&(this.navigated=!0),PM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ja,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=tM(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return nM(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Fi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ja,null,r)}navigate(n,r={skipLocationChange:!1}){return function L3(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new D(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...P3}:!1===r?{...F3}:r,Fi(n))return q0(this.currentUrlTree,n,i);const o=this.parseUrl(n);return q0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return RM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function PM(t){return!(t instanceof kg||t instanceof Og)}class FM{}let H3=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(wr(n=>n instanceof Wr),es(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=vp(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Be(i).pipe(no())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):O(null);const o=i.pipe(Ge(s=>null===s?O(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Be([o,this.loader.loadComponent(r)]).pipe(no()):o})}static#e=this.\u0275fac=function(r){return new(r||t)(N(sn),N(iE),N(qt),N(FM),N(Gg))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Wg=new M("");let LM=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Hu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Wr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof rs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof cM&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new cM(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function eD(){throw new Error("invalid")}()};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Er(t,e){return{\u0275kind:t,\u0275providers:e}}function BM(){const t=S(_t);return e=>{const n=t.get(xi);if(e!==n.components[0])return;const r=t.get(sn),i=t.get(HM);1===t.get(Jg)&&r.initialNavigation(),t.get(jM,null,K.Optional)?.setUpPreloading(),t.get(Wg,null,K.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HM=new M("",{factory:()=>new dt}),Jg=new M("",{providedIn:"root",factory:()=>1}),jM=new M("");function z3(t){return Er(0,[{provide:jM,useExisting:H3},{provide:FM,useExisting:t}])}const $M=new M("ROUTER_FORROOT_GUARD"),q3=[Qp,{provide:za,useClass:Ig},sn,Za,{provide:ss,useFactory:function VM(t){return t.routerState.root},deps:[sn]},Gg,[]];function W3(){return new dE("Router",sn)}let UM=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[q3,[],{provide:us,multi:!0,useValue:n},{provide:$M,useFactory:Y3,deps:[[sn,new uc,new dc]]},{provide:Ku,useValue:r||{}},r?.useHash?{provide:Ni,useClass:aB}:{provide:Ni,useClass:jE},{provide:Wg,useFactory:()=>{const t=S(bH),e=S(ye),n=S(Ku),r=S(Ju),i=S(za);return n.scrollOffset&&t.setOffset(n.scrollOffset),new LM(i,r,t,e,n)}},r?.preloadingStrategy?z3(r.preloadingStrategy).\u0275providers:[],{provide:dE,multi:!0,useFactory:W3},r?.initialNavigation?Q3(r):[],r?.bindToComponentInputs?Er(8,[mM,{provide:Uu,useExisting:mM}]).\u0275providers:[],[{provide:zM,useFactory:BM},{provide:$p,multi:!0,useExisting:zM}]]}}static forChild(n){return{ngModule:t,providers:[{provide:us,multi:!0,useValue:n}]}}static#e=this.\u0275fac=function(r){return new(r||t)(N($M,8))};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({})}return t})();function Y3(t){return"guarded"}function Q3(t){return["disabled"===t.initialNavigation?Er(3,[{provide:Rp,multi:!0,useFactory:()=>{const e=S(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Jg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Er(2,[{provide:Jg,useValue:0},{provide:Rp,multi:!0,deps:[_t],useFactory:e=>{const n=e.get(oB,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(sn),o=e.get(HM);RM(i,()=>{r(!0)}),e.get(Ju).afterPreactivation=()=>(r(!0),o.closed?O(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const zM=new M("");let GM=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static#e=this.\u0275fac=function(r){return new(r||t)(_(Vn),_(ze))};static#t=this.\u0275dir=V({type:t})}return t})(),Li=(()=>{class t extends GM{static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ue(t)))(i||t)}}();static#t=this.\u0275dir=V({type:t,features:[le]})}return t})();const bn=new M("NgValueAccessor"),tU={provide:bn,useExisting:fe(()=>Kg),multi:!0};let Kg=(()=>{class t extends Li{writeValue(n){this.setProperty("checked",n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ue(t)))(i||t)}}();static#t=this.\u0275dir=V({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&X("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[_e([tU]),le]})}return t})();const nU={provide:bn,useExisting:fe(()=>rl),multi:!0},iU=new M("CompositionEventMode");let rl=(()=>{class t extends GM{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rU(){const t=zr()?zr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static#e=this.\u0275fac=function(r){return new(r||t)(_(Vn),_(ze),_(iU,8))};static#t=this.\u0275dir=V({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&X("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[_e([nU]),le]})}return t})();function Jr(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function qM(t){return null!=t&&"number"==typeof t.length}const ot=new M("NgValidators"),Kr=new M("NgAsyncValidators"),oU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class il{static min(e){return function WM(t){return e=>{if(Jr(e.value)||Jr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function JM(t){return e=>{if(Jr(e.value)||Jr(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function KM(t){return Jr(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function ZM(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function YM(t){return Jr(t.value)||oU.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function QM(t){return e=>Jr(e.value)||!qM(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return XM(e)}static pattern(e){return function eS(t){if(!t)return Zu;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Jr(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return sS(e)}static composeAsync(e){return aS(e)}}function XM(t){return e=>qM(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Zu(t){return null}function tS(t){return null!=t}function nS(t){return ba(t)?Be(t):t}function rS(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function iS(t,e){return e.map(n=>n(t))}function oS(t){return t.map(e=>function sU(t){return!t.validate}(e)?e:n=>e.validate(n))}function sS(t){if(!t)return null;const e=t.filter(tS);return 0==e.length?null:function(n){return rS(iS(n,e))}}function Zg(t){return null!=t?sS(oS(t)):null}function aS(t){if(!t)return null;const e=t.filter(tS);return 0==e.length?null:function(n){return function eU(...t){const e=Gy(t),{args:n,keys:r}=P0(t),i=new Te(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Vt(n[u]).subscribe(Re(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?L0(r,a):a),o.complete())}))}});return e?i.pipe(F0(e)):i}(iS(n,e).map(nS)).pipe(re(rS))}}function Yg(t){return null!=t?aS(oS(t)):null}function lS(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cS(t){return t._rawValidators}function uS(t){return t._rawAsyncValidators}function Qg(t){return t?Array.isArray(t)?t:[t]:[]}function Yu(t,e){return Array.isArray(t)?t.includes(e):t===e}function dS(t,e){const n=Qg(e);return Qg(t).forEach(i=>{Yu(n,i)||n.push(i)}),n}function fS(t,e){return Qg(e).filter(n=>!Yu(t,n))}class hS{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Et extends hS{get formDirective(){return null}get path(){return null}}class Zr extends hS{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pS{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qu=(()=>{class t extends pS{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(_(Zr,2))};static#t=this.\u0275dir=V({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&$n("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[le]})}return t})(),Xu=(()=>{class t extends pS{constructor(n){super(n)}static#e=this.\u0275fac=function(r){return new(r||t)(_(Et,10))};static#t=this.\u0275dir=V({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&$n("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[le]})}return t})();const ol="VALID",td="INVALID",ds="PENDING",sl="DISABLED";function tm(t){return(nd(t)?t.validators:t)||null}function nm(t,e){return(nd(e)?e.asyncValidators:t)||null}function nd(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function mS(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function yS(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new D(1002,"")})}class rd{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ol}get invalid(){return this.status===td}get pending(){return this.status==ds}get disabled(){return this.status===sl}get enabled(){return this.status!==sl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fS(e,this._rawAsyncValidators))}hasValidator(e){return Yu(this._rawValidators,e)}hasAsyncValidator(e){return Yu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ds,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ol,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ol||this.status===ds)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sl:ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ds,this._hasOwnPendingAsyncValidator=!0;const n=nS(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new De,this.statusChanges=new De}_calculateStatus(){return this._allControlsDisabled()?sl:this.errors?td:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ds)?ds:this._anyControlsHaveStatus(td)?td:ol}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function uU(t){return Array.isArray(t)?Zg(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function dU(t){return Array.isArray(t)?Yg(t):t||null}(this._rawAsyncValidators)}}class Vi extends rd{constructor(e,n,r){super(tm(n),nm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){yS(this,0,e),Object.keys(e).forEach(r=>{mS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class vS extends Vi{}const Bi=new M("CallSetDisabledState",{providedIn:"root",factory:()=>al}),al="always";function ll(t,e,n=al){rm(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function hU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&_S(t,e)})}(t,e),function gU(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function pU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&_S(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function fU(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function od(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ad(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rm(t,e){const n=cS(t);null!==e.validator?t.setValidators(lS(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=uS(t);null!==e.asyncValidator?t.setAsyncValidators(lS(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();sd(e._rawValidators,i),sd(e._rawAsyncValidators,i)}function ad(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=cS(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(null!==e.asyncValidator){const i=uS(t);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}const r=()=>{};return sd(e._rawValidators,r),sd(e._rawAsyncValidators,r),n}function _S(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function wS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function bS(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const En=class extends rd{constructor(e=null,n,r){super(tm(n),nm(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=bS(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){bS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let ld=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=V({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return t})(),TS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({})}return t})();const lm=new M("NgModelWithFormControlWarning"),TU={provide:Et,useExisting:fe(()=>fs)};let fs=(()=>{class t extends Et{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new De,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ll(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){od(n.control||null,n,!1),function _U(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function DS(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(od(r||null,n),(t=>t instanceof En)(i)&&(ll(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function CS(t,e){rm(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function mU(t,e){return ad(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rm(this.form,this),this._oldForm&&ad(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||t)(_(ot,10),_(Kr,10),_(Bi,8))};static#t=this.\u0275dir=V({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&X("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_e([TU]),le,$t]})}return t})();const kU={provide:Zr,useExisting:fe(()=>ul)};let ul=(()=>{class t extends Zr{set isDisabled(n){}static#e=this._ngModelWarningSentOnce=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new De,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sm(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===rl?n=o:function vU(t){return Object.getPrototypeOf(t.constructor)===Li}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function om(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function id(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||t)(_(Et,13),_(ot,10),_(Kr,10),_(bn,10),_(lm,8))};static#n=this.\u0275dir=V({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_e([kU]),le,$t]})}return t})();let Hi=(()=>{class t{constructor(){this._validator=Zu}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Zu,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275dir=V({type:t,features:[$t]})}return t})();const GU={provide:ot,useExisting:fe(()=>pm),multi:!0};let pm=(()=>{class t extends Hi{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>function FS(t){return"number"==typeof t?t:parseInt(t,10)}(n),this.createValidator=n=>XM(n)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ue(t)))(i||t)}}();static#t=this.\u0275dir=V({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&jn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_e([GU]),le]})}return t})(),zS=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[TS]})}return t})();class GS extends rd{constructor(e,n,r){super(tm(n),nm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){yS(this,0,e),e.forEach((r,i)=>{mS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function qS(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let WU=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return qS(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Vi(i,o)}record(n,r=null){const i=this._reduceControls(n);return new vS(i,r)}control(n,r,i){let o={};return this.useNonNullable?(qS(r)?o=r:(o.validators=r,o.asyncValidators=i),new En(n,{...o,nonNullable:!0})):new En(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new GS(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof En||n instanceof rd?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JU=(()=>{class t extends WU{group(n,r=null){return super.group(n,r)}control(n,r,i){return super.control(n,r,i)}array(n,r,i){return super.array(n,r,i)}static#e=this.\u0275fac=function(){let n;return function(i){return(n||(n=Ue(t)))(i||t)}}();static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KU=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Bi,useValue:n.callSetDisabledState??al}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[zS]})}return t})(),WS=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:lm,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bi,useValue:n.callSetDisabledState??al}]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[zS]})}return t})();const JS=t=>{const e=(t=>{const e={};return Object.keys(t).forEach(n=>{t[n]&&(e[n]=t[n])}),e})(t);return Object.entries(e).map(([n,r])=>`${(t=>t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`))(n)}:${r}`).join(";")};class gm extends Error{constructor(e){super(e),this.name=this.constructor.name}}const KS=()=>`${Date.now().toString(36)}${Math.random().toString(36).substring(2,7)}`;function st(t){this.content=t}st.prototype={constructor:st,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return-1==i?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new st(o)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new st(n)},addToStart:function(t,e){return new st([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new st(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(-1==o?i.length:o,0,e,n),new st(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=st.from(t)).size?new st(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=st.from(t)).size?new st(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=st.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}},st.from=function(t){if(t instanceof st)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new st(e)};const ZS=st;function YS(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=YS(i.content,o.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function QS(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=QS(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}else n-=l,r-=l}}class w{constructor(e,n){if(this.content=e,this.size=n||0,null==n)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>e&&!1!==r(l,i+a,o||null,s)&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?"function"==typeof i?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new w(i,this.size+e.size)}cut(e,n=this.size){if(0==e&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a=a.isText?a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new w(r,i)}cutByIndex(e,n){return e==n?w.empty:0==e&&n==this.content.length?this:new w(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new w(i,o)}addToStart(e){return new w([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new w(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return YS(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return QS(this,e,n,r)}findIndex(e,n=-1){if(0==e)return cd(0,e);if(e==this.size)return cd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=i+this.child(r).nodeSize;if(s>=e)return s==e||n>0?cd(r+1,s):cd(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return w.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new w(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return w.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new w(n||e,r)}static from(e){if(!e)return w.empty;if(e instanceof w)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new w([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}w.empty=new w([],0);const mm={index:0,offset:0};function cd(t,e){return mm.index=t,mm.offset=e,mm}function ud(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ud(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ud(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let pe=(()=>{class t{constructor(n,r){this.type=n,this.attrs=r}addToSet(n){let r,i=!1;for(let o=0;o<n.length;o++){let s=n[o];if(this.eq(s))return n;if(this.type.excludes(s.type))r||(r=n.slice(0,o));else{if(s.type.excludes(this.type))return n;!i&&s.type.rank>this.type.rank&&(r||(r=n.slice(0,o)),r.push(this),i=!0),r&&r.push(s)}}return r||(r=n.slice()),i||r.push(this),r}removeFromSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return n.slice(0,r).concat(n.slice(r+1));return n}isInSet(n){for(let r=0;r<n.length;r++)if(this.eq(n[r]))return!0;return!1}eq(n){return this==n||this.type==n.type&&ud(this.attrs,n.attrs)}toJSON(){let n={type:this.type.name};for(let r in this.attrs){n.attrs=this.attrs;break}return n}static fromJSON(n,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let i=n.marks[r.type];if(!i)throw new RangeError(`There is no mark type ${r.type} in this schema`);return i.create(r.attrs)}static sameSet(n,r){if(n==r)return!0;if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++)if(!n[i].eq(r[i]))return!1;return!0}static setFrom(n){if(!n||Array.isArray(n)&&0==n.length)return t.none;if(n instanceof t)return[n];let r=n.slice();return r.sort((i,o)=>i.type.rank-o.type.rank),r}}return t.none=[],t})();class dd extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=eI(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(XS(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new I(w.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new I(e,r,i)}}function XS(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(XS(o.content,e-i-1,n-i-1)))}function eI(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=eI(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function XU(t,e,n){if(n.openStart>t.depth)throw new dd("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new dd("Inconsistent open depths");return tI(t,e,n,0)}function tI(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=tI(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:s,end:a}=function ez(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(w.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}(n,t);return $i(o,rI(t,s,a,e,r))}{let s=t.parent,a=s.content;return $i(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}}return $i(o,fd(t,e,r))}function nI(t,e){if(!e.type.compatibleContent(t.type))throw new dd("Cannot join "+e.type.name+" onto "+t.type.name)}function ym(t,e,n){let r=t.node(n);return nI(r,e.node(n)),r}function ji(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function dl(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ji(t.nodeAfter,r),o++));for(let a=o;a<s;a++)ji(i.child(a),r);e&&e.depth==n&&e.textOffset&&ji(e.nodeBefore,r)}function $i(t,e){return t.type.checkContent(e),t.copy(e)}function rI(t,e,n,r,i){let o=t.depth>i&&ym(t,e,i+1),s=r.depth>i&&ym(n,r,i+1),a=[];return dl(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(nI(o,s),ji($i(o,rI(t,e,n,r,i+1)),a)):(o&&ji($i(o,fd(t,e,i+1)),a),dl(e,n,i,a),s&&ji($i(s,fd(n,r,i+1)),a)),dl(r,null,i,a),new w(a)}function fd(t,e,n){let r=[];return dl(null,t,n,r),t.depth>n&&ji($i(ym(t,e,n+1),fd(t,e,n+1)),r),dl(e,null,n,r),new w(r)}I.empty=new I(w.empty,0,0);class fl{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):0==e?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[3*n],i=0==n?0:this.path[3*n-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(0==e.content.size)return pe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)!1===o[s].type.spec.inclusive&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)!1===r[o].type.spec.inclusive&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new hd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new fl(n,r,o)}static resolveCached(e,n){for(let i=0;i<vm.length;i++){let o=vm[i];if(o.pos==n&&o.doc==e)return o}let r=vm[_m]=fl.resolve(e,n);return _m=(_m+1)%tz,r}}let vm=[],_m=0,tz=12;class hd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const nz=Object.create(null);class Jn{constructor(e,n,r,i=pe.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||w.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ud(this.attrs,n||e.defaultAttrs||nz)&&pe.sameSet(this.marks,r||pe.none)}copy(e=null){return e==this.content?this:new Jn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Jn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return 0==e&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new I(c,i.depth-s,o.depth-s)}replace(e,n,r){return XU(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return fl.resolveCached(this,e)}resolveNoCache(e){return fl.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),iI(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=w.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return!!s&&s.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=pe.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!pe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if("text"==n.type){if("string"!=typeof n.text)throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=w.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}Jn.prototype.text=void 0;class pd extends Jn{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):iI(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new pd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new pd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return 0==e&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function iI(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ui{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new rz(e,n);if(null==r.next)return Ui.empty;let i=oI(r);r.next&&r.err("Unexpected trailing text");let o=function uz(t){let e=Object.create(null);return function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);lI(t,l).forEach(u=>{c||i.push([a,c=[]]),-1==c.indexOf(u)&&c.push(u)})})});let o=e[r.join(",")]=new Ui(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(aI);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}(lI(t,0))}(function cz(t){let e=[[]];return i(function o(s,a){if("choice"==s.type)return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if("seq"!=s.type){if("star"==s.type){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}if("plus"==s.type){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}if("opt"==s.type)return[r(a)].concat(o(s.expr,a));if("range"==s.type){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(-1==s.max)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}if("name"==s.type)return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}}(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let c={term:l,to:a};return e[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}}(i));return function dz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),-1==r.indexOf(c)&&r.push(c)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!n.isText&&!n.hasRequiredAttrs())return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];return function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return w.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(d)){i.push(d);let f=o(d,a.concat(u));if(f)return f}}return null}(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function n(r){e.push(r);for(let i=0;i<r.next.length;i++)-1==e.indexOf(r.next[i].next)&&n(r.next[i].next)}(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join("\n")}}Ui.empty=new Ui(!0);class rz{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function oI(t){let e=[];do{e.push(iz(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function iz(t){let e=[];do{e.push(oz(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function oz(t){let e=function lz(t){if(t.eat("(")){let e=oI(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function az(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return 0==i.length&&t.err("No node type or group '"+e+"' found"),i}(t,t.next).map(n=>(null==t.inline?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=sz(t,e)}return e}function sI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function sz(t,e){let n=sI(t),r=n;return t.eat(",")&&(r="}"!=t.next?sI(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function aI(t,e){return e-t}function lI(t,e){let n=[];return function r(i){let o=t[i];if(1==o.length&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&-1==n.indexOf(l)&&r(l)}}(e),n.sort(aI)}function cI(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function uI(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function dI(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new fz(t[n]);return e}class gd{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=dI(r.attrs),this.defaultAttrs=cI(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ui.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:uI(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Jn(this,this.computeAttrs(e),w.from(n),pe.setFrom(r))}createChecked(e=null,n,r){return n=w.from(n),this.checkContent(n),new Jn(this,this.computeAttrs(e),n,pe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),(n=w.from(n)).size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(w.empty,!0);return o?new Jn(this,e,n.append(o),pe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:pe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new gd(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class fz{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class md{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=dI(i.attrs),this.excluded=null;let o=cI(this.attrs);this.instance=o?new pe(this,o):null}create(e=null){return!e&&this.instance?this.instance:new pe(this,uI(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new md(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}function fI(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class zi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new mI(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new mI(this,n,!0);return r.addAll(e,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(mz(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(!1===s)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(0!=a.indexOf(e)||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(61!=a.charCodeAt(e.length)||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(!1===l)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=null==i.priority?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((null==a.priority?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=yI(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=yI(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new zi(e,zi.schemaRules(e)))}}const hI={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},pz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},pI={ol:!0,ul:!0};function gI(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class _d{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=pe.none,this.stashMarks=[],this.match=s||(4&a?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(w.from(e));if(!n){let i,r=this.type.contentMatch;return(i=r.findWrapping(e.type))?(this.match=r,i):null}this.match=this.type.contentMatch.matchFragment(n)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let i,r=this.content[this.content.length-1];if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=w.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(w.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):vz(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!hI.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class mI{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let o,i=n.topNode,s=gI(null,n.preserveWhitespace,0)|(r?4:0);o=i?new _d(i.type,i.attrs,pe.none,pe.none,!0,n.topMatch||i.type.contentMatch,s):new _d(r?null:e.schema.topNodeType,null,pe.none,pe.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){3==e.nodeType?this.addTextNode(e):1==e.nodeType&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(function yz(t){let n,e=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}(r));if(!i)return;let[o,s]=i,a=this.top;for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<o.length;l++)this.addPendingMark(o[l]);n();for(let l=0;l<o.length;l++)this.removePendingMark(o[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(2&r.options||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(1&r.options)n=2&r.options?n.replace(/\r\n?/g,"\n"):n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&"BR"==o.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let i,r=e.nodeName.toLowerCase();pI.hasOwnProperty(r)&&this.parser.normalizeLists&&function gz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&pI.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:pz.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(hI.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,!1===o.consuming?i:void 0)})}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"==e.nodeName&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=pe.none,r=pe.none;for(let i=0;i<e.length;i+=2)for(let o;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{s.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),!1!==s.consuming)break;o=s}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;"string"==typeof n.contentElement?l=e.querySelector(n.contentElement):"function"==typeof n.contentElement?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=null==r?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=gI(e,i,o.options);4&o.options&&0==o.content.length&&(s|=4),this.nodes.push(new _d(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)null==this.find[n].pos&&1==e.nodeType&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=(i?0:1)-(r?r.depth+1:0),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(""==c){if(a==n.length-1||0==a)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}{let u=l>0||0==l&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=function _z(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function mz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function yI(t){let e={};for(let n in t)e[n]=t[n];return e}function vz(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class Kn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Cm(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(this.marks[c.type.name]){if(!c.eq(o[a][0])||!1===c.type.spec.spanning)break;a++,l++}else l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Kn.renderSpec(Cm(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Kn.renderSpec(Cm(r),i(e,n))}static renderSpec(e,n,r=null){if("string"==typeof n)return{dom:e.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],c=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){c=2;for(let u in l)if(null!=l[u]){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(0===d){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:f,contentDOM:h}=Kn.renderSpec(e,d,r);if(a.appendChild(f),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Kn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=vI(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return vI(e.marks)}}function vI(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Cm(t){return t.document||window.document}const CI=Math.pow(2,16);function Cz(t,e){return t+e*CI}function DI(t){return 65535&t}class Dm{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Kt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Kt.empty)return Kt.empty}recover(e){let n=0,r=DI(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*r]+n+function Dz(t){return(t-(65535&t))/CI}(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(e<=d){let h=l+i+((c?e==l?-1:e==d?1:n:n)<0?0:u);if(r)return h;let p=e==(n<0?l:d)?null:Cz(a/3,e-l),g=e==l?2:e==d?1:4;return(n<0?e!=l:e!=d)&&(g|=8),new Dm(h,g,p)}i+=u-c}return r?e+i:new Dm(e+i,0,null)}touches(e,n){let r=0,i=DI(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+o];if(e<=l+c&&a==3*i)return!0;r+=this.ranges[a+s]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),o+=u-c}}invert(){return new Kt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Kt.empty:new Kt(e<0?[0,-e,0]:[0,0,e])}}Kt.empty=new Kt([]);class hs{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new hs(this.maps,this.mirror,e,n)}copy(){return new hs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),null!=n&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],null!=i&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror)for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),null!=i&&i>n?r-i-1:void 0)}}invert(){let e=new hs;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let a=this.maps[o].mapResult(e,n);if(null!=a.recover){let l=this.getMirror(o);if(null!=l&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Dm(e,i,null)}}const wm=Object.create(null);class at{getMap(){return Kt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=wm[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in wm)throw new RangeError("Duplicate use of step JSON ID "+e);return wm[e]=n,n.prototype.jsonID=e,n}}class Fe{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Fe(e,null)}static fail(e){return new Fe(null,e)}static fromReplace(e,n,r,i){try{return Fe.ok(e.replace(n,r,i))}catch(o){if(o instanceof dd)return Fe.fail(o.message);throw o}}}function bm(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(bm(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return w.fromArray(r)}class Yr extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new I(bm(n.content,(s,a)=>s.isAtom&&a.type.allowsMarkType(this.mark.type)?s.mark(this.mark.addToSet(s.marks)):s,i),n.openStart,n.openEnd);return Fe.fromReplace(e,this.from,this.to,o)}invert(){return new Zn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Yr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Yr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Yr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Yr(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("addMark",Yr);class Zn extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(bm(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Fe.fromReplace(e,this.from,this.to,r)}invert(){return new Yr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Zn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Zn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Zn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zn(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("removeMark",Zn);class Qr extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Fe.fromReplace(e,this.pos,this.pos+1,new I(w.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Qr(this.pos,n.marks[i]);return new Qr(this.pos,this.mark)}}return new ps(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Qr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Qr(n.pos,e.markFromJSON(n.mark))}}at.jsonID("addNodeMark",Qr);class ps extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fe.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Fe.fromReplace(e,this.pos,this.pos+1,new I(w.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return n&&this.mark.isInSet(n.marks)?new Qr(this.pos,this.mark):this}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ps(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ps(n.pos,e.markFromJSON(n.mark))}}at.jsonID("removeNodeMark",ps);class lt extends at{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Em(e,this.from,this.to)?Fe.fail("Structure replace would overwrite content"):Fe.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Kt([this.from,this.to-this.from,this.slice.size])}invert(e){return new lt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new lt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof lt)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new lt(e.from,this.to,n,this.structure)}}{let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new lt(this.from,this.to+(e.to-e.from),n,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new lt(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}at.jsonID("replace",lt);class Ye extends at{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(Em(e,this.from,this.gapFrom)||Em(e,this.gapTo,this.to)))return Fe.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Fe.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Fe.fromReplace(e,this.from,this.to,r):Fe.fail("Content does not fit in gap")}getMap(){return new Kt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ye(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ye(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ye(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}function Em(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function Mz(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function pl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(0==r||i.type.spec.isolating||!Mz(i,o,s))break}return null}function Mm(t,e,n=null,r=t){let i=function Iz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);return o&&n.canReplaceWith(r,i,o.length?o[0]:e)?o:null}(t,e),o=i&&function xz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return l&&l.validEnd?s:null}(r,e);return o?i.map(MI).concat({type:e,attrs:n}).concat(o.map(MI)):null}function MI(t){return{type:t,attrs:null}}function gs(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),f=i.index(c);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[u+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function Dd(t,e){let n=t.resolve(e),r=n.index();return function SI(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Sm(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return II(i,o,r)?new lt(e,n,r):new Lz(i,o,r).fit()}function II(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}at.jsonID("replaceAround",Ye);class Lz{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=w.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=w.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&1==o.childCount;)o=o.firstChild.content,s--,a--;let l=new I(o,s,a);return e>-1?new Ye(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new lt(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=1==n?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Im(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let u,{type:l,match:c}=this.frontier[a],d=null;if(1==n&&(s?c.matchType(s.type)||(d=c.fillBefore(w.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(2==n&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Im(e,n);return!(!i.childCount||i.firstChild.isLeaf||(this.unplaced=new I(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),0))}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Im(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new I(gl(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new I(gl(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),m=d.matchType(g.type);if(!m)break;c++,(c>1||0==l||g.content.size)&&(d=m,u.push(xI(g.mark(f.allowedMarks(g.marks)),1==c?l:0,c==a.childCount?h:-1)))}let p=c==a.childCount;p||(h=-1),this.placed=ml(this.placed,n,w.from(u)),this.frontier[n].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<h;g++){let y=m.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),m=y.content}this.unplaced=p?0==e?I.empty:new I(gl(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new I(gl(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let n,e=this.frontier[this.depth];if(!e.type.isTextblock||!xm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=xm(e,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=xm(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ml(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ml(this.placed,this.depth,w.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(w.empty,!0);n.childCount&&(this.placed=ml(this.placed,this.frontier.length,n))}}function gl(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(gl(t.firstChild.content,e-1,n)))}function ml(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ml(t.lastChild.content,e-1,n)))}function Im(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function xI(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,xI(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(w.empty,!0)))),t.copy(r)}function xm(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!function Vz(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,s)?a:null}function Bz(t){return t.spec.defining||t.spec.definingForContent}function TI(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(TI(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(w.empty,!0))}return t}function NI(t,e){let n=[];for(let i=Math.min(t.depth,e.depth);i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class ms extends at{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Fe.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Fe.fromReplace(e,this.pos,this.pos+1,new I(w.from(i),0,n.isLeaf?0:1))}getMap(){return Kt.empty}invert(e){return new ms(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ms(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if("number"!=typeof n.pos||"string"!=typeof n.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ms(n.pos,n.attr,n.value)}}at.jsonID("attr",ms);class yl extends at{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Fe.ok(r)}getMap(){return Kt.empty}invert(e){return new yl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if("string"!=typeof n.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new yl(n.attr,n.value)}}at.jsonID("docAttr",yl);let ys=class extends Error{};ys=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(ys.prototype=Object.create(Error.prototype)).constructor=ys,ys.prototype.name="TransformError";class Uz{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new hs}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ys(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let i=Sm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new I(w.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return function Hz(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(II(i,o,r))return t.step(new lt(e,n,r));let s=NI(i,t.doc.resolve(n));0==s[s.length-1]&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let f=i.depth,h=i.pos-1;f>0;f--,h--){let p=i.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;s.indexOf(f)>-1?a=f:i.before(f)==h&&s.splice(1,0,-f)}let l=s.indexOf(a),c=[],u=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(c.push(p),h==r.openStart)break;f=p.content}for(let f=u-1;f>=0;f--){let h=c[f],p=Bz(h.type);if(p&&!h.sameMarkup(i.node(Math.abs(a)-1)))u=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+u+1)%(r.openStart+1),p=c[h];if(p)for(let g=0;g<s.length;g++){let m=s[(g+l)%s.length],y=!0;m<0&&(y=!1,m=-m);let v=i.node(m-1),b=i.index(m-1);if(v.canReplaceWith(b,b,p.type,p.marks))return t.replace(i.before(m),y?o.after(m):n,new I(TI(r.content,0,r.openStart,h),h,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let h=s[f];h<0||(e=i.before(h),n=o.after(h))}}(this,e,n,r),this}replaceRangeWith(e,n,r){return function jz(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=function Pz(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}(t.doc,e,r.type);null!=i&&(e=n=i)}t.replaceRange(e,n,new I(w.from(r),0,0))}(this,e,n,r),this}deleteRange(e,n){return function $z(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=NI(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&0==a||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}(this,e,n),this}lift(e,n){return function Sz(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=w.empty,d=0;for(let p=o,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=w.from(r.node(p).copy(u)),d++):l--;let f=w.empty,h=0;for(let p=o,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,f=w.from(i.node(p).copy(f)),h++):c++;t.step(new Ye(l,c,s,a,new I(u.append(f),d,h),u.size-d,!0))}(this,e,n),this}join(e,n=1){return function Rz(t,e,n){let r=new lt(e-n,e+n,I.empty,!0);t.step(r)}(this,e,n),this}wrap(e,n){return function Tz(t,e,n){let r=w.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=w.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ye(i,o,i,o,new I(r,0,0),n.length,!0))}(this,e,n),this}setBlockType(e,n=e,r,i=null){return function Nz(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&function Az(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),c=l.map(a,1),u=l.map(a+s.nodeSize,1);return t.step(new Ye(c,u,c+1,u-1,new I(w.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return function kz(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ye(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new I(w.from(s),0,0),1,!0))}(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ms(e,n,r)),this}setDocAttribute(e,n){return this.step(new yl(e,n)),this}addNodeMark(e,n){return this.step(new Qr(e,n)),this}removeNodeMark(e,n){if(!(n instanceof pe)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(!(n=n.isInSet(r.marks)))return this}return this.step(new ps(e,n)),this}split(e,n=1,r){return function Oz(t,e,n=1,r){let i=t.doc.resolve(e),o=w.empty,s=w.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=w.from(i.node(a).copy(o));let u=r&&r[c];s=w.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}t.step(new lt(e,e,new I(o.append(s),n,n),!0))}(this,e,n,r),this}addMark(e,n,r){return function wz(t,e,n,r){let s,a,i=[],o=[];t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),h=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=h:i.push(s=new Zn(f,h,d[g])));a&&a.to==f?a.to=h:o.push(a=new Yr(f,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}(this,e,n,r),this}removeMark(e,n,r){return function bz(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof md){let u,c=s.marks;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let f,d=l[u];for(let h=0;h<i.length;h++){let p=i[h];p.step==o-1&&d.eq(i[h].style)&&(f=p)}f?(f.to=c,f.step=o):i.push({style:d,from:Math.max(a,e),to:c,step:o})}}}),i.forEach(s=>t.step(new Zn(s.from,s.to,s.style)))}(this,e,n,r),this}clearIncompatible(e,n,r){return function Ez(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),c=s+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new Zn(s,c,l.marks[d]));if(l.isText&&!n.spec.code){let d,h,f=/\r?\n|\r/g;for(;d=f.exec(l.text);)h||(h=new I(w.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),o.push(new lt(s+d.index,s+d.index+d[0].length,h))}}else o.push(new lt(s,c,I.empty));s=c}if(!r.validEnd){let a=r.fillBefore(w.empty,!0);t.replace(s,s,new I(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}(this,e,n,r),this}}const Tm=Object.create(null);class ee{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new zz(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=e.mapping.slice(o);e.replaceRange(u.map(l.pos),u.map(c.pos),a?I.empty:n),0==a&&OI(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),OI(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ue(e):vs(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?vs(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):vs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Zt(e.node(0))}static atStart(e){return vs(e,e,0,0,1)||new Zt(e)}static atEnd(e){return vs(e,e,e.content.size,e.childCount,-1)||new Zt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Tm[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Tm)throw new RangeError("Duplicate use of selection JSON ID "+e);return Tm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ue.between(this.$anchor,this.$head).getBookmark()}}ee.prototype.visible=!0;class zz{constructor(e,n){this.$from=e,this.$to=n}}let AI=!1;function kI(t){!AI&&!t.parent.inlineContent&&(AI=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ue extends ee{constructor(e,n=e){kI(e),kI(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ee.near(r);let i=e.resolve(n.map(this.anchor));return new ue(i.parent.inlineContent?i:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ue&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new wd(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new ue(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ee.findFrom(n,r,!0)||ee.findFrom(n,-r,!0);if(!o)return ee.near(n,r);n=o.$head}return e.parent.inlineContent||(0==i||(e=(ee.findFrom(e,-r,!0)||ee.findFrom(e,r,!0)).$anchor).pos<n.pos!=i<0)&&(e=n),new ue(e,n)}}ee.jsonID("text",ue);class wd{constructor(e,n){this.anchor=e,this.head=n}map(e){return new wd(e.map(this.anchor),e.map(this.head))}resolve(e){return ue.between(e.resolve(this.anchor),e.resolve(this.head))}}class F extends ee{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ee.near(o):new F(o)}content(){return new I(w.from(this.node),0,0)}eq(e){return e instanceof F&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Nm(this.anchor)}static fromJSON(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new F(e.resolve(n.anchor))}static create(e,n){return new F(e.resolve(n))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}F.prototype.visible=!1,ee.jsonID("node",F);class Nm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new wd(r,r):new Nm(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&F.isSelectable(r)?new F(n):ee.near(n)}}class Zt extends ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Zt(e)}map(e){return new Zt(e)}eq(e){return e instanceof Zt}getBookmark(){return Gz}}ee.jsonID("all",Zt);const Gz={map(){return this},resolve:t=>new Zt(t)};function vs(t,e,n,r,i,o=!1){if(e.inlineContent)return ue.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&F.isSelectable(a))return F.create(t,n-(i<0?a.nodeSize:0))}else{let l=vs(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function OI(t,e,n){let r=t.steps.length-1;if(r<e)return;let s,i=t.steps[r];(i instanceof lt||i instanceof Ye)&&(t.mapping.maps[r].forEach((a,l,c,u)=>{null==s&&(s=u)}),t.setSelection(ee.near(t.doc.resolve(s),n)))}class qz extends Uz{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return pe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,n){super.addStep(e,n),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||pe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(null==n)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(null==r&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ee.near(this.selection.$to)),this}}setMeta(e,n){return this.meta["string"==typeof e?e:e.key]=n,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function FI(t,e){return e&&t?t.bind(e):t}class vl{constructor(e,n,r){this.name=e,this.init=FI(n.init,r),this.apply=FI(n.apply,r)}}const Wz=[new vl("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new vl("selection",{init:(t,e)=>t.selection||ee.atStart(e.doc),apply:t=>t.selection}),new vl("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new vl("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class Am{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Wz.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new vl(r.key,r.spec.state,r))})}}class _s{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new _s(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new qz(this)}static create(e){let n=new Am(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new _s(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Am(this.schema,e.plugins),r=n.fields,i=new _s(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&"object"==typeof e)for(let r in e){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Am(e.schema,e.plugins),o=new _s(i);return i.fields.forEach(s=>{if("doc"==s.name)o.doc=Jn.fromJSON(e.schema,n.doc);else if("selection"==s.name)o.selection=ee.fromJSON(o.doc,n.selection);else if("storedMarks"==s.name)n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a))return void(o[s.name]=c.fromJSON.call(l,e,n[a],o))}o[s.name]=s.init(e,o)}}),o}}function LI(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=LI(i,e,{})),n[r]=i}return n}class Yn{constructor(e){this.spec=e,this.props={},e.props&&LI(e.props,this,this.props),this.key=e.key?e.key.key:VI("plugin")}getState(e){return e[this.key]}}const km=Object.create(null);function VI(t){return t in km?t+"$"+ ++km[t]:(km[t]=0,t+"$")}class Mr{constructor(e="key"){this.key=VI(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mt=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},_l=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let BI=null;const Sr=function(t,e,n){let r=BI||(BI=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Gi=function(t,e,n,r){return n&&(HI(t,e,n,r,-1)||HI(t,e,n,r,1))},Jz=/^(img|br|input|textarea|hr)$/i;function HI(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Qn(t))){let o=t.parentNode;if(!o||1!=o.nodeType||Om(t)||Jz.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Mt(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?Qn(t):0}}}function Qn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Om(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ed=function(t){return t.focusNode&&Gi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function qi(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}const Xn=typeof navigator<"u"?navigator:null,jI=typeof document<"u"?document:null,Xr=Xn&&Xn.userAgent||"",Rm=/Edge\/(\d+)/.exec(Xr),$I=/MSIE \d/.exec(Xr),Pm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Xr),Pt=!!($I||Pm||Rm),ei=$I?document.documentMode:Pm?+Pm[1]:Rm?+Rm[1]:0,Mn=!Pt&&/gecko\/(\d+)/i.test(Xr);Mn&&/Firefox\/(\d+)/.exec(Xr);const Fm=!Pt&&/Chrome\/(\d+)/.exec(Xr),ct=!!Fm,Qz=Fm?+Fm[1]:0,St=!Pt&&!!Xn&&/Apple Computer/.test(Xn.vendor),Cs=St&&(/Mobile\/\w+/.test(Xr)||!!Xn&&Xn.maxTouchPoints>2),an=Cs||!!Xn&&/Mac/.test(Xn.platform),Xz=!!Xn&&/Win/.test(Xn.platform),Sn=/Android \d/.test(Xr),Cl=!!jI&&"webkitFontSmoothing"in jI.documentElement.style,e4=Cl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function t4(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ir(t,e){return"number"==typeof t?t:t[e]}function n4(t){let e=t.getBoundingClientRect();return{left:e.left,right:e.left+t.clientWidth*(e.width/t.offsetWidth||1),top:e.top,bottom:e.top+t.clientHeight*(e.height/t.offsetHeight||1)}}function UI(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=_l(s)){if(1!=s.nodeType)continue;let a=s,l=a==o.body,c=l?t4(o):n4(a),u=0,d=0;if(e.top<c.top+Ir(r,"top")?d=-(c.top-e.top+Ir(i,"top")):e.bottom>c.bottom-Ir(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+Ir(i,"top")-c.top:e.bottom-c.bottom+Ir(i,"bottom")),e.left<c.left+Ir(r,"left")?u=-(c.left-e.left+Ir(i,"left")):e.right>c.right-Ir(r,"right")&&(u=e.right-c.right+Ir(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,h=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-f,g=a.scrollTop-h;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function zI(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=_l(r));return e}function GI(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ds=null;function qI(t,e){let n,i,l,c,r=2e8,o=0,s=e.top,a=e.top;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(1==u.nodeType)f=u.getClientRects();else{if(3!=u.nodeType)continue;f=Sr(u).getClientRects()}for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=s&&p.bottom>=a){s=Math.max(p.bottom,s),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&3==n.nodeType?{left:p.right<e.left?p.right:p.left,top:e.top}:e,1==u.nodeType&&g&&(o=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&3==n.nodeType?function s4(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ti(r,1);if(o.top!=o.bottom&&Lm(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(n,i):!n||r&&1==n.nodeType?{node:t,offset:o}:qI(n,i)}function Lm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function WI(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(1==s.nodeType){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(Lm(e,c))return WI(s,e,c)}}if((o=(o+1)%r)==i)break}return t}function u4(t,e){let r,n=t.dom.ownerDocument,i=0,o=function Yz(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}(n,e.left,e.top);o&&({node:r,offset:i}=o);let a,s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top);if(!s||!t.dom.contains(1!=s.nodeType?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!Lm(e,c)||(s=WI(t.dom,e,c),!s))return null}if(St)for(let c=s;r&&c;c=_l(c))c.draggable&&(r=void 0);if(s=function a4(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(s,e),r){if(Mn&&1==r.nodeType&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d,u=r.childNodes[i];"IMG"==u.nodeName&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Cl&&i&&1==r.nodeType&&1==(c=r.childNodes[i-1]).nodeType&&"false"==c.contentEditable&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&1==r.lastChild.nodeType&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(0==i||1!=r.nodeType||"BR"!=r.childNodes[i-1].nodeName)&&(a=function c4(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let a=t.docView.nearestDesc(o,!0);if(!a)return null;if(1==a.dom.nodeType&&(a.node.isBlock&&a.parent&&!s||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!s&&(s=!0,l.left>r.left||l.top>r.top?i=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(i=a.posAfter)),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}(t,r,i,e))}null==a&&(a=function l4(t,e,n){let{node:r,offset:i}=qI(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function JI(t){return t.top<t.bottom||t.left<t.right}function ti(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(JI(r))return r}return Array.prototype.find.call(n,JI)||t.getBoundingClientRect()}const d4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function KI(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Cl||Mn;if(3==r.nodeType){if(!s||!d4.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Dl(ti(Sr(r,l,c),u),u<0)}{let l=ti(Sr(r,i,i),n);if(Mn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=ti(Sr(r,i-1,i-1),-1);if(c.top==l.top){let u=ti(Sr(r,i,i+1),-1);if(u.top!=l.top)return Dl(u,u.left<c.left)}}return l}}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(null==o&&i&&(n<0||i==Qn(r))){let l=r.childNodes[i-1];if(1==l.nodeType)return Vm(l.getBoundingClientRect(),!1)}if(null==o&&i<Qn(r)){let l=r.childNodes[i];if(1==l.nodeType)return Vm(l.getBoundingClientRect(),!0)}return Vm(r.getBoundingClientRect(),n>=0)}if(null==o&&i&&(n<0||i==Qn(r))){let l=r.childNodes[i-1],c=3==l.nodeType?Sr(l,Qn(l)-(s?0:1)):1!=l.nodeType||"BR"==l.nodeName&&l.nextSibling?null:l;if(c)return Dl(ti(c,1),!1)}if(null==o&&i<Qn(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?3==l.nodeType?Sr(l,0,s?0:1):1==l.nodeType?l:null:null;if(c)return Dl(ti(c,-1),!0)}return Dl(ti(3==r.nodeType?Sr(r):r,-n),n>=0)}function Dl(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Vm(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ZI(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}const h4=/[\u0590-\u08ac]/;let YI=null,QI=null,XI=!1;class wl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(s=o.pmViewDesc)||s.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}}let i;if(e==this.dom&&this.contentDOM)i=n>Mt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==n)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(null==i&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s,o=this.getDesc(i);if(o&&(!n||o.node)){if(!r||!(s=o.nodeDOM)||(1==s.nodeType?s.contains(1==e.nodeType?e:e.parentNode):s==e))return o;r=!1}}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof rx){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof tx&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,o&&o.dom.parentNode!=this.contentDOM;r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Mt(o.dom)+1:0}}{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,o&&o.dom.parentNode!=this.contentDOM;r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Mt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(-1==i&&e<=c){let u=s+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=s;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=Mt(f.dom)+1;break}e-=f.size}-1==i&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Mt(d.dom);break}n+=d.size}-1==o&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return 0==n.size||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,h=0;f<this.children.length;f++){let p=this.children[f],g=h+p.size;if(o>h&&s<g)return p.setSelection(e-h-p.border,n-h-p.border,r,i);h=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((Mn||St)&&e==n){let{node:f,offset:h}=a;if(3==f.nodeType){if(u=!(!h||"\n"!=f.nodeValue[h-1]),u&&h==f.nodeValue.length)for(let g,p=f;p;p=p.parentNode){if(g=p.nextSibling){"BR"==g.nodeName&&(a=l={node:g.parentNode,offset:Mt(g)+1});break}let m=p.pmViewDesc;if(m&&m.node&&m.node.isBlock)break}}else{let p=f.childNodes[h-1];u=p&&("BR"==p.nodeName||"false"==p.contentEditable)}}if(Mn&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let f=c.focusNode.childNodes[c.focusOffset];f&&"false"==f.contentEditable&&(i=!0)}if(!(i||u&&St)&&Gi(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Gi(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let h=a;a=l,l=h}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l)return this.dirty=e==r||n==s?2:1,void(e!=a||n!=l||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,n-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}r=s}this.dirty=2}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=1==e?2:1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class tx extends wl{constructor(e,n,r,i){let o,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:i)),!n.type.spec.raw){if(1!=s.nodeType){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return!!n&&n(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class m4 extends wl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class Ji extends wl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Kn.renderSpec(document,n.type.spec.toDOM(n,r))),new Ji(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),0!=this.dirty){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}slice(e,n,r){let i=Ji.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=jm(o,n,s,r)),e>0&&(o=jm(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class ni extends wl{constructor(e,n,r,i,o,s,a,l,c){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,o,s){let l,a=o.nodeViews[n.type.name],c=a&&a(n,o,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:s,r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(n.text);else u||({dom:u,contentDOM:d}=Kn.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&"BR"!=u.nodeName&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=sx(u,r,n),c?l=new y4(e,n,r,i,u,d||null,f,c,o,s+1):n.isText?new Md(e,n,r,i,u,f,o):new ni(e,n,r,i,u,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>w.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,n,r){return 0==this.dirty&&e.eq(this.node)&&Hm(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new _4(this,s&&s.node,e);(function w4(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d,f,h;for(;s<i.length&&i[s].to==o;){let m=i[s++];m.widget&&(u?(d||(d=[u])).push(m):u=m)}if(u)if(d){d.sort(D4);for(let m=0;m<d.length;m++)n(d[m],c,!!l)}else n(u,c,!!l);if(l)h=-1,f=l,l=null;else{if(!(c<t.childCount))break;h=c,f=t.child(c++)}for(let m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let p=o+f.nodeSize;if(f.isText){let m=p;s<i.length&&i[s].from<m&&(m=i[s].from);for(let y=0;y<a.length;y++)a[y].to<m&&(m=a[y].to);m<p&&(l=f.cut(m-o),f=f.cut(0,m-o),p=m,h=-1)}else for(;s<i.length&&i[s].to<p;)s++;r(f,f.isInline&&!f.isLeaf?a.filter(m=>!m.inline):a.slice(),e.forChild(o,f),h),o=p}})(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?pe.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,f)=>{let h;l.syncToMarks(c.marks,r,e),l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,h,e)||l.updateNextNode(c,u,d,e,f,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),ix(this.contentDOM,this.children,e),Cs&&function b4(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t),t.style.cssText=e}}(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ue)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=function E4(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=Qn(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=function M4(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new m4(this,o,n,i);e.input.compositionNodes.push(s),this.children=jm(this.children,r,r+i.length,e,s)}update(e,n,r,i){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,n,r,i),0))}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(Hm(e,this.outerDeco))return;let n=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=ox(this.dom,this.nodeDOM,Bm(this.outerDeco,this.node,n),Bm(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function nx(t,e,n,r,i){sx(r,e,t);let o=new ni(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Md extends ni{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(n),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Md(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(0==e||n==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}}class rx extends wl{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class y4 extends ni{constructor(e,n,r,i,o,s,a,l,c,u){super(e,n,r,i,o,s,a,c,u),this.spec=l}update(e,n,r,i){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function ix(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=ax(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof Ji){let l=r?r.previousSibling:t.lastChild;ix(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=ax(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const bl=function(t){t&&(this.nodeName=t)};bl.prototype=Object.create(null);const Ki=[new bl];function Bm(t,e,n){if(0==t.length)return Ki;let r=n?Ki[0]:new bl,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new bl(s.nodeName));for(let a in s){let l=s[a];null!=l&&(n&&1==i.length&&i.push(r=new bl(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+l:"style"==a?r.style=(r.style?r.style+";":"")+l:"nodeName"!=a&&(r[a]=l))}}}return i}function ox(t,e,n,r){if(n==Ki&&r==Ki)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ki[0]),i=l}v4(i,a||Ki[0],s)}return i}function v4(t,e,n){for(let r in e)"class"!=r&&"style"!=r&&"nodeName"!=r&&!(r in n)&&t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)-1==i.indexOf(r[o])&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)-1==r.indexOf(i[o])&&t.classList.add(i[o]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let i,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function sx(t,e,n){return ox(t,t,Ki,Bm(e,n,1!=t.nodeType))}function Hm(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function ax(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class _4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function C4(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(!(c instanceof Ji)){a=c,r--;break}n=c,r=c.children.length}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Ji.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let s,o=-1;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return!(o<0||(this.destroyBetween(this.index,o),this.index++,0))}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return 3==s.dirty&&s.dom==s.contentDOM&&(s.dirty=2),!!s.update(e,n,r,o)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r)for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i;return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ni){let c=this.preMatch.matched.get(l);if(null!=c&&c!=o)return!1;let d,u=l.dom,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&3!=l.dirty&&Hm(n,l.outerDeco));if(!f&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,i,s)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=2,d.updateChildren(i,s+1),d.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=ni.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,o){let s=ni.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){let o=new tx(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Ji;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Md)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((St||ct)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);"IMG"==e&&(r.className="ProseMirror-separator",r.alt=""),"BR"==e&&(r.className="ProseMirror-trailingBreak");let i=new rx(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function D4(t,e){return t.type.side-e.type.side}function jm(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],c=a,u=a+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function $m(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&0==i.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l,c,a=r.resolve(s);if(Ed(n)){for(l=a;i&&!i.node;)i=i.parent;let u=i.node;if(i&&u.isAtom&&F.isSelectable(u)&&i.parent&&(!u.isInline||!function Kz(t,e,n){for(let r=0==e,i=e==Qn(t);r||i;){if(t==n)return!0;let o=Mt(t);if(!(t=t.parentNode))return!1;r=r&&0==o,i=i&&o==Qn(t)}}(n.focusNode,n.focusOffset,i.dom))){let d=i.posBefore;c=new F(s==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}return c||(c=zm(t,l,a,"pointer"==e||t.state.selection.head<a.pos&&!o?1:-1)),c}function lx(t){return t.editable?t.hasFocus():gx(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xr(t,e=!1){let n=t.state.selection;if(fx(t,n),lx(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ct){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Gi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function I4(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,Mt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Pt&&ei<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{let o,s,{anchor:r,head:i}=n;cx&&!(n instanceof ue)&&(n.$from.parent.inlineContent||(o=ux(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=ux(t,n.to))),t.docView.setSelection(r,i,t.root,e),cx&&(o&&dx(o),s&&dx(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function S4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!lx(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const cx=St||ct&&Qz<63;function ux(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(St&&i&&"false"==i.contentEditable)return Um(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return Um(i);if(o)return Um(o)}}function Um(t){return t.contentEditable="true",St&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function dx(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function fx(t,e){if(e instanceof F){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(hx(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else hx(t)}function hx(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function zm(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ue.between(e,n,r)}function px(t){return!(t.editable&&!t.hasFocus())&&gx(t)}function gx(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Gm(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ee.findFrom(o,e)}function ri(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function mx(t,e,n){let r=t.state.selection;if(!(r instanceof ue)){if(r instanceof F&&r.node.isInline)return ri(t,new ue(e>0?r.$to:r.$from));{let i=Gm(t.state,e);return!!i&&ri(t,i)}}if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return ri(t,new ue(r.$anchor,s))}if(!r.empty)return!1;if(t.endOfTextblock(e>0?"forward":"backward")){let i=Gm(t.state,e);return!!(i&&i instanceof F)&&ri(t,i)}if(!(an&&n.indexOf("m")>-1)){let s,i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return!!(o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM)&&(F.isSelectable(o)?ri(t,new F(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):!!Cl&&ri(t,new ue(t.state.doc.resolve(e<0?a:a+o.nodeSize))))}}function Sd(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function El(t,e){let n=t.pmViewDesc;return n&&0==n.size&&(e<0||t.nextSibling||"BR"!=t.nodeName)}function ws(t,e){return e<0?function T4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Mn&&1==n.nodeType&&r<Sd(n)&&El(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;{let a=n.childNodes[r-1];if(El(a,-1))i=n,o=--r;else{if(3!=a.nodeType)break;n=a,r=n.nodeValue.length}}}else{if(yx(n))break;{let a=n.previousSibling;for(;a&&El(a,-1);)i=n.parentNode,o=Mt(a),a=a.previousSibling;if(a)n=a,r=Sd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?qm(t,n,r):i&&qm(t,i,o)}(t):function N4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,i=Sd(n);for(;;)if(r<i){if(1!=n.nodeType)break;if(!El(n.childNodes[r],1))break;o=n,s=++r}else{if(yx(n))break;{let a=n.nextSibling;for(;a&&El(a,1);)o=a.parentNode,s=Mt(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Sd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&qm(t,o,s)}(t)}function yx(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function qm(t,e,n){if(3!=e.nodeType){let o,s;(s=function A4(t,e){for(;t&&e==t.childNodes.length&&!Om(t);)e=Mt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=n,e=0}}(e,n))?(e=s,n=0):(o=function k4(t,e){for(;t&&!e&&!Om(t);)e=Mt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=(t=n).childNodes.length}}(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(Ed(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xr(t)},50)}function vx(t,e){let n=t.state.doc.resolve(e);if(!ct&&!Xz&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(t.dom).direction?"rtl":"ltr"}function _x(t,e,n){let r=t.state.selection;if(r instanceof ue&&!r.empty||n.indexOf("s")>-1||an&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Gm(t.state,e);if(s&&s instanceof F)return ri(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Zt?ee.near(s,e):ee.findFrom(s,e);return!!a&&ri(t,a)}return!1}function Cx(t,e){if(!(t.state.selection instanceof ue))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Dx(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function wx(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||Kn.fromSchema(t.state.schema),a=Nx(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u,c=l.firstChild,d=0;for(;c&&1==c.nodeType&&(u=xx[c.nodeName.toLowerCase()]);){for(let h=u.length-1;h>=0;h--){let p=a.createElement(u[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:l,text:t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,"\n\n")}}function bx(t,e,n,r,i){let s,a,o=i.parent.type.spec.code;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new I(w.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):I.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)a=d;else{let f=i.marks(),{schema:h}=t.state,p=Kn.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=s.appendChild(document.createElement("p"));g&&m.appendChild(p.serializeNode(h.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=function V4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let i,n=Nx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t);if((i=r&&xx[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}(n),Cl&&function B4(t){let e=t.querySelectorAll(ct?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&"\xa0"==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=s.firstChild;for(;f&&1!=f.nodeType;)f=f.nextSibling;if(!f)break;s=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||zi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!(!l&&!u),context:i,ruleFromNode:f=>"BR"!=f.nodeName||f.nextSibling||!f.parentNode||F4.test(f.parentNode.nodeName)?null:{ignore:!0}})),u)a=function H4(t,e){if(!t.size)return t;let r,n=t.content.firstChild.type.schema;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=w.from(l.create(r[a+1],i)),o++,s++}return new I(i,o,s)}(Ix(a,+u[1],+u[2]),u[4]);else if(a=I.maxOpen(function L4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o,i=e.node(n).contentMatchAt(e.index(n)),s=[];if(t.forEach(a=>{if(!s)return;let c,l=i.findWrapping(a.type);if(!l)return s=null;if(c=s.length&&o.length&&Mx(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=Sx(s[s.length-1],o.length));let u=Ex(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return w.from(s)}return t}(a.content,i),!0),a.openStart||a.openEnd){let d=0,f=0;for(let h=a.content.firstChild;d<a.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=a.content.lastChild;f<a.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);a=Ix(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const F4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Ex(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,w.from(t));return t}function Mx(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Mx(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(w.from(Ex(n,t,i+1))))}}function Sx(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,Sx(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(w.empty,!0);return t.copy(n.append(r))}function Wm(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return t.childCount>1&&(o=0),i<r-1&&(a=Wm(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(w.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function Ix(t,e,n){return e<t.openStart&&(t=new I(Wm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(Wm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const xx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Tx=null;function Nx(){return Tx||(Tx=document.implementation.createHTMLDocument("title"))}const It={},xt={},j4={touchstart:!0,touchmove:!0};class $4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ii(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Jm(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Km(t,r))})}function Km(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)})}function G4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Id(t){return{left:t.clientX,top:t.clientY}}function Zm(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function bs(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Y4(t,e,n,r){return Zm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Q4(t,e,n,r){return Zm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||function X4(t,e,n){if(0!=n.button)return!1;let r=t.state.doc;if(-1==e)return!!r.inlineContent&&(bs(t,ue.create(r,0,r.content.size),"pointer"),!0);let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)bs(t,ue.create(r,a+1,a+1+s.content.size),"pointer");else{if(!F.isSelectable(s))continue;bs(t,F.create(r,a),"pointer")}return!0}}(t,n,r)}function Ym(t){return xd(t)}xt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!kx(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!Sn||!ct||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!Cs||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",r=>r(t,n))||function P4(t,e){let n=e.keyCode,r=function R4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);if(8==n||an&&72==n&&"c"==r)return Cx(t,-1)||ws(t,-1);if(46==n&&!e.shiftKey||an&&68==n&&"c"==r)return Cx(t,1)||ws(t,1);if(13==n||27==n)return!0;if(37==n||an&&66==n&&"c"==r){let i=37==n?"ltr"==vx(t,t.state.selection.from)?-1:1:-1;return mx(t,i,r)||ws(t,i)}if(39==n||an&&70==n&&"c"==r){let i=39==n?"ltr"==vx(t,t.state.selection.from)?1:-1:1;return mx(t,i,r)||ws(t,i)}return 38==n||an&&80==n&&"c"==r?_x(t,-1,r)||ws(t,-1):40==n||an&&78==n&&"c"==r?function O4(t){if(!St||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let r=e.firstChild;Dx(t,r,"true"),setTimeout(()=>Dx(t,r,"false"),20)}return!1}(t)||_x(t,1,r)||ws(t,1):r==(an?"m":"c")&&(66==n||73==n||89==n||90==n)}(t,n)?n.preventDefault():ii(t,"key");else{let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,qi(13,"Enter"))),t.input.lastIOSEnter=0)},200)}},xt.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},xt.keypress=(t,e)=>{let n=e;if(kx(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||an&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n)))return void n.preventDefault();let r=t.state.selection;if(!(r instanceof ue&&r.$from.sameParent(r.$to))){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};const Ax=an?"metaKey":"ctrlKey";It.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Ym(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function W4(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[Ax]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Id(n));s&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new e8(t,s,n,!!r)):("doubleClick"==o?Y4:Q4)(t,s.pos,s.inside,n)?n.preventDefault():ii(t,"pointer"))};class e8{constructor(e,n,r,i){let o,s;if(this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ax],this.allowDefault=r.shiftKey,n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let u=e.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof F&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Mn||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ii(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Id(e))),this.updateAllowDefault(e),this.allowDefault||!n?ii(this.view,"pointer"):function Z4(t,e,n,r,i){return Zm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?function K4(t,e){if(-1==e)return!1;let r,i,n=t.state.selection;n instanceof F&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(F.isSelectable(a)){i=r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?o.before(n.$from.depth):o.before(s);break}}return null!=i&&(bs(t,F.create(t.state.doc,i),"pointer"),!0)}(t,n):function J4(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&F.isSelectable(r))&&(bs(t,new F(n),"pointer"),!0)}(t,n))}(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||St&&this.mightDrag&&!this.mightDrag.node.isAtom||ct&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(bs(this.view,ee.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):ii(this.view,"pointer")}move(e){this.updateAllowDefault(e),ii(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function kx(t,e){return!!t.composing||!!(St&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}It.touchstart=t=>{t.input.lastTouch=Date.now(),Ym(t),ii(t,"pointer")},It.touchmove=t=>{t.input.lastTouch=Date.now(),ii(t,"pointer")},It.contextmenu=t=>Ym(t);const t8=Sn?5e3:-1;function Ox(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>xd(t),e))}function Rx(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function n8(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function xd(t,e=!1){if(!(Sn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Rx(t),e||t.docView&&t.docView.dirty){let n=$m(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}xt.compositionstart=xt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>!1===r.type.spec.inclusive)))t.markCursor=t.state.storedMarks||n.marks(),xd(t,!0),t.markCursor=null;else if(xd(t),Mn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){t.domSelection().collapse(s,s.nodeValue.length);break}i=s,o=-1}}t.input.composing=!0}Ox(t,t8)},xt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Ox(t,20))};const Ml=Pt&&ei<15||Cs&&e4<604;function Sl(t,e,n,r,i){let o=bx(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,o||I.empty)))return!0;if(!o)return!1;let s=function i8(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),a=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Px(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}It.copy=xt.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=Ml?null:n.clipboardData,s=r.content(),{dom:a,text:l}=wx(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):function r8(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},xt.paste=(t,e)=>{let n=e;if(t.composing&&!Sn)return;let r=Ml?null:n.clipboardData,i=t.input.shiftKey&&45!=t.input.lastKeyCode;r&&Sl(t,Px(r),r.getData("text/html"),i,n)?n.preventDefault():function o8(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&45!=t.input.lastKeyCode;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Sl(t,r.value,null,i,e):Sl(t,r.textContent,r.innerHTML,i,e)},50)}(t,n)};class Fx{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Lx=an?"altKey":"ctrlKey";It.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s,i=t.state.selection,o=i.empty?null:t.posAtCoords(Id(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof F?i.to-1:i.to)))if(r&&r.mightDrag)s=F.create(t.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&(s=F.create(t.state.doc,u.posBefore))}let a=(s||t.state.selection).content(),{dom:l,text:c}=wx(t,a);n.dataTransfer.clearData(),n.dataTransfer.setData(Ml?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Ml||n.dataTransfer.setData("text/plain",c),t.dragging=new Fx(a,!n[Lx],s)},It.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)},xt.dragover=xt.dragenter=(t,e)=>e.preventDefault(),xt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Id(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",p=>{s=p(s,t)}):s=bx(t,Px(n.dataTransfer),Ml?null:n.dataTransfer.getData("text/html"),!1,o);let a=!(!r||n[Lx]);if(t.someProp("handleDrop",p=>p(t,n,s||I.empty,a)))return void n.preventDefault();if(!s)return;n.preventDefault();let l=s?function Fz(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(0==n.openStart&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(1==o)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return 0==a?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}(t.state.doc,o.pos,s):o.pos;null==l&&(l=o.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,f=c.doc;if(d?c.replaceRangeWith(u,u,s.content.firstChild):c.replaceRange(u,u,s),c.doc.eq(f))return;let h=c.doc.resolve(u);if(d&&F.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new F(h));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,m,y,v)=>p=v),c.setSelection(zm(t,h,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))},It.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xr(t)},20))},It.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},It.beforeinput=(t,e)=>{if(ct&&Sn&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,qi(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in xt)It[t]=xt[t];function Il(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Td{constructor(e,n){this.toDOM=e,this.spec=n||Zi,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new cn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Td&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Il(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class oi{constructor(e,n){this.attrs=e,this.spec=n||Zi}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new cn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof oi&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}static is(e){return e.type instanceof oi}destroy(){}}class Qm{constructor(e,n){this.attrs=e,this.spec=n||Zi}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new cn(o.pos-r,s.pos-r,this)}valid(e,n){let o,{index:r,offset:i}=e.content.findIndex(n.from);return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Qm&&Il(this.attrs,e.attrs)&&Il(this.spec,e.spec)}destroy(){}}class cn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new cn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new cn(e,e,new Td(n,r))}static inline(e,n,r,i){return new cn(e,n,new oi(r,i))}static node(e,n,r,i){return new cn(e,n,new Qm(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof oi}get widget(){return this.type instanceof Td}}const Es=[],Zi={};class Le{constructor(e,n){this.local=e.length?e:Es,this.children=n.length?n:Es}static create(e,n){return n.length?Nd(n,e,0,Zi):ut}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==ut||0==e.maps.length?this:this.mapInner(e,n,0,0,r||Zi)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function s8(t,e,n,r,i,o,s){let a=t.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,h,p,g)=>{let m=g-p-(h-f);for(let y=0;y<a.length;y+=3){let v=a[y+1];if(v<0||f>v+u-d)continue;let b=a[y]+u-d;h>=b?a[y+1]=f<=b?-2:-1:f>=u&&m&&(a[y]+=m,a[y+1]+=m)}d+=m}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(-2==a[c+1]){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+o,-1)-i,{index:p,offset:g}=r.content.findIndex(d),m=r.maybeChild(p);if(m&&g==d&&g+m.nodeSize==h){let y=a[c+2].mapInner(n,m,u+1,t[c]+o+1,s);y!=ut?(a[c]=d,a[c+1]=h,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=function a8(t,e,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)-1==t[l+1]&&a(t[l+2],e[l]+o+1);return n}(a,t,e,n,i,o,s),u=Nd(c,r,0,s);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let h=u.children[d];for(;f<a.length&&a[f]<h;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Le(e.sort(Yi),a)}(this.children,s||[],e,n,r,i,o):s?new Le(s.sort(Yi),Es):ut}add(e,n){return n.length?this==ut?Le.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u,c=l+r;if(u=Bx(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,Nd(u,a,c+1,Zi)),o+=3}});let s=Vx(o?Hx(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new Le(s.length?this.local.concat(s).sort(Yi):this.local,i||this.children)}remove(e){return 0==e.length||this==ut?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let d,u=0;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=ut?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length)for(let s,o=0;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1));return r==this.children&&i==this.local?this:i.length||r.length?new Le(i,r):ut}forChild(e,n){if(this==ut)return this;if(n.isLeaf)return Le.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof oi){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Le(i.sort(Yi),Es);return r?new si([a,r]):a}return r||ut}eq(e){if(this==e)return!0;if(!(e instanceof Le)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Xm(this.localsInner(e))}localsInner(e){if(this==ut)return Es;if(e.inlineContent||!this.local.some(oi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof oi||n.push(this.local[r]);return n}}Le.empty=new Le([],[]),Le.removeOverlap=Xm;const ut=Le.empty;class si{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Zi));return si.from(r)}forChild(e,n){if(n.isLeaf)return Le.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=ut&&(o instanceof si?r=r.concat(o.members):r.push(o))}return si.from(r)}eq(e){if(!(e instanceof si)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(n){r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}else n=o}return n?Xm(r?n:n.sort(Yi)):Es}static from(e){switch(e.length){case 0:return ut;case 1:return e[0];default:return new si(e.every(n=>n instanceof Le)?e:e.reduce((n,r)=>n.concat(r instanceof Le?r:r.members),[]))}}}function Vx(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new cn(i.from+e,i.to+e,i.type))}return n}function Bx(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s,o=0;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Hx(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Nd(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let c=Bx(t,a,l+n);if(c){o=!0;let u=Nd(c,a,n+l+1,r);u!=ut&&i.push(l,l+a.nodeSize,u)}});let s=Vx(o?Hx(t):t,-n).sort(Yi);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Le(s,i):ut}function Yi(t,e){return t.from-e.from||t.to-e.to}function Xm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),jx(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),jx(e,i+1,o.copy(r.to,o.to)))}}return e}function jx(t,e,n){for(;e<t.length&&Yi(n,t[e])>0;)e++;t.splice(e,0,n)}function ey(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=ut&&e.push(r)}),t.cursorWrapper&&e.push(Le.create(t.state.doc,[t.cursorWrapper.deco])),si.from(e)}const l8={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},c8=Pt&&ei<=11;class u8{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class d8{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new u8,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Pt&&ei<=11&&r.some(i=>"childList"==i.type&&i.removedNodes.length||"characterData"==i.type&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),c8&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,l8)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(px(this.view)){if(this.suppressingSelectionUpdates)return xr(this.view);if(Pt&&ei<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Gi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r,n=new Set;for(let o=e.focusNode;o;o=_l(o))n.add(o);for(let o=e.anchorNode;o;o=_l(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);return i&&i.ignoreMutation({type:"selection",target:3==r.nodeType?r.parentNode:r})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&px(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(Mn&&l.length>1){let u=l.filter(d=>"BR"==d.nodeName);if(2==u.length){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ed(r)&&(c=$m(e))&&c.eq(ee.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xr(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),function f8(t){if(!$x.has(t)&&($x.set(t,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace))){if(t.requiresGeckoHackNode=Mn,Ux)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ux=!0}}(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xr(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(r==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if("childList"==e.type){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(Pt&&ei<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?Mt(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Mt(o):e.target.childNodes.length;return{from:a,to:r.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let $x=new WeakMap,Ux=!1;function g8(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(St&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||St&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const m8=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function zx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:zm(t,e.resolve(n.anchor),e.resolve(n.head))}function ty(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Gx(t){if(2!=t.length)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class D8{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Zx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Jx(this),Wx(this),this.nodeViews=Kx(this),this.docView=nx(this.state.doc,qx(this),ey(this),this.dom,this),this.domObserver=new d8(this,(r,i,o,s)=>function y8(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let q=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ir=$m(t,q);if(ir&&!t.state.selection.eq(ir)){if(ct&&Sn&&13===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Hq=>Hq(t,qi(13,"Enter"))))return;let ks=t.state.tr.setSelection(ir);"pointer"==q?ks.setMeta("pointer",!0):"key"==q&&ks.scrollIntoView(),o&&ks.setMeta("composition",o),t.dispatch(ks)}return}let s=t.state.doc.resolve(e),a=s.sharedDepth(n);e=s.before(a+1),n=t.state.doc.resolve(n).after(a+1);let f,h,l=t.state.selection,c=function p8(t,e,n){let c,{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u=l.anchorNode;if(u&&t.dom.contains(1==u.nodeType?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Ed(l)||c.push({node:l.focusNode,offset:l.focusOffset})),ct&&8===t.input.lastKeyCode)for(let m=o;m>i;m--){let y=r.childNodes[m-1],v=y.pmViewDesc;if("BR"==y.nodeName&&!v){o=m;break}if(!v||v.size)break}let d=t.state.doc,f=t.someProp("domParser")||zi.fromSchema(t.state.schema),h=d.resolve(s),p=null,g=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:c,ruleFromNode:g8,context:h});if(c&&null!=c[0].pos){let m=c[0].pos,y=c[1]&&c[1].pos;null==y&&(y=m),p={anchor:m+s,head:y+s}}return{doc:g,sel:p,from:s,to:a}}(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,h="end"):(f=t.state.selection.from,h="start"),t.input.lastKeyCode=null;let p=function C8(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i&&(r-=s+Math.max(0,o-Math.min(s,a))-o),s<o&&t.size<e.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<e.size&&Gx(e.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<t.size&&Gx(t.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}(d.content,c.doc.content,c.from,f,h);if((Cs&&t.input.lastIOSEnter>Date.now()-225||Sn)&&i.some(q=>1==q.nodeType&&!m8.test(q.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",q=>q(t,qi(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(!p){if(!(r&&l instanceof ue&&!l.empty&&l.$head.sameParent(l.$anchor))||t.composing||c.sel&&c.sel.anchor!=c.sel.head){if(c.sel){let q=zx(t,t.state.doc,c.sel);if(q&&!q.eq(t.state.selection)){let ir=t.state.tr.setSelection(q);o&&ir.setMeta("composition",o),t.dispatch(ir)}}return}p={start:l.from,endA:l.to,endB:l.to}}if(ct&&t.cursorWrapper&&c.sel&&c.sel.anchor==t.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let q=p.endB-p.start;c.sel={anchor:c.sel.anchor+q,head:c.sel.anchor+q}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof ue&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Pt&&ei<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&" \xa0"==c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)&&(p.start--,p.endA--,p.endB--);let b,g=c.doc.resolveNoCache(p.start-c.from),m=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),v=g.sameParent(m)&&g.parent.inlineContent&&y.end()>=p.endA;if((Cs&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(q=>"DIV"==q.nodeName||"P"==q.nodeName))||!v&&g.pos<c.doc.content.size&&!g.sameParent(m)&&(b=ee.findFrom(c.doc.resolve(g.pos+1),1,!0))&&b.head==m.pos)&&t.someProp("handleKeyDown",q=>q(t,qi(13,"Enter"))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>p.start&&function _8(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||ty(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(ty(o,!0,!0));return!(!s.parent.isTextblock||s.pos>n||ty(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(u,p.start,p.endA,g,m)&&t.someProp("handleKeyDown",q=>q(t,qi(8,"Backspace"))))return void(Sn&&ct&&t.domObserver.suppressSelectionUpdates());ct&&Sn&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Sn&&!v&&g.start()!=m.start()&&0==m.parentOffset&&g.depth==m.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,m=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(q){return q(t,qi(13,"Enter"))})},20));let ne,Ft,dn,x=p.start,B=p.endA;if(v)if(g.pos==m.pos)Pt&&ei<=11&&0==g.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xr(t),20)),ne=t.state.tr.delete(x,B),Ft=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(dn=function v8(t,e){let s,a,l,n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(1==i.length&&0==o.length)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else{if(0!=i.length||1!=o.length)return null;a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks))}let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(w.from(c).eq(t))return{mark:a,type:s}}(g.parent.content.cut(g.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))ne=t.state.tr,"add"==dn.type?ne.addMark(x,B,dn.mark):ne.removeMark(x,B,dn.mark);else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let q=g.parent.textBetween(g.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",ir=>ir(t,x,B,q)))return;ne=t.state.tr.insertText(q,x,B)}if(ne||(ne=t.state.tr.replace(x,B,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let q=zx(t,ne.doc,c.sel);q&&!(ct&&Sn&&t.composing&&q.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(q.head==x||q.head==ne.mapping.map(B)-1)||Pt&&q.empty&&q.head==x)&&ne.setSelection(q)}Ft&&ne.ensureMarks(Ft),o&&ne.setMeta("composition",o),t.dispatch(ne.scrollIntoView())}(this,r,i,o,s)),this.domObserver.start(),function U4(t){for(let e in It){let n=It[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{G4(t,r)&&!Km(t,r)&&(t.editable||!(r.type in xt))&&n(t,r)},j4[e]?{passive:!0}:void 0)}St&&t.dom.addEventListener("input",()=>null),Jm(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Jm(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Zx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(Rx(this),s=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let h=Kx(this);(function b8(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r})(h,this.nodeViews)&&(this.nodeViews=h,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Jm(this),this.editable=Jx(this),Wx(this);let l=ey(this),c=qx(this),u=i.plugins==e.plugins||i.doc.eq(e.doc)?e.scrollToSelection>i.scrollToSelection?"to selection":"preserve":"reset",d=o||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let f="preserve"==u&&s&&null==this.dom.style.overflowAnchor&&function r4(t){let r,i,e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top);for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:zI(t.dom)}}(this);if(s){this.domObserver.stop();let h=d&&(Pt||ct)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&function w8(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(i.selection,e.selection);if(d){let p=ct?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=nx(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function x4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Gi(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?xr(this,h):(fx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!(null===(r=this.dragging)||void 0===r)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),"reset"==u?this.dom.scrollTop=0:"to selection"==u?this.scrollToSelection():f&&function i4({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;GI(n,0==r?0:r-e)}(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof F){let n=this.docView.domAfterPos(this.state.selection.from);1==n.nodeType&&UI(this,n.getBoundingClientRect(),e)}else UI(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Fx(e.slice,e.move,i<0?void 0:F.create(this.state.doc,i))}someProp(e,n){let i,r=this._props&&this._props[e];if(null!=r&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(null!=a&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(null!=a&&(i=n?n(a):a))return i}}hasFocus(){if(Pt){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function o4(t){if(t.setActive)return t.setActive();if(Ds)return t.focus(Ds);let e=zI(t);t.focus(null==Ds?{get preventScroll(){return Ds={preventScroll:!0},!0}}:void 0),Ds||(Ds=!1,GI(e,0))}(this.dom),xr(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let n=this.dom.parentNode;n;n=n.parentNode)if(9==n.nodeType||11==n.nodeType&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n;return e||document}updateRoot(){this._root=null}posAtCoords(e){return u4(this,e)}coordsAtPos(e,n=1){return KI(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(null==i)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return function g4(t,e,n){return YI==e&&QI==n?XI:(YI=e,QI=n,XI="up"==n||"down"==n?function f4(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return ZI(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=KI(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(1==a.nodeType)l=a.getClientRects();else{if(3!=a.nodeType)continue;l=Sr(a,0,a.nodeValue.length).getClientRects()}for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&("up"==n?s.top-u.top>2*(u.bottom-s.top):u.bottom-s.bottom>2*(s.bottom-u.top)))return!1}}return!0})}(t,e,n):function p4(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return h4.test(r.parent.textContent)&&a.modify?ZI(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),m=p&&!h.contains(1==p.nodeType?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return null!=f&&(a.caretBidiLevel=f),m}):"left"==n||"backward"==n?o:s}(t,e,n))}(this,n||this.state,e)}pasteHTML(e,n){return Sl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Sl(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(function z4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],ey(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function q4(t,e){!Km(t,e)&&It[e.type]&&(t.editable||!(e.type in xt))&&It[e.type](t,e)}(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return St&&11===this.root.nodeType&&function Zz(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}(this.dom.ownerDocument)==this.dom?function h8(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return Gi(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function qx(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let r in n)"class"==r?e.class+=" "+n[r]:"style"==r?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&"contenteditable"!=r&&"nodeName"!=r&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[cn.node(0,t.state.doc.content.size,e)]}function Wx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:cn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Jx(t){return!t.someProp("editable",e=>!1===e(t.state))}function Kx(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Zx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}const E8=["ol",0],M8=["ul",0],S8=["li",0];function T8(t,e){return function(n,r){let{$from:i,$to:o,node:s}=n.selection;if(s&&s.isBlock||i.depth<2||!i.sameParent(o))return!1;let a=i.node(-1);if(a.type!=t)return!1;if(0==i.parent.content.size&&i.node(-1).childCount==i.indexAfter(-1)){if(3==i.depth||i.node(-3).type!=t||i.index(-2)!=i.node(-2).childCount-1)return!1;if(r){let d=w.empty,f=i.index(-1)?1:i.index(-2)?2:3;for(let y=i.depth-f;y>=i.depth-3;y--)d=w.from(i.node(y).copy(d));let h=i.indexAfter(-1)<i.node(-2).childCount?1:i.indexAfter(-2)<i.node(-3).childCount?2:3;d=d.append(w.from(t.createAndFill()));let p=i.before(i.depth-(f-1)),g=n.tr.replace(p,i.after(-h),new I(d,4-f,0)),m=-1;g.doc.nodesBetween(p,g.doc.content.size,(y,v)=>{if(m>-1)return!1;y.isTextblock&&0==y.content.size&&(m=v+1)}),m>-1&&g.setSelection(ee.near(g.doc.resolve(m))),r(g.scrollIntoView())}return!0}let l=o.pos==i.end()?a.contentMatchAt(0).defaultType:null,c=n.tr.delete(i.pos,o.pos),u=l?[e?{type:t,attrs:e}:null,{type:l}]:void 0;return!!gs(c.doc,i.pos,2,u)&&(r&&r(c.split(i.pos,2,u).scrollIntoView()),!0)}}function e1(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return!!o&&(!n||(r.node(o.depth-1).type==t?function N8(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ye(o-1,s,o,s,new I(w.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new hd(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=pl(r);if(null==a)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return Dd(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}(e,n,t,o):function A8(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)h-=i.child(p).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?w.empty:w.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Ye(d-(a?1:0),f+(l?1:0),d+1,f-1,new I((a?w.empty:w.from(i.copy(w.empty))).append(l?w.empty:w.from(i.copy(w.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}(e,n,o)))}}function t1(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(0==s)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=w.from(c?t.create():null),d=new I(w.from(t.create(null,w.from(a.type.create(null,u)))),c?3:1,0),f=o.start,h=o.end;n(e.tr.step(new Ye(f-(c?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}const k8={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>({href:t.getAttribute("href"),title:t.getAttribute("title"),target:t.getAttribute("target")})}],toDOM(t){const{href:e,title:n,target:r}=t.attrs;return["a",{href:e,title:n,target:r},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(?:bold(?:er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM:()=>["strong",0]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code",0]},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline",consuming:!1}],toDOM:()=>["u",0]},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:()=>["s",0]},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:t=>({color:t})}],toDOM(t){const{color:e}=t.attrs;return["span",{style:`color:${e};`},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:t=>({backgroundColor:t})}],toDOM(t){const{backgroundColor:e}=t.attrs;return["span",{style:`background-color:${e};`},0]}}},G8={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs(t){const{textAlign:e}=t.style;return{align:t.getAttribute("align")||e||null}}}],toDOM(t){const{align:e}=t.attrs;return["p",{style:JS({textAlign:"left"!==e?e:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs(t){const{textAlign:e}=t.style;return{level:1,align:t.getAttribute("align")||e||null}}},{tag:"h2",getAttrs(t){const{textAlign:e}=t.style;return{level:2,align:t.getAttribute("align")||e||null}}},{tag:"h3",getAttrs(t){const{textAlign:e}=t.style;return{level:3,align:t.getAttribute("align")||e||null}}},{tag:"h4",getAttrs(t){const{textAlign:e}=t.style;return{level:4,align:t.getAttribute("align")||e||null}}},{tag:"h5",getAttrs(t){const{textAlign:e}=t.style;return{level:5,align:t.getAttribute("align")||e||null}}},{tag:"h6",getAttrs(t){const{textAlign:e}=t.style;return{level:6,align:t.getAttribute("align")||e||null}}}],toDOM(t){const{level:e,align:n}=t.attrs;return[`h${e}`,{style:JS({textAlign:"left"!==n?n:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:t=>({src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt"),width:t.getAttribute("width")})}],toDOM(t){const{src:e,alt:n,title:r,width:i}=t.attrs;return["img",{src:e,alt:n,title:r,width:i}]}},list_item:{...{parseDOM:[{tag:"li"}],toDOM:()=>S8,defining:!0},content:"paragraph block*"},ordered_list:{...{attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:t=>({order:t.hasAttribute("start")?+t.getAttribute("start"):1})}],toDOM:t=>1==t.attrs.order?E8:["ol",{start:t.attrs.order},0]},content:"list_item+",group:"block"},bullet_list:{...{parseDOM:[{tag:"ul"}],toDOM:()=>M8},content:"list_item+",group:"block"}},Qi=new class hz{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ZS.from(e.nodes),n.marks=ZS.from(e.marks||{}),this.nodes=gd.compile(this.spec.nodes,this),this.marks=md.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;o.contentMatch=r[s]||(r[s]=Ui.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==a?null:a?fI(this,a.split(" ")):""!=a&&o.inlineContent?null:[]}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=null==s?[o]:""==s?[]:fI(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof gd))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new pd(r,r.defaultAttrs,e,pe.setFrom(n))}mark(e,n){return"string"==typeof e&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Jn.fromJSON(this,e)}markFromJSON(e){return pe.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}({marks:k8,nodes:G8}),n1=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function Ms(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function ry(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function iy(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const s1=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r)||(e&&e(t.tr.insertText("\n").scrollIntoView()),0))};function oy(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const a1=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=oy(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(ee.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},l1=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Zt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=oy(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(ue.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},c1=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(gs(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&pl(r);return null!=i&&(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},sy=function Y8(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof F&&e.selection.node.isBlock)return!(!r.parentOffset||!gs(e.doc,r.pos)||(n&&n(e.tr.split(r.pos).scrollIntoView()),0));if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof ue||e.selection instanceof Zt)&&s.deleteSelection();let a=0==r.depth?null:oy(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=t&&t(i.parent,o),c=l?[l]:o&&a?[{type:a}]:void 0,u=gs(s.doc,s.mapping.map(r.pos),1,c);if(!c&&!u&&gs(s.doc,s.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(c=[{type:a}]),u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),!o&&!r.parentOffset&&r.parent.type!=a)){let d=s.mapping.map(r.before()),f=s.doc.resolve(d);a&&r.node(-1).canReplaceWith(f.index(),f.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}n(s.scrollIntoView())}return!0}}();function u1(t,e,n){let o,s,r=e.nodeBefore,i=e.nodeAfter;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(function X8(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(o,o+1)||!i.isTextblock&&!Dd(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let d=e.pos+i.nodeSize,f=w.empty;for(let g=o.length-1;g>=0;g--)f=w.from(o[g].create(null,f));f=w.from(r.copy(f));let h=t.tr.step(new Ye(e.pos-1,d,e.pos,d,new I(f,1,0),o.length,!0)),p=d+2*o.length;Dd(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}let l=ee.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&pl(c);if(null!=u&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&Ms(i,"start",!0)&&Ms(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let h=i,p=1;for(;!h.isTextblock;h=h.firstChild)p++;if(d.canReplace(d.childCount,d.childCount,h.content)){if(n){let g=w.empty;for(let y=f.length-1;y>=0;y--)g=w.from(f[y].copy(g));n(t.tr.step(new Ye(e.pos-f.length,e.pos+i.nodeSize,e.pos+p,e.pos+i.nodeSize-p,new I(g,f.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function d1(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return!!i.node(o).isTextblock&&(n&&n(e.tr.setSelection(ue.create(e.doc,t<0?i.start(o):i.end(o)))),!0)}}const e5=d1(-1),t5=d1(1);function ay(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(l.isTextblock&&!l.hasMarkup(t,e))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,t,e)}r(o.scrollIntoView())}return!0}}function Ss(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!function r5(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=0==i.depth&&t.inlineContent&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(n)}),s)return!0}return!1}(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<s.length;c++){let{$from:u,$to:d}=s[c];a=n.doc.rangeHasMark(u.pos,d.pos,t)}for(let c=0;c<s.length;c++){let{$from:u,$to:d}=s[c];if(a)l.removeMark(u.pos,d.pos,t);else{let f=u.pos,h=d.pos,p=u.nodeAfter,g=d.nodeBefore,m=p&&p.isText?/^\s*/.exec(p.text)[0].length:0,y=g&&g.isText?/\s*$/.exec(g.text)[0].length:0;f+m<h&&(f+=m,h-=y),l.addMark(f,h,t.create(e))}}r(l.scrollIntoView())}return!0}}function xl(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let ly=xl(n1,(t,e,n)=>{let r=function r1(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}(t,n);if(!r)return!1;let i=ry(r);if(!i){let s=r.blockRange(),a=s&&pl(s);return null!=a&&(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&u1(t,i,e))return!0;if(0==r.parent.content.size&&(Ms(o,"end")||F.isSelectable(o))){let s=Sm(t.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ms(o,"end")?ee.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):F.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),0))},(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=ry(r)}let s=o&&o.nodeBefore;return!(!s||!F.isSelectable(s)||(e&&e(t.tr.setSelection(F.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),0))}),f1=xl(n1,(t,e,n)=>{let r=function o1(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}(t,n);if(!r)return!1;let i=iy(r);if(!i)return!1;let o=i.nodeAfter;if(u1(t,i,e))return!0;if(0==r.parent.content.size&&(Ms(o,"start")||F.isSelectable(o))){let s=Sm(t.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(Ms(o,"start")?ee.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):F.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return!(!o.isAtom||i.depth!=r.depth-1||(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),0))},(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=iy(r)}let s=o&&o.nodeAfter;return!(!s||!F.isSelectable(s)||(e&&e(t.tr.setSelection(F.create(t.doc,o.pos)).scrollIntoView()),0))});const Tr={Enter:xl(s1,l1,c1,sy),"Mod-Enter":a1,Backspace:ly,"Mod-Backspace":ly,"Shift-Backspace":ly,Delete:f1,"Mod-Delete":f1,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new Zt(t.doc))),!0)},h1={"Ctrl-h":Tr.Backspace,"Alt-Backspace":Tr["Mod-Backspace"],"Ctrl-d":Tr.Delete,"Ctrl-Alt-Backspace":Tr["Mod-Delete"],"Alt-Delete":Tr["Mod-Delete"],"Alt-d":Tr["Mod-Delete"],"Ctrl-a":e5,"Ctrl-e":t5};for(let t in Tr)h1[t]=Tr[t];const o5=(typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&"darwin"==os.platform())?h1:Tr;class Nr{constructor(e,n,r={}){this.match=e,this.match=e,this.handler="string"==typeof n?function s5(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length);let a=(r+=s)-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}(n):n,this.undoable=!1!==r.undoable,this.inCode=r.inCode||!1}}function p1(t,e,n,r,i,o){if(t.composing)return!1;let s=t.state,a=s.doc.resolve(e),l=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"\ufffc")+r;for(let c=0;c<i.length;c++){let u=i[c];if(a.parent.type.spec.code){if(!u.inCode)continue}else if("only"===u.inCode)continue;let d=u.match.exec(l),f=d&&u.handler(s,d,e-(d[0].length-r.length),n);if(f)return u.undoable&&f.setMeta(o,{transform:f,from:e,to:n,text:r}),t.dispatch(f),!0}return!1}const c5=new Nr(/--$/,"\u2014"),u5=new Nr(/\.\.\.$/,"\u2026"),g5=[new Nr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new Nr(/"$/,"\u201d"),new Nr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new Nr(/'$/,"\u2019")];function cy(t,e,n=null,r){return new Nr(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,c=i.tr.delete(s,a),d=c.doc.resolve(s).blockRange(),f=d&&Mm(d,e,l);if(!f)return null;c.wrap(d,f);let h=c.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&Dd(c.doc,s-1)&&(!r||r(o,h))&&c.join(s-1),c})}function g1(t,e,n=null){return new Nr(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}const uy=(t,e)=>{const{from:n,$from:r,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},m1=(t,e,n={})=>{const{selection:r}=t,{$from:i,to:o}=r,s=((t,e)=>{for(let n=e.depth;n>0;n-=1)if(e.node(n).type===t)return e.node(n).type;return null})(e,i);return Object.entries(n).length&&s?o<=i.end()&&i.parent.hasMarkup(e,n):!!s},y1=t=>{const e=[],{selection:{from:n,to:r}}=t;return t.doc.nodesBetween(n,r,i=>{e.push(i)}),e},v1=(t,e,n)=>{for(const r of e){const{$from:i,$to:o}=r;let s=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,o.pos,a=>!s&&(s=a.inlineContent&&a.type.allowsMarkType(n),!0)),s)return!0}return!1},_1=(t,e,n)=>new Nr(t,(r,i,o,s)=>{const{tr:a}=r,l=o;let c=s;const[u,,d]=i,f=u.search(/\S/);if(d){const h=o+u.indexOf(d),p=h+d.length;p<s&&a.delete(p,s),h>o&&a.delete(o+f,h),c=o+d.length+f}return a.addMark(l,c,e.create(n)),a.removeStoredMark(e),a}),C1=(t,e={})=>(n,r)=>{const{tr:i,selection:o}=n,{empty:s,ranges:a,$from:l,$to:c}=o;if(s&&o instanceof ue){const{$cursor:u}=o;if(!u||!v1(n.doc,a,t)||(i.addStoredMark(t.create(e)),!i.storedMarksSet))return!1;r?.(i)}else{if(i.addMark(l.pos,c.pos,t.create(e)),!i.docChanged)return!1;r?.(i.scrollIntoView())}return!0};for(var ai={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ad={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D5=typeof navigator<"u"&&/Mac/.test(navigator.platform),w5=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Qe=0;Qe<10;Qe++)ai[48+Qe]=ai[96+Qe]=String(Qe);for(Qe=1;Qe<=24;Qe++)ai[Qe+111]="F"+Qe;for(Qe=65;Qe<=90;Qe++)ai[Qe]=String.fromCharCode(Qe+32),Ad[Qe]=String.fromCharCode(Qe);for(var dy in ai)Ad.hasOwnProperty(dy)||(Ad[dy]=ai[dy]);const E5=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function M5(t){let r,i,o,s,e=t.split(/-(?!$)/),n=e[e.length-1];"Space"==n&&(n=" ");for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);E5?s=!0:i=!0}}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function fy(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function kd(t){return new Yn({props:{handleKeyDown:I5(t)}})}function I5(t){let e=function S5(t){let e=Object.create(null);for(let n in t)e[M5(n)]=t[n];return e}(t);return function(n,r){let o,i=function b5(t){var n=!(D5&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||w5&&t.shiftKey&&t.key&&1==t.key.length||"Unidentified"==t.key)&&t.key||(t.shiftKey?Ad:ai)[t.keyCode]||t.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}(r),s=e[fy(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(1==i.length&&" "!=i){if(r.shiftKey){let a=e[fy(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=ai[r.keyCode])&&o!=i){let a=e[fy(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Xe=function(){};Xe.prototype.append=function(e){return e.length?(e=Xe.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Xe.prototype.prepend=function(e){return e.length?Xe.from(e).append(this):this},Xe.prototype.appendInner=function(e){return new x5(this,e)},Xe.prototype.slice=function(e,n){return void 0===e&&(e=0),void 0===n&&(n=this.length),e>=n?Xe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))},Xe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Xe.prototype.forEach=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)},Xe.prototype.map=function(e,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i},Xe.from=function(e){return e instanceof Xe?e:e&&e.length?new D1(e):Xe.empty};var D1=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return 0==i&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(!1===i(this.values[l],a+l))return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(!1===i(this.values[l],a+l))return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=200)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=200)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Xe);Xe.empty=new D1([]);var x5=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&!1===this.left.forEachInner(r,i,Math.min(o,a),s)||o>a&&!1===this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a))return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&!1===this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)||o<a&&!1===this.left.forEachInvertedInner(r,Math.min(i,a),o,s))return!1},e.prototype.sliceInner=function(r,i){if(0==r&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Xe);const w1=Xe;class In{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(0==this.eventCount)return null;let i,o,r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let a,l,s=e.tr,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step)return i||(i=this.remapping(r,f+1),o=i.maps.length),o--,void u.push(d);if(i){u.push(new tr(d.map));let p,h=d.step.map(i.slice(o));h&&s.maybeStep(h).doc&&(p=s.mapping.maps[s.mapping.maps.length-1],c.push(new tr(p,void 0,void 0,c.length+u.length))),o--,p&&i.appendMap(p,o)}else s.maybeStep(d.step);return d.selection?(a=i?d.selection.map(i.slice(o)):d.selection,l=new In(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let h,d=e.steps[u].invert(e.docs[u]),f=new tr(e.mapping.maps[u],d,n);(h=l&&l.merge(f))&&(f=h,u?o.pop():a=a.slice(0,a.length-1)),o.push(f),n&&(s++,n=void 0),i||(l=f)}let c=s-r.depth;return c>A5&&(a=function N5(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&0==e--)return n=i,!1}),t.slice(n)}(a,c),s-=c),new In(a.append(o),s)}remapping(e,n){let r=new hs;return this.items.forEach((i,o)=>{r.appendMap(i.map,null!=i.mirrorOffset&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0)},e,n),r}addMaps(e){return 0==this.eventCount?this:new In(this.items.append(e.map(n=>new tr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},i);let l=n;this.items.forEach(f=>{let h=o.getMirror(--l);if(null==h)return;s=Math.min(s,h);let p=o.maps[h];if(f.step){let g=e.steps[h].invert(e.docs[h]),m=f.selection&&f.selection.map(o.slice(l+1,h));m&&a++,r.push(new tr(p,g,m))}else r.push(new tr(p))},i);let c=[];for(let f=n;f<s;f++)c.push(new tr(o.maps[f]));let u=this.items.slice(0,i).append(c).append(r),d=new In(u,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let f,d=new tr(c.invert(),l,u),h=i.length-1;(f=i.length&&i[h].merge(d))?i[h]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new In(w1.from(i.reverse()),o)}}In.empty=new In(w1.empty,0);class tr{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new tr(n.getMap().invert(),n,this.selection)}}}class li{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const A5=20;function b1(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function hy(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function E1(t,e,n,r){let i=Rd(e),o=nr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),c=new li(r?l:s.remaining,r?s.remaining:l,null,0,-1);n(s.transform.setSelection(a).setMeta(nr,{redo:r,historyState:c}).scrollIntoView())}let py=!1,M1=null;function Rd(t){let e=t.plugins;if(M1!=e){py=!1,M1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){py=!0;break}}return py}const nr=new Mr("history"),S1=new Mr("closeHistory");const I1=(t,e)=>{let n=nr.getState(t);return!(!n||0==n.done.eventCount||(e&&E1(n,t,e,!1),0))},gy=(t,e)=>{let n=nr.getState(t);return!(!n||0==n.undone.eventCount||(e&&E1(n,t,e,!0),0))},P5=["imgEl"];function F5(t,e){if(1&t){const n=Ei();W(0,"span",4)(1,"span",5),X("mousedown",function(i){return On(n),Rn(J().startResizing(i,"left"))}),G(),W(2,"span",6),X("mousedown",function(i){return On(n),Rn(J().startResizing(i,"right"))}),G(),W(3,"span",7),X("mousedown",function(i){return On(n),Rn(J().startResizing(i,"left"))}),G(),W(4,"span",8),X("mousedown",function(i){return On(n),Rn(J().startResizing(i,"right"))}),G()()}}const L5=function(t){return{"NgxEditor__Resizer--Active":t}},V5=["ngxEditor"],B5=["*"];function H5(t,e){if(1&t&&(W(0,"div",12),Ze(1),G()),2&t){const n=J(2);k(1),Gn(" ",(null==n.href.errors?null:n.href.errors.pattern)&&"Please enter valid url."," ")}}function j5(t,e){if(1&t&&(W(0,"div",12),Ze(1),G()),2&t){const n=J(2);k(1),Gn(" ",(null==n.text.errors?null:n.text.errors.required)&&"This is required"," ")}}function $5(t,e){if(1&t&&(W(0,"div",4)(1,"div",5)(2,"label"),ke(3,"input",13),Ze(4),Me(5,"async"),G()()()),2&t){const n=J(2);k(4),Gn(" ",Se(5,1,n.getLabel("openInNewTab"))," ")}}function U5(t,e){if(1&t){const n=Ei();W(0,"div",2)(1,"form",3),X("ngSubmit",function(i){return On(n),Rn(J().insertLink(i))}),W(2,"div",4)(3,"div",5)(4,"label",6),Ze(5),Me(6,"async"),G(),ke(7,"input",7),we(8,H5,2,1,"div",8),G()(),W(9,"div",4)(10,"div",5)(11,"label",6),Ze(12),Me(13,"async"),G(),ke(14,"input",9),we(15,j5,2,1,"div",8),G()(),we(16,$5,6,3,"div",10),W(17,"button",11),Ze(18),Me(19,"async"),G()()()}if(2&t){const n=J();k(1),A("formGroup",n.form),k(3),A("htmlFor",n.getId("link-popup-url")),k(1),mr(Se(6,12,n.getLabel("url"))),k(2),A("id",n.getId("link-popup-url")),k(1),A("ngIf",n.href.touched&&n.href.invalid),k(3),A("htmlFor",n.getId("link-popup-label")),k(1),mr(Se(13,14,n.getLabel("text"))),k(2),A("id",n.getId("link-popup-label")),k(1),A("ngIf",n.text.touched&&n.text.invalid),k(1),A("ngIf",n.options.showOpenInNewTab),k(1),A("disabled",!n.form.valid),k(1),mr(Se(19,16,n.getLabel("insert")))}}const z5=function(t,e){return{"NgxEditor__Dropdown--Active":t,"NgxEditor--Disabled":e}};function G5(t,e){if(1&t){const n=Ei();W(0,"div",4),X("mousedown",function(i){const s=On(n).$implicit;return Rn(J(2).onClick(i,s))}),Ze(1),Me(2,"async"),G()}if(2&t){const n=e.$implicit,r=J(2);A("ngClass",nu(4,z5,n===r.activeItem,r.disabledItems.includes(n))),k(1),Gn(" ",Se(2,2,r.getName(n))," ")}}function q5(t,e){if(1&t&&(W(0,"div",2),we(1,G5,3,7,"div",3),G()),2&t){const n=J();k(1),A("ngForOf",n.items)("ngForTrackBy",n.trackByIndex)}}function W5(t,e){if(1&t&&(W(0,"div",12),Ze(1),G()),2&t){const n=J(2);k(1),Gn(" ",(null==n.src.errors?null:n.src.errors.pattern)&&"Please enter valid url."," ")}}function J5(t,e){if(1&t){const n=Ei();W(0,"div",2)(1,"form",3),X("ngSubmit",function(i){return On(n),Rn(J().insertLink(i))}),W(2,"div",4)(3,"div",5)(4,"label",6),Ze(5),Me(6,"async"),G(),ke(7,"input",7),we(8,W5,2,1,"div",8),G()(),W(9,"div",4)(10,"div",5)(11,"label",6),Ze(12),Me(13,"async"),G(),ke(14,"input",9),G()(),W(15,"div",4)(16,"div",5)(17,"label",6),Ze(18),Me(19,"async"),G(),ke(20,"input",10),G()(),W(21,"button",11),Ze(22),Me(23,"async"),G()()()}if(2&t){const n=J();k(1),A("formGroup",n.form),k(3),A("htmlFor",n.getId("image-popup-url")),k(1),mr(Se(6,13,n.getLabel("url"))),k(2),A("id",n.getId("image-popup-url")),k(1),A("ngIf",n.src.touched&&n.src.invalid),k(3),A("htmlFor",n.getId("image-popup-label")),k(1),mr(Se(13,15,n.getLabel("altText"))),k(2),A("id",n.getId("image-popup-label")),k(3),A("htmlFor",n.getId("image-popup-title")),k(1),mr(Se(19,17,n.getLabel("title"))),k(2),A("id",n.getId("image-popup-title")),k(1),A("disabled",!n.form.valid||!n.form.dirty),k(1),mr(Se(23,19,n.getLabel("insert")))}}const K5=function(t,e){return{backgroundColor:t,color:e}},Z5=function(t){return{"NgxEditor__Color--Active":t}};function Y5(t,e){if(1&t){const n=Ei();W(0,"button",7),X("mousedown",function(i){const s=On(n).$implicit;return Rn(J(3).onColorSelect(i,s))}),G()}if(2&t){const n=e.$implicit,r=J(3);A("ngStyle",nu(3,K5,n,r.getContrastYIQ(n)))("title",n)("ngClass",Cp(6,Z5,r.activeColors.includes(n)))}}function Q5(t,e){if(1&t&&(W(0,"div",5),we(1,Y5,1,8,"button",6),G()),2&t){const n=e.$implicit,r=J(2);k(1),A("ngForOf",n)("ngForTrackBy",r.trackByIndex)}}function X5(t,e){if(1&t){const n=Ei();W(0,"div",2),we(1,Q5,2,2,"div",3),W(2,"button",4),X("mousedown",function(i){return On(n),Rn(J().remove(i))}),Ze(3),Me(4,"async"),G()()}if(2&t){const n=J();k(1),A("ngForOf",n.presets)("ngForTrackBy",n.trackByIndex),k(1),A("disabled",!n.isActive),k(1),Gn(" ",Se(4,4,n.getLabel("remove"))," ")}}function e6(t,e){if(1&t&&ke(0,"ngx-toggle-command",7),2&t){const n=J().$implicit;gr(J(2).iconContainerClass),A("toolbarItem",n)}}function t6(t,e){if(1&t&&ke(0,"ngx-insert-command",7),2&t){const n=J().$implicit;gr(J(2).iconContainerClass),A("toolbarItem",n)}}function n6(t,e){if(1&t&&(Hr(0),ke(1,"ngx-link",8),jr()),2&t){const n=J().$implicit,r=J(2);k(1),gr(r.iconContainerClass),A("options",r.getLinkOptions(n))}}function r6(t,e){1&t&&ke(0,"ngx-image"),2&t&&gr(J(3).iconContainerClass)}function i6(t,e){if(1&t&&ke(0,"ngx-dropdown",10),2&t){const n=e.$implicit;gr(J(4).dropdownContainerClass),A("group",n.key)("items",n.value)}}function o6(t,e){if(1&t&&(Hr(0),we(1,i6,1,4,"ngx-dropdown",9),Me(2,"keyvalue"),jr()),2&t){const n=J().$implicit,r=J(2);k(1),A("ngForOf",Se(2,2,r.getDropdownItems(n)))("ngForTrackBy",r.trackByIndex)}}function s6(t,e){if(1&t&&ke(0,"ngx-color-picker",11),2&t){const n=J(3);gr(n.iconContainerClass),A("presets",n.presets)}}function a6(t,e){if(1&t&&ke(0,"ngx-color-picker",12),2&t){const n=J(3);gr(n.iconContainerClass),A("presets",n.presets)}}function l6(t,e){1&t&&ke(0,"div"),2&t&&gr(J(3).seperatorClass)}function c6(t,e){if(1&t&&(Hr(0),we(1,e6,1,3,"ngx-toggle-command",3),we(2,t6,1,3,"ngx-insert-command",3),we(3,n6,2,3,"ng-container",2),we(4,r6,1,2,"ngx-image",4),we(5,o6,3,4,"ng-container",2),we(6,s6,1,3,"ngx-color-picker",5),we(7,a6,1,3,"ngx-color-picker",6),we(8,l6,1,2,"div",4),jr()),2&t){const n=e.$implicit,r=e.last,i=J().last,o=J();k(1),A("ngIf",o.toggleCommands.includes(n)),k(1),A("ngIf",o.insertCommands.includes(n)),k(1),A("ngIf",o.isLinkItem(n)),k(1),A("ngIf","image"===n),k(1),A("ngIf",o.isDropDown(n)),k(1),A("ngIf","text_color"===n),k(1),A("ngIf","background_color"===n),k(1),A("ngIf",r&&!i)}}function u6(t,e){if(1&t&&(Hr(0),we(1,c6,9,8,"ng-container",1),jr()),2&t){const n=e.$implicit,r=J();k(1),A("ngForOf",n)("ngForTrackBy",r.trackByIndex)}}function d6(t,e){if(1&t&&(Hr(0),rp(1,13),jr()),2&t){const n=J();k(1),A("ngTemplateOutlet",n.customMenuRef)}}const f6=function(t,e){return{"NgxEditor--Disabled":t,"NgxEditor__MenuBar--Reverse":e}},y6=(t=!0)=>new Yn({key:new Mr("editable"),state:{init:()=>t,apply:(e,n)=>e.getMeta("UPDATE_EDITABLE")??n},props:{editable(e){return this.getState(e)},attributes(e){return this.getState(e)?null:{class:"NgxEditor__Content--Disabled"}}}}),_6=t=>new Yn({key:new Mr("placeholder"),state:{init:()=>t??"",apply:(e,n)=>e.getMeta("UPDATE_PLACEHOLDER")??n},props:{decorations(e){const{doc:n}=e,{textContent:r,childCount:i}=n,o=this.getState(e);if(!o||i>1)return Le.empty;const s=[];return n.descendants((l,c)=>{if(l.type.isBlock&&0===l.childCount&&0===r.length){const f=cn.node(c,c+l.nodeSize,{class:"NgxEditor__Placeholder","data-placeholder":o,"data-align":l.attrs.align??null});s.push(f)}return!1}),Le.create(n,s)}}});let b6=(()=>{class t{constructor(){this.alt="",this.title="",this.outerWidth="",this.selected=!1,this.imageResize=new De}startResizing(n,r){n.preventDefault(),this.resizeImage(n,r)}resizeImage(n,r){const i=n.pageX,o=this.imgEl.nativeElement.clientWidth,s="left"===r,{width:a}=window.getComputedStyle(this.view.dom),l=parseInt(a,10),c=d=>{const h=d.pageX-i,p=s?o-h:o+h;p>l||p<20||(this.outerWidth=`${p}px`)},u=d=>{d.preventDefault(),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",u),this.imageResize.emit()};document.addEventListener("mousemove",c),document.addEventListener("mouseup",u)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-image-view"]],viewQuery:function(r,i){if(1&r&&xp(P5,7),2&r){let o;ou(o=su())&&(i.imgEl=o.first)}},inputs:{src:"src",alt:"alt",title:"title",outerWidth:"outerWidth",selected:"selected",view:"view"},outputs:{imageResize:"imageResize"},decls:4,vars:9,consts:[[1,"NgxEditor__ImageWrapper",3,"ngClass"],["class","NgxEditor__ResizeHandle",4,"ngIf"],[3,"src","alt","title"],["imgEl",""],[1,"NgxEditor__ResizeHandle"],[1,"NgxEditor__ResizeHandle--TL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--TR",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BL",3,"mousedown"],[1,"NgxEditor__ResizeHandle--BR",3,"mousedown"]],template:function(r,i){1&r&&(W(0,"span",0),we(1,F5,5,0,"span",1),ke(2,"img",2,3),G()),2&r&&(lp("width",i.outerWidth),A("ngClass",Cp(7,L5,i.selected)),k(1),A("ngIf",i.selected),k(1),A("src",i.src,dh)("alt",i.alt)("title",i.title))},dependencies:[La,Ai],styles:["*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%;height:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;line-height:0;padding:2px}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active[_ngcontent-%COMP%]{padding:1px;border:1px solid #1a73e8}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%], .NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{position:absolute;width:7px;height:7px;background-color:#1a73e8;border:1px solid white}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BR[_ngcontent-%COMP%]{bottom:-5px;right:-5px;cursor:se-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TR[_ngcontent-%COMP%]{top:-5px;right:-5px;cursor:ne-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--TL[_ngcontent-%COMP%]{top:-5px;left:-5px;cursor:nw-resize}.NgxEditor__ImageWrapper[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle[_ngcontent-%COMP%]   .NgxEditor__ResizeHandle--BL[_ngcontent-%COMP%]{bottom:-5px;left:-5px;cursor:sw-resize}"]})}return t})();class E6{constructor(e,n,r,i){this.updating=!1,this.handleResize=()=>{if(this.updating)return;const{state:o,dispatch:s}=this.view,{tr:a}=o,l=a.setNodeMarkup(this.getPos(),void 0,{...this.node.attrs,width:this.imageComponentRef.instance.outerWidth}),c=l.doc.resolve(this.getPos()),u=new F(c);l.setSelection(u),s(l)},this.applicationRef=i.get(xi),this.imageComponentRef=function tB(t,e){const n=Y(t),r=e.elementInjector||Nc();return new va(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(b6,{environmentInjector:this.applicationRef.injector}),this.applicationRef.attachView(this.imageComponentRef.hostView),this.setNodeAttributes(e.attrs),this.imageComponentRef.instance.view=n,this.dom=this.imageComponentRef.location.nativeElement,this.view=n,this.node=e,this.getPos=r,this.resizeSubscription=this.imageComponentRef.instance.imageResize.subscribe(()=>{this.handleResize()})}computeChanges(e,n){return JSON.stringify(e)===JSON.stringify(n)}setNodeAttributes(e){this.imageComponentRef.instance.src=e.src,this.imageComponentRef.instance.alt=e.alt,this.imageComponentRef.instance.title=e.title,this.imageComponentRef.instance.outerWidth=e.width}update(e){return e.type===this.node.type&&(this.node=e,this.computeChanges(this.node.attrs,e.attrs)&&(this.updating=!0,this.setNodeAttributes(e.attrs),this.updating=!1),!0)}ignoreMutation(){return!0}selectNode(){this.imageComponentRef.instance.selected=!0}deselectNode(){this.imageComponentRef.instance.selected=!1}destroy(){this.resizeSubscription.unsubscribe(),this.applicationRef.detachView(this.imageComponentRef.hostView)}}const S6=/(?:https?:\/\/)?[\w-]+(?:\.[\w-]+)+\.?(?:\d+)?(?:\/\S*)?$/,x1=t=>{const e=[];return t.forEach(n=>{if(n.isText){const r=n.text;let i=0;const o=S6.exec(r);if(o){const s=o.index,a=s+o[0].length,{link:l}=n.type.schema.marks;s>0&&e.push(n.cut(i,s));const c=r.slice(s,a);e.push(n.cut(s,a).mark(l.create({href:c}).addToSet(n.marks))),i=a}i<r.length&&e.push(n.cut(i))}else e.push(n.copy(x1(n.content)))}),w.fromArray(e)},T1=t=>"string"==typeof t,N1=t=>window.trustedTypes?.isHTML(t)??!1,A1=t=>T1(t)||N1(t),k1={type:"doc",content:[{type:"paragraph"}]},Tl=(t,e)=>{if(!t)return e.nodeFromJSON(k1);if(!A1(t))return e.nodeFromJSON(t);const n=((t,e)=>{const n=e??Qi,r=document.createElement("div");return r.innerHTML=t,zi.fromSchema(n).parse(r).toJSON()})(t,e);return e.nodeFromJSON(n)};let A6=(()=>{class t{constructor(n,r,i){this.renderer=n,this.injector=r,this.elementRef=i,this.placeholder="Type Here...",this.focusOut=new De,this.focusIn=new De,this.unsubscribe=new dt,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(n){!this.outputFormat&&A1(n)&&(this.outputFormat="html"),this.editor.setContent(n??k1)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.setMeta("UPDATE_EDITABLE",!n),this.renderer.setProperty(this.elementRef.nativeElement,"disabled",n)}handleChange(n){if("html"!==this.outputFormat)this.onChange(n);else{const r=((t,e)=>{const n=this.editor.schema??Qi,r=n.nodeFromJSON(t),i=Kn.fromSchema(n).serializeFragment(r.content),o=document.createElement("div");return o.appendChild(i),o.innerHTML})(n);this.onChange(r)}}setMeta(n,r){const{dispatch:i,state:{tr:o}}=this.editor.view;i(o.setMeta(n,r))}setPlaceholder(n){this.setMeta("UPDATE_PLACEHOLDER",n)}registerPlugins(){this.editor.registerPlugin(y6()),this.editor.registerPlugin(_6(this.placeholder)),this.editor.registerPlugin(((t={})=>new Yn({key:new Mr("attributes"),props:{attributes:t}}))({class:"NgxEditor__Content"})),this.editor.registerPlugin((t=>new Yn({key:new Mr("focus"),props:{handleDOMEvents:{focus:()=>(t(),!1)}}}))(()=>{this.focusIn.emit()})),this.editor.registerPlugin((t=>new Yn({key:new Mr("blur"),props:{handleDOMEvents:{blur:()=>(t(),!1)}}}))(()=>{this.focusOut.emit(),this.onTouched()})),this.editor.features.resizeImage&&this.editor.registerPlugin((t=>new Yn({key:new Mr("image-resize"),props:{nodeViews:{image:(e,n,r)=>new E6(e,n,r,t)}}}))(this.injector)),this.editor.features.linkOnPaste&&this.editor.registerPlugin(new Yn({key:new Mr("linkify"),props:{transformPasted:t=>new I(x1(t.content),t.openStart,t.openEnd)}}))}ngOnInit(){if(!this.editor)throw new gm("Required editor instance for initializing editor component");this.registerPlugins(),this.renderer.appendChild(this.ngxEditor.nativeElement,this.editor.view.dom),this.editor.valueChanges.pipe($0(this.unsubscribe)).subscribe(n=>{this.handleChange(n)})}ngOnChanges(n){n.placeholder&&!n.placeholder.isFirstChange()&&this.setPlaceholder(n.placeholder.currentValue)}ngOnDestroy(){this.unsubscribe.next(),this.unsubscribe.complete()}static#e=this.\u0275fac=function(r){return new(r||t)(_(Vn),_(_t),_(ze))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-editor"]],viewQuery:function(r,i){if(1&r&&xp(V5,7),2&r){let o;ou(o=su())&&(i.ngxEditor=o.first)}},inputs:{editor:"editor",outputFormat:"outputFormat",placeholder:"placeholder"},outputs:{focusOut:"focusOut",focusIn:"focusIn"},features:[_e([{provide:bn,useExisting:fe(()=>t),multi:!0}]),$t],ngContentSelectors:B5,decls:3,vars:0,consts:[[1,"NgxEditor"],["ngxEditor",""]],template:function(r,i){1&r&&(function JD(t){const e=C()[Ae][tt];if(!e.projection){const r=e.projection=ta(t?t.length:1,null),i=r.slice();let o=e.child;for(;null!==o;){const s=t?GP(o,t):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),W(0,"div",0,1),function KD(t,e=0,n){const r=C(),i=Q(),o=Fo(i,Z+t,16,null,n||null);null===o.projection&&(o.projection=e),xf(),(!r[lr]||ho())&&32!=(32&o.flags)&&function Uk(t,e,n){eC(e[j],0,e,n,th(t,n,e),J_(n.parent||e[tt],n,e))}(i,r,o)}(2),G())},styles:['.NgxEditor{background:#fff;color:#000;background-clip:padding-box;border-radius:4px;border:1px solid rgba(0,0,0,.2);position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder:before{color:#6c757d;opacity:1;-webkit-user-select:none;user-select:none;position:absolute;cursor:text;content:attr(data-placeholder)}.NgxEditor__Placeholder[data-align=right]:before{position:relative}.NgxEditor__Content{padding:8px;white-space:pre-wrap;outline:none;font-variant-ligatures:none;font-feature-settings:"liga" 0}.NgxEditor__Content p{margin:0 0 10px}.NgxEditor__Content blockquote{padding-left:16px;border-left:3px solid #ddd;margin-left:0;margin-right:0}.NgxEditor__Content--Disabled{-webkit-user-select:none;user-select:none;pointer-events:none}.NgxEditor__Wrapper{border:1px solid rgba(0,0,0,.4);border-radius:4px}.NgxEditor__Wrapper .NgxEditor__MenuBar{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom:1px solid rgba(0,0,0,.2)}.NgxEditor__Wrapper .NgxEditor{border-top-left-radius:0;border-top-right-radius:0;border:none}.NgxEditor__MenuBar{display:flex;flex-wrap:wrap;padding:3px;cursor:default;background-color:#fff}.NgxEditor__MenuItem{border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;flex-shrink:0}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:30px;width:30px;transition:.3s ease-in-out}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{display:flex;height:100%;width:100%;align-items:center;justify-content:center}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 5px}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active,.NgxEditor__MenuItem .NgxEditor__MenuItem--Active{background-color:#e8f0fe;color:#1a73e8}.NgxEditor__Dropdown{min-width:64px;position:relative;display:flex;align-items:center;flex-shrink:0}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{display:flex;align-items:center;justify-content:center;padding:0 5px;height:100%;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{display:inline-block;content:"";margin-left:24px;vertical-align:4px;border-top:4px solid;border-right:4px solid transparent;border-bottom:0;border-left:4px solid transparent}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{position:absolute;left:0;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;width:100%;top:32px}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{padding:8px;white-space:nowrap;color:inherit}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown .NgxEditor__Dropdown--Selected,.NgxEditor__Dropdown .NgxEditor__Dropdown--Open{color:#1a73e8;background-color:#e8f0fe}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--DropdownMenu{top:unset;bottom:32px}.NgxEditor__MenuBar--Reverse .NgxEditor__Dropdown--Text:after{transform:rotate(180deg)}.NgxEditor__MenuBar--Reverse .NgxEditor__Popup{top:unset;bottom:32px}.NgxEditor__Popup{position:absolute;top:32px;box-shadow:#3c404326 0 2px 6px 2px;border-radius:4px;background-color:#fff;z-index:10;min-width:192px;padding:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 5px}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}\n'],encapsulation:2})}return t})(),ci=(()=>{class t{constructor(){this.customMenuRefChange=new dt}setCustomMenuRef(n){this.customMenuRefChange.next(n)}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class Is{constructor(e){this.name=e}apply(){return(e,n)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&C1(i)(e,n)}}toggle(){return(e,n)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&Ss(i)(e,n)}}isActive(e){const{schema:n}=e,r=n.marks[this.name];return!!r&&uy(e,r)}canExecute(e){return this.toggle()(e)}}class Pd{constructor(e=!1){this.isBulletList=!1,this.isBulletList=e}getType(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list}toggle(){return(e,n)=>{const{schema:r}=e,i=this.getType(r);return!!i&&(this.isActive(e)?e1(r.nodes.list_item)(e,n):function I8(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&0==s.startIndex){if(0==i.index(s.depth-1))return!1;let u=n.doc.resolve(s.start-2);l=new hd(u,u,s.depth),s.endIndex<s.parent.childCount&&(s=new hd(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let c=Mm(l,t,e,s);return!!c&&(r&&r(function x8(t,e,n,r,i){let o=w.empty;for(let u=n.length-1;u>=0;u--)o=w.from(n[u].type.create(n[u].attrs,o));t.step(new Ye(e.start-(r?2:0),e.end,e.start,e.end,new I(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,f=!0;u<d;u++,f=!1)!f&&gs(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}(n.tr,s,c,a,t).scrollIntoView()),!0)}}(i)(e,n))}}isActive(e){const{schema:n}=e,r=this.getType(n);return!!r&&m1(e,r)}canExecute(e){return this.toggle()(e)}}class Xi{constructor(e){this.level=e}apply(){return(e,n)=>{const{schema:r}=e,i=r.nodes.heading;return!!i&&ay(i)(e,n)}}toggle(){return(e,n)=>{const{schema:r,selection:i,doc:o}=e,s=r.nodes.heading;if(!s)return!1;const a=i.$from.before(1),c=o.nodeAt(a)?.attrs??{};return this.isActive(e)?ay(r.nodes.paragraph,c)(e,n):ay(s,{...c,level:this.level})(e,n)}}isActive(e){const{schema:n}=e,r=y1(e),i=n.nodes.heading;if(!i)return!1;const o=[i,n.nodes.text,n.nodes.blockquote];return!!r.filter(l=>o.includes(l.type)).find(l=>l.attrs.level===this.level)}canExecute(e){return this.toggle()(e)}}class Nl{constructor(e){this.align=e}toggle(){return(e,n)=>{const{doc:r,selection:i,tr:o,schema:s}=e,{from:a,to:l}=i;let c=!1;return r.nodesBetween(a,l,(u,d)=>{const f=u.type;return[s.nodes.paragraph,s.nodes.heading].includes(f)&&(c=!0,o.setNodeMarkup(d,f,{...u.attrs,align:this.align})),!0}),!!c&&(o.docChanged&&n?.(o),!0)}}isActive(e){return!!y1(e).find(i=>i.attrs.align===this.align)}canExecute(e){return this.toggle()(e)}}const R6={strict:!0};let my=class{update(e){return(n,r)=>{const{schema:i,selection:o}=n,s=i.marks.link;return!(!s||o.empty)&&Ss(s,e)(n,r)}}insert(e,n){return(r,i)=>{const{schema:o,tr:s}=r;if(!o.marks.link)return!1;const c=o.text(e,[o.marks.link.create({href:n.href,title:n.title??e,target:n.target??"_blank"})]);return s.replaceSelectionWith(c,!1).scrollIntoView(),!!s.docChanged&&(i?.(s),!0)}}isActive(e,n=R6){if(n.strict)return!0;const{schema:r}=e,i=r.marks.link;return!!i&&uy(e,i)}remove(e,n){return((t,e)=>{const{doc:n,selection:r,tr:i}=t,{$head:{pos:o},from:s,to:a}=r;if(s===a){const l=n.resolve(o),c=o-l.textOffset,u=c+l.parent.child(l.index()).nodeSize;i.removeMark(c,u)}else i.removeMark(s,a);return!!i.docChanged&&(e?.(i),!0)})(e,n)}canExecute(e){const n={href:""};return this.insert("Exec",n)(e)||this.update(n)(e)}},O1=class{insert(e,n){return(r,i)=>{const{schema:o,tr:s,selection:a}=r,l=o.nodes.image;if(!l)return!1;const c={width:null,src:e,...n};!c.width&&a instanceof F&&a.node.type===l&&(c.width=a.node.attrs.width),s.replaceSelectionWith(l.createAndFill(c));const u=s.doc.resolve(s.selection.anchor-s.selection.$anchor.nodeBefore.nodeSize);return s.setSelection(new F(u)).scrollIntoView(),!!s.docChanged&&(i?.(s),!0)}}isActive(e){const{selection:n}=e;return n instanceof F&&"image"===n.node.type.name}},xs=class{constructor(e,n="color"){this.name=e,this.attrName=n}apply(e){return(n,r)=>{const{schema:i,selection:o,doc:s}=n,a=i.marks[this.name];if(!a)return!1;const{from:l,to:c,empty:u}=o;if(!u&&l+1===c){const d=s.nodeAt(l);if(d?.isAtom&&!d.isText&&d.isLeaf)return!1}return C1(a,e)(n,r)}}isActive(e){const{schema:n}=e,r=n.marks[this.name];return!!r&&uy(e,r)}getActiveColors(e){if(!this.isActive(e))return[];const{schema:n}=e;return(t=>{let e=[];const{selection:n,storedMarks:r}=t,{from:i,to:o,empty:s,$from:a}=n;return s?e=r||a.marks():t.doc.nodesBetween(i,o,l=>{e=[...e,...l.marks]}),e})(e).filter(o=>o.type===n.marks[this.name]).map(o=>o.attrs[this.attrName]).filter(Boolean)}remove(){return(e,n)=>{const{schema:r}=e,i=r.marks[this.name];return!!i&&(t=i,(e,n)=>{const{tr:r,selection:i,storedMarks:o,doc:s}=e,{empty:a,ranges:l}=i;if(a&&i instanceof ue){const{$cursor:c}=i;if(!c||!v1(e.doc,l,t))return!1;if(t.isInSet(o||c.marks()))return r.removeStoredMark(t),n?.(r),!0}else{for(const c of l){const{$from:u,$to:d}=c;s.rangeHasMark(u.pos,d.pos,t)&&r.removeMark(u.pos,d.pos,t)}if(!r.docChanged)return!1;n?.(r.scrollIntoView())}return!1})(e,n);var t}}canExecute(e){return this.apply("text_color"===this.name?{color:""}:{backgroundColor:""})(e)}};const P6=["link"],L6=new Is("strong"),V6=new Is("em"),B6=new Is("code"),H6=new Is("u"),j6=new Is("s"),$6=new class k6{toggle(){return(e,n)=>{const{schema:r}=e,i=r.nodes.blockquote;return!!i&&(this.isActive(e)?((t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&pl(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)})(e,n):function n5(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&Mm(s,t,e);return!!a&&(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0)}}(i)(e,n))}}isActive(e){const{schema:n}=e,r=n.nodes.blockquote;return!!r&&m1(e,r)}canExecute(e){return this.toggle()(e)}},U6=new class O6{insert(){return(e,n)=>{const{schema:r,tr:i}=e,o=r.nodes.horizontal_rule;return!!o&&(n(i.replaceSelectionWith(o.create()).scrollIntoView()),!0)}}canExecute(e){return((t,e)=>{const{$from:n}=t.selection;for(let r=n.depth;r>=0;r-=1){const i=n.index(r);if(n.node(r).canReplaceWith(i,i,e))return!0}return!1})(e,e.schema.nodes.horizontal_rule)}},z6=new class F6{insert(){return(e,n)=>{const{tr:r}=e,{ranges:i,empty:o}=r.selection;return o||(Object.entries(e.schema.marks).forEach(([s,a])=>{P6.includes(s)||i.forEach(l=>{r.removeMark(l.$from.pos,l.$to.pos,a)})}),n(r)),!0}}canExecute(){return!0}},G6=new Pd(!0),q6=new Pd(!1),W6=new Xi(1),J6=new Xi(2),K6=new Xi(3),Z6=new Xi(4),Y6=new Xi(5),Q6=new Xi(6),X6=new Nl("left"),eG=new Nl("center"),tG=new Nl("right"),nG=new Nl("justify"),rG=new my,iG=new O1,oG=new xs("text_color","color"),sG=new xs("text_background_color","backgroundColor"),Fd={bold:L6,italic:V6,code:B6,underline:H6,strike:j6,blockquote:$6,bullet_list:G6,ordered_list:q6,h1:W6,h2:J6,h3:K6,h4:Z6,h5:Y6,h6:Q6,align_left:X6,align_center:eG,align_right:tG,align_justify:nG},R1={horizontal_rule:U6,format_clear:z6},Al=rG,P1=iG,aG=oG,lG=sG,yy={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",horizontal_rule:"Horizontal rule",format_clear:"Clear Formatting",insertLink:"Insert Link",removeLink:"Remove Link",insertImage:"Insert Image",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"};class cG{constructor(e={}){this.locals=yy,this.get=n=>{const r=this.locals[n];return r?R0(r)?r:O(r):O("")},this.locals={...yy,...e}}}const F1={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n',italic:'\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n',bullet_list:'\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n',image:'\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n',horizontal_rule:'\n  <g>\n    <rect fill="none" fill-rule="evenodd" height="24" width="24"/>\n    <rect fill-rule="evenodd" height="2" width="16" x="4" y="11"/>\n  </g>\n',format_clear:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"/>\n',path:"<path></path>"};class kG{static get(e,n="currentColor"){const r=F1[e];return r&&(r.includes("<path")||r.includes("<g"))?`\n        <svg\n          xmlns="http://www.w3.org/2000/svg"\n          viewBox="0 0 24 24"\n          fill=${n}\n          height=20\n          width=20\n        >\n          ${r}\n        </svg>\n      `:r}}let vy=(()=>{class t{constructor(){this.locals={},this.icons={}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eo=(()=>{class t{constructor(n){this.config=n}get locals(){return new cG(this.config.locals)}getIcon(n){return this.config.icons[n]?this.config.icons[n]:kG.get(n)}static#e=this.\u0275fac=function(r){return new(r||t)(N(vy,8))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const L1=t=>({locals:t.locals??{},icons:t.icons??{}});let Ts=(()=>{class t{constructor(n){this.sanitizer=n}transform(n){return N1(n)?n:this.sanitizer.bypassSecurityTrustHtml(n)}static#e=this.\u0275fac=function(r){return new(r||t)(_(A0,16))};static#t=this.\u0275pipe=ht({name:"sanitizeHtml",type:t,pure:!0})}return t})(),OG=(()=>{class t{get name(){return this.toolbarItem}constructor(n,r){this.ngxeService=n,this.menuService=r,this.isActive=!1,this.disabled=!1,this.update=i=>{const{state:o}=i,s=Fd[this.name];this.isActive=s.isActive(o),this.disabled=!s.canExecute(o)}}toggle(n){if(n.preventDefault(),0!==n.button)return;const{state:r,dispatch:i}=this.editorView;Fd[this.name].toggle()(r,i)}getTitle(n){return this.ngxeService.locals.get(n)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(eo),_(ci))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-toggle-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:10,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.toggle(s)}),Me(1,"sanitizeHtml"),Me(2,"async"),G()),2&r&&($n("NgxEditor__MenuItem--Active",i.isActive)("NgxEditor--Disabled",i.disabled),A("innerHTML",Se(1,6,i.html),xo)("title",Se(2,8,i.getTitle(i.name))))},dependencies:[ki,Ts]})}return t})(),RG=(()=>{class t{get name(){return this.toolbarItem}constructor(n,r){this.ngxeService=n,this.menuService=r,this.disabled=!1,this.update=i=>{const{state:o}=i;this.disabled=!R1[this.name].canExecute(o)}}insert(n){if(n.preventDefault(),0!==n.button)return;const{state:r,dispatch:i}=this.editorView;R1[this.name].insert()(r,i)}getTitle(n){return this.ngxeService.locals.get(n)}ngOnInit(){this.html=this.ngxeService.getIcon(this.name),this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(eo),_(ci))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-insert-command"]],inputs:{toolbarItem:"toolbarItem"},decls:3,vars:8,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.insert(s)}),Me(1,"sanitizeHtml"),Me(2,"async"),G()),2&r&&($n("NgxEditor--Disabled",i.disabled),A("innerHTML",Se(1,4,i.html),xo)("title",Se(2,6,i.getTitle(i.name))))},dependencies:[ki,Ts]})}return t})();const V1={showOpenInNewTab:!0};let PG=(()=>{class t{constructor(n,r,i){this.el=n,this.ngxeService=r,this.menuService=i,this.options=V1,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.componentId=KS(),this.setText=()=>{const{state:{selection:o,doc:s}}=this.editorView,{empty:a,from:l,to:c}=o,u=a?"":s.textBetween(l,c);u&&(this.text.patchValue(u),this.text.disable())},this.update=o=>{const{state:s}=o;this.isActive=Al.isActive(s,{strict:!1}),this.canExecute=Al.canExecute(s)}}get icon(){return this.ngxeService.getIcon(this.isActive?"unlink":"link")}get title(){return this.ngxeService.locals.get(this.isActive?"removeLink":"insertLink")}get href(){return this.form.get("href")}get text(){return this.form.get("text")}onDocumentClick(n){!this.el.nativeElement.contains(n.target)&&this.showPopup&&this.hideForm()}getId(n){return`${n}-${this.componentId}`}getLabel(n){return this.ngxeService.locals.get(n)}hideForm(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()}onMouseDown(n){if(0!==n.button)return;const{state:r,dispatch:i}=this.editorView;this.isActive?Al.remove(r,i):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}insertLink(n){n.preventDefault();const{text:r,href:i,openInNewTab:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView,{selection:l}=a;let c;this.options.showOpenInNewTab&&(c=o?"_blank":"_self");const u={title:i,href:i,target:c};l.empty?(Al.insert(r,u)(a,s),this.editorView.focus()):Al.update(u)(a,s),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.form=new Vi({href:new En("",[il.required,il.pattern(this.menuService.editor.linkValidationPattern)]),text:new En("",[il.required]),openInNewTab:new En(!0)}),this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(ze),_(eo),_(ci))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-link"]],hostBindings:function(r,i){1&r&&X("mousedown",function(s){return i.onDocumentClick(s)},0,ha)},inputs:{options:["options","options",n=>({...V1,...n})]},features:[Kh],decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","href","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","text","autocomplete","off",3,"id"],["class","NgxEditor__Popup--FormGroup",4,"ngIf"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"],["type","checkbox","formControlName","openInNewTab"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.onMouseDown(s)}),Me(1,"sanitizeHtml"),Me(2,"async"),G(),we(3,U5,20,18,"div",1)),2&r&&($n("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),A("innerHTML",Se(1,7,i.icon),xo)("title",Se(2,9,i.title)),k(3),A("ngIf",i.showPopup))},dependencies:[Ai,ld,rl,Kg,Qu,Xu,fs,ul,ki,Ts]})}return t})(),FG=(()=>{class t{constructor(n,r,i){this.ngxeService=n,this.menuService=r,this.el=i,this.isDropdownOpen=!1,this.disabledItems=[],this.update=o=>{const{state:s}=o;this.disabledItems=[];const a=[];this.items.forEach(l=>{const c=Fd[l];c.isActive(s)&&a.push(l),c.canExecute(s)||this.disabledItems.push(l)}),1===a.length?[this.activeItem]=a:this.activeItem=null}}get isSelected(){return!(!this.activeItem&&!this.isDropdownOpen)}get isDropdownDisabled(){return this.disabledItems.length===this.items.length}onDocumentClick(n){!this.el.nativeElement.contains(n)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)}getName(n){return this.ngxeService.locals.get(n)}toggleDropdown(n){n.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen}trackByIndex(n){return n}onClick(n,r){if(n.preventDefault(),0!==n.button)return;const i=Fd[r],{state:o,dispatch:s}=this.editorView;i.toggle()(o,s),this.isDropdownOpen=!1}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(eo),_(ci),_(ze))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-dropdown"]],hostBindings:function(r,i){1&r&&X("mousedown",function(s){return i.onDocumentClick(s.target)},0,ha)},inputs:{group:"group",items:"items"},decls:4,vars:8,consts:[[1,"NgxEditor__Dropdown--Text",3,"mousedown"],["class","NgxEditor__Dropdown--DropdownMenu",4,"ngIf"],[1,"NgxEditor__Dropdown--DropdownMenu"],["class","NgxEditor__Dropdown--Item",3,"ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Dropdown--Item",3,"ngClass","mousedown"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.toggleDropdown(s)}),Ze(1),Me(2,"async"),G(),we(3,q5,2,2,"div",1)),2&r&&($n("NgxEditor__Dropdown--Selected",i.isSelected)("NgxEditor--Disabled",i.isDropdownDisabled),k(1),Gn(" ",Se(2,6,i.getName(i.activeItem||i.group)),"\n"),k(2),A("ngIf",i.isDropdownOpen))},dependencies:[La,Iu,Ai,ki]})}return t})(),LG=(()=>{class t{constructor(n,r,i){this.el=n,this.ngxeService=r,this.menuService=i,this.showPopup=!1,this.isActive=!1,this.componentId=KS(),this.form=new Vi({src:new En("",[il.required,il.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)")]),alt:new En(""),title:new En("")}),this.update=o=>{const{state:s}=o;this.isActive=P1.isActive(s)}}get icon(){return this.ngxeService.getIcon("image")}get src(){return this.form.get("src")}onDocumentClick(n){!this.el.nativeElement.contains(n.target)&&this.showPopup&&this.hideForm()}getId(n){return`${n}-${this.componentId}`}getLabel(n){return this.ngxeService.locals.get(n)}hideForm(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})}onMouseDown(n){0===n.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())}fillForm(){const{state:n}=this.editorView,{selection:r}=n;if(r instanceof F&&this.isActive){const{src:i,alt:o="",title:s=""}=r.node.attrs;this.form.setValue({src:i,alt:o,title:s})}}insertLink(n){n.preventDefault();const{src:r,alt:i,title:o}=this.form.getRawValue(),{dispatch:s,state:a}=this.editorView;P1.insert(r,{alt:i,title:o})(a,s),this.editorView.focus(),this.hideForm()}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(ze),_(eo),_(ci))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-image"]],hostBindings:function(r,i){1&r&&X("mousedown",function(s){return i.onDocumentClick(s)},0,ha)},decls:4,vars:9,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],[1,"NgxEditor__Popup--Form",3,"formGroup","ngSubmit"],[1,"NgxEditor__Popup--FormGroup"],[1,"NgxEditor__Popup--Col"],[1,"NgxEditor__Popup--Label",3,"htmlFor"],["type","href","formControlName","src","autocomplete","off",3,"id"],["class","NgxEditor__HelpText NgxEditor__HelpText--Error",4,"ngIf"],["type","text","formControlName","alt","autocomplete","off",3,"id"],["type","text","formControlName","title","autocomplete","off",3,"id"],["type","submit",3,"disabled"],[1,"NgxEditor__HelpText","NgxEditor__HelpText--Error"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.onMouseDown(s)}),Me(1,"sanitizeHtml"),Me(2,"async"),G(),we(3,J5,24,21,"div",1)),2&r&&($n("NgxEditor__MenuItem--Active",i.isActive||i.showPopup),A("innerHTML",Se(1,5,i.icon),xo)("title",Se(2,7,i.getLabel("insertImage"))),k(3),A("ngIf",i.showPopup))},dependencies:[Ai,ld,rl,Qu,Xu,fs,ul,ki,Ts]})}return t})(),VG=(()=>{class t{constructor(n,r,i){this.el=n,this.menuService=r,this.ngxeService=i,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=o=>{const{state:s}=o;this.canExecute=this.command.canExecute(s),this.isActive=this.command.isActive(s),this.activeColors=[],this.isActive&&(this.activeColors=this.command.getActiveColors(s))}}get title(){return this.getLabel("text_color"===this.type?"text_color":"background_color")}get icon(){return this.ngxeService.getIcon("text_color"===this.type?"text_color":"color_fill")}get command(){return"text_color"===this.type?aG:lG}getContrastYIQ(n){const r=n.replace("#","");return(299*parseInt(r.substring(0,2),16)+587*parseInt(r.substring(2,4),16)+114*parseInt(r.substring(4,6),16))/1e3>=128?"black":"white"}onDocumentClick(n){!this.el.nativeElement.contains(n.target)&&this.showPopup&&this.hidePopup()}hidePopup(){this.showPopup=!1}togglePopup(n){n.preventDefault(),0===n.button&&(this.showPopup=!this.showPopup)}remove(n){n.preventDefault();const{state:r,dispatch:i}=this.editorView;this.command.remove()(r,i),this.hidePopup()}trackByIndex(n){return n}onColorSelect(n,r){if(n.preventDefault(),0!==n.button)return;const{state:i,dispatch:o}=this.editorView;"text_color"===this.type?this.command.apply({color:r})(i,o):this.command.apply({backgroundColor:r})(i,o),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}getLabel(n){return this.ngxeService.locals.get(n)}ngOnInit(){this.editorView=this.menuService.editor.view,this.updateSubscription=this.menuService.editor.update.subscribe(n=>{this.update(n)})}ngOnDestroy(){this.updateSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||t)(_(ze),_(ci),_(eo))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-color-picker"]],hostBindings:function(r,i){1&r&&X("mousedown",function(s){return i.onDocumentClick(s)},0,ha)},inputs:{presets:"presets",type:"type"},decls:4,vars:11,consts:[[1,"NgxEditor__MenuItem--IconContainer",3,"innerHTML","title","mousedown"],["class","NgxEditor__Popup",4,"ngIf"],[1,"NgxEditor__Popup"],["class","NgxEditor__ColorContainer",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__MenuItem--Button",3,"disabled","mousedown"],[1,"NgxEditor__ColorContainer"],["class","NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"NgxEditor__Color",3,"ngStyle","title","ngClass","mousedown"]],template:function(r,i){1&r&&(W(0,"div",0),X("mousedown",function(s){return i.togglePopup(s)}),Me(1,"sanitizeHtml"),Me(2,"async"),G(),we(3,X5,5,6,"div",1)),2&r&&($n("NgxEditor__MenuItem--Active",i.isActive||i.showPopup)("NgxEditor--Disabled",!i.canExecute),A("innerHTML",Se(1,7,i.icon),xo)("title",Se(2,9,i.title)),k(3),A("ngIf",i.showPopup))},dependencies:[La,Iu,Ai,r0,ki,Ts],styles:['@charset "UTF-8";.NgxEditor__Popup[_ngcontent-%COMP%]{width:230px}.NgxEditor__ColorContainer[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.NgxEditor__ColorContainer[_ngcontent-%COMP%] + .NgxEditor__ColorContainer[_ngcontent-%COMP%]{margin-top:5px}.NgxEditor__Color[_ngcontent-%COMP%]{border:none;outline:none;border-radius:6px;width:24px;height:24px;flex-shrink:0}.NgxEditor__Color--Active[_ngcontent-%COMP%]:after{content:"\\2714";font-size:90%}.NgxEditor__MenuItem--Button[_ngcontent-%COMP%]{margin-top:5px}']})}return t})();const BG=[["bold","italic"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"]],HG=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"];let jG=(()=>{class t{constructor(n){this.menuService=n,this.toolbar=BG,this.colorPresets=HG,this.disabled=!1,this.customMenuRef=null,this.dropdownPlacement="bottom",this.toggleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.insertCommands=["horizontal_rule","format_clear"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"]}get presets(){const r=[];return this.colorPresets.forEach((i,o)=>{const s=Math.floor(o/8);r[s]||r.push([]),r[s].push(i)}),r}trackByIndex(n){return n}isDropDown(n){return!!n?.heading}getDropdownItems(n){return n}isLinkItem(n){return"link"===n||"object"==typeof n&&"object"==typeof n?.link}isLinkWithOptions(n){return"object"==typeof n&&"object"==typeof n?.link}getLinkOptions(n){return n?.link}ngOnInit(){if(!this.editor)throw new gm("Required editor instance to initialize menu component");this.menuService.editor=this.editor}static#e=this.\u0275fac=function(r){return new(r||t)(_(ci))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["ngx-editor-menu"]],inputs:{toolbar:"toolbar",colorPresets:"colorPresets",disabled:"disabled",editor:"editor",customMenuRef:"customMenuRef",dropdownPlacement:"dropdownPlacement"},features:[_e([ci])],decls:3,vars:7,consts:[[1,"NgxEditor__MenuBar",3,"ngClass"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"toolbarItem","class",4,"ngIf"],[3,"class",4,"ngIf"],["type","text_color",3,"class","presets",4,"ngIf"],["type","background_color",3,"class","presets",4,"ngIf"],[3,"toolbarItem"],[3,"options"],[3,"class","group","items",4,"ngFor","ngForOf","ngForTrackBy"],[3,"group","items"],["type","text_color",3,"presets"],["type","background_color",3,"presets"],[3,"ngTemplateOutlet"]],template:function(r,i){1&r&&(W(0,"div",0),we(1,u6,2,2,"ng-container",1),we(2,d6,2,1,"ng-container",2),G()),2&r&&(A("ngClass",nu(4,f6,i.disabled,"top"===i.dropdownPlacement)),k(1),A("ngForOf",i.toolbar)("ngForTrackBy",i.trackByIndex),k(1),A("ngIf",i.customMenuRef))},dependencies:[La,Iu,Ai,o0,OG,RG,PG,FG,LG,VG,s0]})}return t})(),$G=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({providers:[Ts],imports:[xu,WS]})}return t})();const Ld=new M("NgxEditorConfig"),B1={locals:yy,icons:F1};let UG=(()=>{class t{static forRoot(n=B1){return{ngModule:t,providers:[{provide:Ld,useValue:n},{provide:vy,useFactory:L1,deps:[Ld]}]}}static forChild(n=B1){return{ngModule:t,providers:[{provide:Ld,useValue:n},{provide:vy,useFactory:L1,deps:[Ld]},eo]}}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[xu,$G]})}return t})();const H1=t=>null!==t&&"number"==typeof t.length;class j1{static required(e){return n=>(t=>{if(!t)return!0;const{childCount:e,firstChild:n}=t;return!(1!==e||!n?.isTextblock||0!==n.content.size)})(Tl(n.value,e||Qi))?{required:!0}:null}static maxLength(e,n){return r=>{const s=Tl(r.value,n||Qi).textContent;return H1(s)&&s.length>e?{maxlength:{requiredLength:e,actualLength:s.length}}:null}}static minLength(e,n){return r=>{const s=Tl(r.value,n||Qi).textContent;return null!==(t=s)&&0!==t.length&&H1(s)&&s.length<e?{minlength:{requiredLength:e,actualLength:s.length}}:null;var t}}}const un=(t,e=!1)=>(n,r)=>{const i=new Is(t);return e?i.toggle()(n,r):i.apply()(n,r)};class qG{constructor(e){if(this.applyTrx=n=>{this.state=this.state.apply(n??this.tr),this.tr=this.state.tr,this.tr.setMeta("APPLIED_TRX",!0)},this.dispatch=n=>{this.applyTrx(n)},!e)throw new gm("Required view to initialize commands.");this.view=e,this.state=e.state,this.tr=this.view.state.tr}exec(){if(!this.tr.getMeta("APPLIED_TRX"))return!1;const e=!this.view.state.doc.eq(this.state.doc);this.view.updateState(this.state);const n=this.tr.setMeta("FORCE_EMIT",e);return this.view.dispatch(n),!0}focus(e="end"){const n="start"===e?ee.atStart(this.state.doc):ee.atEnd(this.state.doc);return this.tr.setSelection(n),this.applyTrx(),this.view.focus(),this}scrollIntoView(){return this.tr.scrollIntoView(),this.applyTrx(),this}insertText(e){return this.tr.insertText(e),this.applyTrx(),this}insertNewLine(){return xl(s1,l1,c1,sy)(this.state,this.dispatch),this}applyMark(e){return un(e,!1)(this.state,this.dispatch),this}toggleMark(e){return un(e,!0)(this.state,this.dispatch),this}bold(){return un("strong")(this.state,this.dispatch),this}toggleBold(){return un("strong",!0)(this.state,this.dispatch),this}italics(){return un("em")(this.state,this.dispatch),this}toggleItalics(){return un("em",!0)(this.state,this.dispatch),this}underline(){return un("u")(this.state,this.dispatch),this}toggleUnderline(){return un("u",!0)(this.state,this.dispatch),this}strike(){return un("s")(this.state,this.dispatch),this}toggleStrike(){return un("s",!0)(this.state,this.dispatch),this}code(){return un("code")(this.state,this.dispatch),this}toggleCode(){return un("code",!0)(this.state,this.dispatch),this}toggleOrderedList(){return new Pd(!1).toggle()(this.state,this.dispatch),this}toggleBulletList(){return new Pd(!0).toggle()(this.state,this.dispatch),this}toggleHeading(e){return new Xi(e).toggle()(this.state,this.dispatch),this}insertLink(e,n){return(new my).insert(e,n)(this.state,this.dispatch),this}updateLink(e){return(new my).update(e)(this.state,this.dispatch),this}insertImage(e,n={}){return(new O1).insert(e,n)(this.state,this.dispatch),this}textColor(e){return new xs("text_color").apply({color:e})(this.state,this.dispatch),this}backgroundColor(e){return new xs("text_background_color").apply({backgroundColor:e})(this.state,this.dispatch),this}removeTextColor(){return new xs("text_color").remove()(this.state,this.dispatch),this}removeBackgroundColor(){return new xs("text_background_color").remove()(this.state,this.dispatch),this}align(e){return new Nl(e).toggle()(this.state,this.dispatch),this}insertHTML(e){const{selection:n,schema:r,tr:i}=this.state,{from:o,to:s}=n,a=document.createElement("div");a.innerHTML=T1(e)?e.trim():e;const l=zi.fromSchema(r).parseSlice(a),c=i.replaceRange(o,s,l);return this.applyTrx(c),this}}const WG=typeof navigator<"u"&&/Mac/.test(navigator.platform),tq=t=>{const e=g5.concat(u5,c5);return e.push((t=>_1(/(?:^|\s)(?:(\*\*|__)(?:([^*_]+))(\*\*|__))$/,t))(t.marks.strong)),e.push((t=>_1(/(?:^|\s)(?:(\*|_)(?:([^*_]+))(\*|_))$/,t))(t.marks.em)),e.push((t=>cy(/^\s*>\s$/,t))(t.nodes.blockquote)),e.push((t=>cy(/^(?:\d+)\.\s$/,t,e=>({order:Number(e[1])}),(e,n)=>n.childCount+n.attrs.order===Number(e[1])))(t.nodes.ordered_list)),e.push((t=>cy(/^\s*(?:[-+*])\s$/,t))(t.nodes.bullet_list)),e.push((t=>g1(/^```$/,t))(t.nodes.code_block)),e.push(((t,e)=>g1(new RegExp("^(#{1,6})\\s$"),t,n=>({level:n[1].length})))(t.nodes.heading)),function l5({rules:t}){let e=new Yn({state:{init:()=>null,apply(n,r){return n.getMeta(this)||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput:(n,r,i,o)=>p1(n,r,i,o,t,e),handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&p1(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}({rules:e})},rq=(t,e)=>{const n=[];return e.keyboardShortcuts&&n.push(...((t,e)=>{const n={};n["Mod-z"]=I1,WG?n["Shift-Mod-z"]=gy:n["Mod-y"]=gy;const r=[kd({"Mod-b":Ss(t.marks.strong),"Mod-i":Ss(t.marks.em),"Mod-u":Ss(t.marks.u),"Mod-`":Ss(t.marks.code)}),kd({Enter:T8(t.nodes.list_item),"Shift-Enter":xl(a1,(i,o)=>{const{tr:s}=i;return o(s.replaceSelectionWith(t.nodes.hard_break.create()).scrollIntoView()),!0}),"Mod-[":e1(t.nodes.list_item),"Mod-]":t1(t.nodes.list_item),Tab:t1(t.nodes.list_item)}),kd(o5)];return e.history&&r.push(kd(n)),r})(t,{history:e.history})),e.history&&n.push(function R5(t={}){return new Yn({key:nr,state:{init:()=>new li(In.empty,In.empty,null,0,-1),apply:(e,n,r)=>function k5(t,e,n,r){let o,i=n.getMeta(nr);if(i)return i.historyState;n.getMeta(S1)&&(t=new li(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(nr))return s.getMeta(nr).redo?new li(t.done.addTransform(n,void 0,r,Rd(e)),t.undone,b1(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new li(t.done,t.undone.addTransform(n,void 0,r,Rd(e)),null,t.prevTime,t.prevComposition);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new li(t.done.rebased(n,o),t.undone.rebased(n,o),hy(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new li(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),hy(t.prevRanges,n.mapping),t.prevTime,t.prevComposition);{let a=n.getMeta("composition"),l=0==t.prevTime||!s&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function O5(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}(n,t.prevRanges)),c=s?hy(t.prevRanges,n.mapping):b1(n.mapping.maps[n.steps.length-1]);return new li(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,Rd(e)),In.empty,c,n.time,a??t.prevComposition)}}(n,r,e,t)},config:t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i="historyUndo"==r?I1:"historyRedo"==r?gy:null;return!!i&&(n.preventDefault(),i(e.state,e.dispatch))}}}})}()),e.inputRules&&n.push(tq(t)),n},$1={linkOnPaste:!0,resizeImage:!0},U1={content:null,history:!0,keyboardShortcuts:!0,inputRules:!0,schema:Qi,plugins:[],nodeViews:{},attributes:{},features:$1,handleScrollToSelection:null,linkValidationPattern:"(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/??([^#\n\r]*)?#?([^\n\r]*)|(mailto:.*[@].*)"};class iq{constructor(e=U1){this.valueChangesSubject=new dt,this.updateSubject=new dt,this.options={...U1,...e},this.createEditor()}get valueChanges(){return this.valueChangesSubject.asObservable()}get update(){return this.updateSubject.asObservable()}get schema(){return this.options.schema||Qi}get linkValidationPattern(){return this.options.linkValidationPattern}get commands(){return new qG(this.view)}get features(){return{...$1,...this.options.features}}handleTransactions(e){const n=this.view.state.apply(e);if(this.view.updateState(n),this.updateSubject.next(this.view),!e.docChanged&&!e.getMeta("FORCE_EMIT"))return;const r=n.doc.toJSON();this.valueChangesSubject.next(r)}createEditor(){const{options:e,schema:n}=this,{content:r=null,nodeViews:i}=e,{history:o=!0,keyboardShortcuts:s=!0,inputRules:a=!0}=e,l=Tl(r,n),c=e.plugins??[],u=e.attributes??{},d=rq(n,{history:o,keyboardShortcuts:s,inputRules:a});this.view=new D8(null,{state:_s.create({doc:l,schema:n,plugins:[...d,...c]}),nodeViews:i,dispatchTransaction:this.handleTransactions.bind(this),attributes:u,handleScrollToSelection:e.handleScrollToSelection})}setContent(e){if(typeof(t=e)>"u"||null===t)return;var t;const{state:n}=this.view,{tr:r,doc:i}=n,o=Tl(e,this.schema);r.replaceWith(0,n.doc.content.size,o),!i.eq(r.doc)&&r.docChanged&&this.view.dispatch(r)}registerPlugin(e){const{state:n}=this.view,r=[...n.plugins,e],i=n.reconfigure({plugins:r});this.view.updateState(i)}destroy(){this.view.destroy()}}const oq=[{path:"inicio",component:(()=>{class t{constructor(n){this.formBuilder=n,this.editorDesc=new iq({inputRules:!0}),this.html="",this.toolbar=[["bold","italic"],["underline","strike"],["code","blockquote"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"],["horizontal_rule","format_clear"]],this.formEditor=this.formBuilder.group({description:["",[j1.required,j1.minLength(5)]]})}copiarHtml(){navigator.clipboard.writeText(this.formEditor.value.description).then(()=>{document.getElementById("boton").innerText="Copiado"}).catch(r=>{document.getElementById("boton").innerText="intentar de nuevo"}),setTimeout(()=>{document.getElementById("boton").innerText="HTML"},2e3)}demoHtml(){document.getElementById("demo").innerHTML=this.formEditor.value.description}static#e=this.\u0275fac=function(r){return new(r||t)(_(JU))};static#t=this.\u0275cmp=Ht({type:t,selectors:[["app-inicio"]],decls:9,vars:5,consts:[["autocomplete","off",1,"formulario",3,"formGroup"],[1,"NgxEditor__Wrapper"],[1,"NgxEditor__MenuBar",3,"editor","toolbar"],["maxlength","10","formControlName","description",1,"NgxEditor",3,"editor","placeholder"],["id","boton",1,"boton",3,"click"],["id","demo",1,"NgxEditor__Wrapper"]],template:function(r,i){1&r&&(W(0,"form",0)(1,"div",1),ke(2,"ngx-editor-menu",2)(3,"ngx-editor",3),G(),W(4,"div",4),X("click",function(){return i.copiarHtml()}),Ze(5,"HTML"),G(),W(6,"div",4),X("click",function(){return i.demoHtml()}),Ze(7,"Demo"),G(),ke(8,"div",5),G()),2&r&&(A("formGroup",i.formEditor),k(2),A("editor",i.editorDesc)("toolbar",i.toolbar),k(1),A("editor",i.editorDesc)("placeholder","Escribe aqui......"))},dependencies:[A6,jG,ld,Qu,Xu,pm,fs,ul],styles:[".formulario[_ngcontent-%COMP%]{width:100%;min-height:700px;display:grid;place-items:center}.NgxEditor__Wrapper[_ngcontent-%COMP%]{width:90%;min-height:700px;height:auto;max-width:1200px}.boton[_ngcontent-%COMP%]{width:100px;padding:12px 20px;margin-top:20px;text-align:center;border:1px solid black;cursor:pointer}"]})}return t})(),pathMatch:"full"},{path:"",redirectTo:"inicio",pathMatch:"full"}];let sq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[UM.forRoot(oq),UM]})}return t})(),aq=(()=>{class t{constructor(){this.title="editor-texto"}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=Ht({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&ke(0,"router-outlet")},dependencies:[Bg]})}return t})();class Vd{}class Bd{}class rr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof rr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new rr;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof rr?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class lq{encodeKey(e){return z1(e)}encodeValue(e){return z1(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const uq=/%(\d[a-f0-9])/gi,dq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function z1(t){return encodeURIComponent(t).replace(uq,(e,n)=>dq[n]??e)}function Hd(t){return`${t}`}class ui{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new lq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cq(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Hd):[Hd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ui({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Hd(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Hd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fq{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function G1(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function q1(t){return typeof Blob<"u"&&t instanceof Blob}function W1(t){return typeof FormData<"u"&&t instanceof FormData}class kl{constructor(e,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hq(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new rr),this.context||(this.context=new fq),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new ui,this.urlWithParams=n}serializeBody(){return null===this.body?null:G1(this.body)||q1(this.body)||W1(this.body)||function pq(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ui?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||W1(this.body)?null:q1(this.body)?this.body.type||null:G1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ui?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),c)),new kl(n,r,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var Ns=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ns||{});class _y{constructor(e,n=200,r="OK"){this.headers=e.headers||new rr,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Cy extends _y{constructor(e={}){super(e),this.type=Ns.ResponseHeader}clone(e={}){return new Cy({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class As extends _y{constructor(e={}){super(e),this.type=Ns.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new As({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class J1 extends _y{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Dy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let gq=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof kl)o=n;else{let l,c;l=i.headers instanceof rr?i.headers:new rr(i.headers),i.params&&(c=i.params instanceof ui?i.params:new ui({fromObject:i.params})),o=new kl(n,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=O(o).pipe(es(l=>this.handler.handle(l)));if(n instanceof kl||"events"===i.observe)return s;const a=s.pipe(wr(l=>l instanceof As));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(re(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(re(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(re(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new ui).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Dy(i,r))}post(n,r,i={}){return this.request("POST",n,Dy(i,r))}put(n,r,i={}){return this.request("PUT",n,Dy(i,r))}static#e=this.\u0275fac=function(r){return new(r||t)(N(Vd))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Y1(t,e){return e(t)}function yq(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}const _q=new M(""),Ol=new M(""),Q1=new M("");function Cq(){let t=null;return(e,n)=>{null===t&&(t=(S(_q,{optional:!0})??[]).reduceRight(yq,Y1));const r=S(lu),i=r.add();return t(e,n).pipe(ja(()=>r.remove(i)))}}let X1=(()=>{class t extends Vd{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=S(lu)}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ol),...this.injector.get(Q1,[])]));this.chain=i.reduceRight((o,s)=>function vq(t,e,n){return(r,i)=>n.runInContext(()=>e(r,o=>t(o,i)))}(o,s,this.injector),Y1)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ja(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||t)(N(Bd),N(qt))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const Eq=/^\)\]\}',?\n/;let tT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new D(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Be(r.\u0275loadImpl()):O(null)).pipe(fn(()=>new Te(o=>{const s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,m)=>s.setRequestHeader(g,m.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const g=n.detectContentTypeHeader();null!==g&&s.setRequestHeader("Content-Type",g)}if(n.responseType){const g=n.responseType.toLowerCase();s.responseType="json"!==g?g:"text"}const a=n.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const g=s.statusText||"OK",m=new rr(s.getAllResponseHeaders()),y=function Mq(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(s)||n.url;return l=new Cy({headers:m,status:s.status,statusText:g,url:y}),l},u=()=>{let{headers:g,status:m,statusText:y,url:v}=c(),b=null;204!==m&&(b=typeof s.response>"u"?s.responseText:s.response),0===m&&(m=b?200:0);let x=m>=200&&m<300;if("json"===n.responseType&&"string"==typeof b){const B=b;b=b.replace(Eq,"");try{b=""!==b?JSON.parse(b):null}catch(ne){b=B,x&&(x=!1,b={error:ne,text:b})}}x?(o.next(new As({body:b,headers:g,status:m,statusText:y,url:v||void 0})),o.complete()):o.error(new J1({error:b,headers:g,status:m,statusText:y,url:v||void 0}))},d=g=>{const{url:m}=c(),y=new J1({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:m||void 0});o.error(y)};let f=!1;const h=g=>{f||(o.next(c()),f=!0);let m={type:Ns.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),"text"===n.responseType&&s.responseText&&(m.partialText=s.responseText),o.next(m)},p=g=>{let m={type:Ns.UploadProgress,loaded:g.loaded};g.lengthComputable&&(m.total=g.total),o.next(m)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),null!==a&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ns.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),null!==a&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||t)(N(u0))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();const wy=new M("XSRF_ENABLED"),nT=new M("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),rT=new M("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class iT{}let xq=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=YE(n,this.cookieName),this.lastCookieString=n),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||t)(N(wt),N(wi),N(nT))};static#t=this.\u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function Tq(t,e){const n=t.url.toLowerCase();if(!S(wy)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const r=S(iT).getToken(),i=S(rT);return null!=r&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var di=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(di||{});function Nq(...t){const e=[gq,tT,X1,{provide:Vd,useExisting:X1},{provide:Bd,useExisting:tT},{provide:Ol,useValue:Tq,multi:!0},{provide:wy,useValue:!0},{provide:iT,useClass:xq}];for(const n of t)e.push(...n.\u0275providers);return function hh(t){return{\u0275providers:t}}(e)}const oT=new M("LEGACY_INTERCEPTOR_FN");function Aq(){return function to(t,e){return{\u0275kind:t,\u0275providers:e}}(di.LegacyInterceptors,[{provide:oT,useFactory:Cq},{provide:Ol,useExisting:oT,multi:!0}])}let kq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({providers:[Nq(Aq())]})}return t})(),Vq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t});static#n=this.\u0275inj=et({imports:[xu,kq,UG,KU,WS]})}return t})(),Bq=(()=>{class t{static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275mod=ft({type:t,bootstrap:[aq]});static#n=this.\u0275inj=et({imports:[mj,sq,Vq]})}return t})();pj().bootstrapModule(Bq).catch(t=>console.error(t))}},de=>{de(de.s=372)}]);